2026-01-10 05:54:27,887 [INFO] GateNode: ==================================================
2026-01-10 05:54:27,888 [INFO] GateNode: Gate Node starting: gate-001
2026-01-10 05:54:27,889 [INFO] GateNode: Organization: DKUT
2026-01-10 05:54:27,890 [INFO] GateNode: ==================================================
2026-01-10 05:54:27,891 [INFO] GateNode: Initializing storage...
2026-01-10 05:54:27,971 [INFO] storage.face_db: Current sync version: 2026-01-09T12:18:13.184984+00:00
2026-01-10 05:54:28,286 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-10 05:54:28,288 [INFO] GateNode: Storage initialized: 0 faces in database
2026-01-10 05:54:28,289 [INFO] GateNode: Initializing vision pipeline...
2026-01-10 05:54:28,536 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-10 05:54:28,536 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-10 05:54:29,652 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-10 05:54:29,653 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-10 05:54:29,653 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=2, max_age=60, max_emb_dist=1.0
2026-01-10 05:54:29,654 [INFO] GateNode: Vision pipeline initialized
2026-01-10 05:54:29,654 [INFO] GateNode: Initializing gate controller...
2026-01-10 05:54:29,655 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-10 05:54:29,656 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-10 05:54:29,657 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-10 05:54:29,659 [INFO] threads.capture: Capture thread starting...
2026-01-10 05:54:31,450 [INFO] threads.capture: Camera opened: 640x480 @ 15.0fps
2026-01-10 05:54:31,451 [INFO] threads.capture: Capture thread running at 15 FPS target
2026-01-10 05:54:31,486 [INFO] GateNode: Camera opened: 640x480 @ 15fps
2026-01-10 05:54:31,490 [INFO] GateNode: Initializing worker threads...
2026-01-10 05:54:31,493 [INFO] GateNode: Streaming disabled (MQTT/LiveKit not configured or unavailable)
2026-01-10 05:54:31,494 [INFO] GateNode: Worker threads initialized
2026-01-10 05:54:31,497 [INFO] threads.sync: Sync thread started
2026-01-10 05:54:31,497 [INFO] GateNode: Sync thread started
2026-01-10 05:54:31,499 [INFO] threads.sync: [INIT] HNSW database: 0 faces, version: 2026-01-09T12:18:13.184984+00:00
2026-01-10 05:54:31,503 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-09T12:18:13.184984+00:00)
2026-01-10 05:54:31,504 [INFO] threads.ui: UI thread starting in continuous mode
2026-01-10 05:54:31,504 [INFO] GateNode: UI thread started
2026-01-10 05:54:31,506 [INFO] GateNode: Gate Node started successfully
2026-01-10 05:54:31,506 [INFO] GateNode: Starting main vision loop...
2026-01-10 05:54:32,494 [INFO] threads.ui: Display window created: 1280x720
2026-01-10 05:54:33,168 [INFO] threads.sync: API returned: 4 upserts, 0 deletes, version: 2026-01-10T02:54:31.722356+00:00
2026-01-10 05:54:33,215 [INFO] storage.face_db: Added face b7ad2442-3dae-4ab6-b95d-d606599cb00c (Stephen Njiu) with status AUTHORIZED
2026-01-10 05:54:33,219 [INFO] storage.face_db: Added face 3a88d549-655c-491e-a207-cba58728cb48 (Stephen Njiu) with status AUTHORIZED
2026-01-10 05:54:33,225 [INFO] storage.face_db: Added face 25079658-9b13-472c-bee5-27f4649ff4ed (Stephen Njiu) with status AUTHORIZED
2026-01-10 05:54:33,227 [INFO] storage.face_db: Added face 53005694-1f87-48b6-a743-02a5e7d1a956 (Stephen Njiu) with status AUTHORIZED
2026-01-10 05:54:33,228 [INFO] threads.sync: Added/updated 4/4 faces
2026-01-10 05:54:33,315 [INFO] threads.sync: [SYNC OK] 4 upserts, 0 deletes -> 4 faces in DB, version 2026-01-10T02:54:31.722356+00:00
2026-01-10 05:54:54,440 [INFO] threads.ui: Display mode changed to: alert_only
2026-01-10 05:55:06,930 [INFO] threads.ui: Display mode changed to: continuous
2026-01-10 05:55:27,427 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.68)
2026-01-10 05:55:27,429 [INFO] core.gate_control: Gate OPENED (will close in 5.0s)
2026-01-10 05:55:27,664 [INFO] storage.logs: Logged access event #47: AUTHORIZED -> AUTHORIZED
2026-01-10 05:55:27,664 [INFO] GateNode: Track 1 recognized: AUTHORIZED (Stephen Njiu, conf=0.68)
2026-01-10 05:55:32,439 [INFO] core.gate_control: Gate auto-closed
2026-01-10 05:55:45,712 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.61)
2026-01-10 05:55:45,761 [INFO] core.gate_control: Gate OPENED (will close in 5.0s)
2026-01-10 05:55:46,031 [INFO] storage.logs: Logged access event #48: AUTHORIZED -> AUTHORIZED
2026-01-10 05:55:46,032 [INFO] GateNode: Track 2 recognized: AUTHORIZED (Stephen Njiu, conf=0.61)
2026-01-10 05:55:50,776 [INFO] core.gate_control: Gate auto-closed
2026-01-10 05:56:30,983 [INFO] core.gate_control: ACCESS GRANTED: b7ad2442-3dae-4ab6-b95d-d606599cb00c (confidence: 0.70)
2026-01-10 05:56:30,984 [INFO] core.gate_control: Gate OPENED (will close in 5.0s)
2026-01-10 05:56:31,165 [INFO] storage.logs: Logged access event #49: AUTHORIZED -> AUTHORIZED
2026-01-10 05:56:31,165 [INFO] GateNode: Track 3 recognized: AUTHORIZED (Stephen Njiu, conf=0.70)
2026-01-10 05:56:33,516 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T02:54:31.722356+00:00)
2026-01-10 05:56:34,327 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-10T02:56:33.717672+00:00
2026-01-10 05:56:34,328 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-10 05:56:35,988 [INFO] core.gate_control: Gate auto-closed
2026-01-10 05:56:41,559 [INFO] threads.ui: Display mode changed to: alert_only
2026-01-10 05:58:34,521 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T02:54:31.722356+00:00)
2026-01-10 05:58:35,342 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-10T02:58:34.720832+00:00
2026-01-10 05:58:35,349 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-10 06:00:35,564 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T02:54:31.722356+00:00)
2026-01-10 06:00:38,552 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-10T03:00:37.680691+00:00
2026-01-10 06:00:38,553 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-10 06:02:38,711 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T02:54:31.722356+00:00)
2026-01-10 06:02:39,640 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-10T03:02:38.913780+00:00
2026-01-10 06:02:39,641 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-10 06:02:52,740 [INFO] threads.ui: Display mode changed to: continuous
2026-01-10 06:03:07,861 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.62)
2026-01-10 06:03:07,863 [INFO] core.gate_control: Gate OPENED (will close in 5.0s)
2026-01-10 06:03:08,075 [INFO] storage.logs: Logged access event #50: AUTHORIZED -> AUTHORIZED
2026-01-10 06:03:08,076 [INFO] GateNode: Track 5 recognized: AUTHORIZED (Stephen Njiu, conf=0.62)
2026-01-10 06:03:12,866 [INFO] core.gate_control: Gate auto-closed
2026-01-10 06:03:21,606 [INFO] core.gate_control: ACCESS GRANTED: 25079658-9b13-472c-bee5-27f4649ff4ed (confidence: 0.61)
2026-01-10 06:03:21,608 [INFO] core.gate_control: Gate OPENED (will close in 5.0s)
2026-01-10 06:03:21,786 [INFO] storage.logs: Logged access event #51: AUTHORIZED -> AUTHORIZED
2026-01-10 06:03:21,787 [INFO] GateNode: Track 6 recognized: AUTHORIZED (Stephen Njiu, conf=0.61)
2026-01-10 06:03:26,609 [INFO] core.gate_control: Gate auto-closed
2026-01-10 06:04:39,876 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T02:54:31.722356+00:00)
2026-01-10 06:04:40,724 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-10T03:04:40.097103+00:00
2026-01-10 06:04:40,733 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-10 06:06:40,982 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T02:54:31.722356+00:00)
2026-01-10 06:06:42,906 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-10T03:06:42.053256+00:00
2026-01-10 06:06:42,906 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-10 06:08:43,119 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T02:54:31.722356+00:00)
2026-01-10 06:08:43,955 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-10T03:08:43.347476+00:00
2026-01-10 06:08:43,958 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-10 06:09:30,170 [INFO] GateNode: Received signal 2
2026-01-10 06:09:30,171 [INFO] GateNode: Gate Node shutting down...
2026-01-10 06:09:30,172 [INFO] threads.sync: Sync thread stopped
2026-01-10 06:09:30,236 [INFO] threads.ui: UI thread stopped
2026-01-10 06:09:30,865 [INFO] threads.capture: Capture thread stopped
2026-01-10 06:09:30,867 [INFO] storage.logs: Access logger closed
2026-01-10 06:09:30,868 [INFO] GateNode: Gate Node stopped
2026-01-10 06:09:30,869 [INFO] GateNode: ==================================================
2026-01-10 06:09:30,870 [INFO] GateNode: Session Statistics:
2026-01-10 06:09:30,871 [INFO] GateNode:   Runtime: 899.4s
2026-01-10 06:09:30,874 [INFO] GateNode:   Frames processed (AI): 1139
2026-01-10 06:09:30,875 [INFO] GateNode:   Average AI FPS: 1.3
2026-01-10 06:09:30,875 [INFO] GateNode:   Camera capture:
2026-01-10 06:09:30,876 [INFO] GateNode:     - Frames captured: 12130
2026-01-10 06:09:30,877 [INFO] GateNode:     - Capture FPS: 12.7
2026-01-10 06:09:30,877 [INFO] GateNode:     - Frames dropped (AI queue): 10989
2026-01-10 06:09:30,878 [INFO] GateNode:     - Frames dropped (stream): 12125
2026-01-10 06:09:30,878 [INFO] GateNode:   Detection optimization:
2026-01-10 06:09:30,879 [INFO] GateNode:     - Detections run: 1023
2026-01-10 06:09:30,879 [INFO] GateNode:     - Detections skipped: 115
2026-01-10 06:09:30,880 [INFO] GateNode:     - Skip rate: 10.1%
2026-01-10 06:09:30,880 [INFO] GateNode:   Unique tracks created: 6
2026-01-10 06:09:30,881 [INFO] GateNode:   Tracks confirmed: 5
2026-01-10 06:09:30,881 [INFO] GateNode:   Tracks recognized: 5
2026-01-10 06:09:30,882 [INFO] GateNode:   People counts:
2026-01-10 06:09:30,882 [INFO] GateNode:     - Authorized: 5
2026-01-10 06:09:30,882 [INFO] GateNode:     - Wanted: 0
2026-01-10 06:09:30,883 [INFO] GateNode:     - Unknown: 0
2026-01-10 06:09:30,883 [INFO] GateNode:   Gate opens: 5
2026-01-10 06:09:30,884 [INFO] GateNode:     - Authorized: 5
2026-01-10 06:09:30,885 [INFO] GateNode:     - Wanted: 0
2026-01-10 06:09:30,886 [INFO] GateNode:     - Rejected: 0
2026-01-10 06:09:30,887 [INFO] GateNode: ==================================================
2026-01-10 06:09:30,888 [INFO] GateNode: Gate Node shutting down...
2026-01-10 06:09:30,889 [INFO] storage.logs: Access logger closed
2026-01-10 06:09:30,890 [INFO] GateNode: Gate Node stopped
2026-01-10 06:09:30,890 [INFO] GateNode: ==================================================
2026-01-10 06:09:30,890 [INFO] GateNode: Session Statistics:
2026-01-10 06:09:30,891 [INFO] GateNode:   Runtime: 899.4s
2026-01-10 06:09:30,892 [INFO] GateNode:   Frames processed (AI): 1139
2026-01-10 06:09:30,892 [INFO] GateNode:   Average AI FPS: 1.3
2026-01-10 06:09:30,893 [INFO] GateNode:   Camera capture:
2026-01-10 06:09:30,894 [INFO] GateNode:     - Frames captured: 12130
2026-01-10 06:09:30,894 [INFO] GateNode:     - Capture FPS: 12.7
2026-01-10 06:09:30,896 [INFO] GateNode:     - Frames dropped (AI queue): 10989
2026-01-10 06:09:30,898 [INFO] GateNode:     - Frames dropped (stream): 12125
2026-01-10 06:09:30,900 [INFO] GateNode:   Detection optimization:
2026-01-10 06:09:30,902 [INFO] GateNode:     - Detections run: 1023
2026-01-10 06:09:30,904 [INFO] GateNode:     - Detections skipped: 115
2026-01-10 06:09:30,913 [INFO] GateNode:     - Skip rate: 10.1%
2026-01-10 06:09:30,914 [INFO] GateNode:   Unique tracks created: 6
2026-01-10 06:09:30,915 [INFO] GateNode:   Tracks confirmed: 5
2026-01-10 06:09:30,917 [INFO] GateNode:   Tracks recognized: 5
2026-01-10 06:09:30,919 [INFO] GateNode:   People counts:
2026-01-10 06:09:30,920 [INFO] GateNode:     - Authorized: 5
2026-01-10 06:09:30,920 [INFO] GateNode:     - Wanted: 0
2026-01-10 06:09:30,921 [INFO] GateNode:     - Unknown: 0
2026-01-10 06:09:30,922 [INFO] GateNode:   Gate opens: 5
2026-01-10 06:09:30,922 [INFO] GateNode:     - Authorized: 5
2026-01-10 06:09:30,924 [INFO] GateNode:     - Wanted: 0
2026-01-10 06:09:30,924 [INFO] GateNode:     - Rejected: 0
2026-01-10 06:09:30,925 [INFO] GateNode: ==================================================
2026-01-10 06:24:52,749 [INFO] GateNode: ==================================================
2026-01-10 06:24:52,766 [INFO] GateNode: Gate Node starting: gate-001
2026-01-10 06:24:52,767 [INFO] GateNode: Organization: DKUT
2026-01-10 06:24:52,770 [INFO] GateNode: ==================================================
2026-01-10 06:24:52,771 [INFO] GateNode: Initializing storage...
2026-01-10 06:24:52,832 [INFO] storage.face_db: Loaded 4 face records from metadata
2026-01-10 06:24:52,945 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-10 06:24:52,997 [INFO] storage.face_db: Current sync version: 2026-01-10T02:54:31.722356+00:00
2026-01-10 06:24:53,116 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-10 06:24:53,117 [INFO] GateNode: Storage initialized: 4 faces in database
2026-01-10 06:24:53,118 [INFO] GateNode: Initializing vision pipeline...
2026-01-10 06:24:53,501 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-10 06:24:53,502 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-10 06:24:56,621 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-10 06:24:56,642 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-10 06:24:56,676 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=2, max_age=60, max_emb_dist=1.0
2026-01-10 06:24:56,705 [INFO] GateNode: Vision pipeline initialized
2026-01-10 06:24:56,746 [INFO] GateNode: Initializing gate controller...
2026-01-10 06:24:56,810 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-10 06:24:56,835 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-10 06:24:56,840 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-10 06:24:56,841 [INFO] threads.capture: Capture thread starting...
2026-01-10 06:24:59,517 [INFO] threads.capture: Camera opened: 640x480 @ 15.0fps
2026-01-10 06:24:59,518 [INFO] threads.capture: Capture thread running at 15 FPS target
2026-01-10 06:24:59,595 [INFO] GateNode: Camera opened: 640x480 @ 15fps
2026-01-10 06:24:59,599 [INFO] core.alarm: AlarmSystem initialized for platform: windows
2026-01-10 06:24:59,604 [INFO] GateNode: Alarm system initialized
2026-01-10 06:24:59,607 [INFO] GateNode: Initializing worker threads...
2026-01-10 06:24:59,608 [INFO] GateNode: Streaming disabled (MQTT/LiveKit not configured or unavailable)
2026-01-10 06:24:59,608 [INFO] GateNode: Worker threads initialized
2026-01-10 06:24:59,609 [INFO] threads.sync: Sync thread started
2026-01-10 06:24:59,610 [INFO] GateNode: Sync thread started
2026-01-10 06:24:59,610 [INFO] threads.sync: [INIT] HNSW database: 4 faces, version: 2026-01-10T02:54:31.722356+00:00
2026-01-10 06:24:59,611 [INFO] threads.ui_v2: UI thread starting in continuous mode
2026-01-10 06:24:59,611 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T02:54:31.722356+00:00)
2026-01-10 06:24:59,612 [INFO] GateNode: UI thread started
2026-01-10 06:24:59,614 [INFO] GateNode: Gate Node started successfully
2026-01-10 06:24:59,615 [INFO] GateNode: Starting main vision loop...
2026-01-10 06:25:00,281 [INFO] threads.ui_v2: Display window created: 1280x720
2026-01-10 06:25:05,051 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-10T03:25:02.234447+00:00
2026-01-10 06:25:05,052 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-10 06:26:07,803 [INFO] core.gate_control: ACCESS GRANTED: 53005694-1f87-48b6-a743-02a5e7d1a956 (confidence: 0.55)
2026-01-10 06:26:07,805 [INFO] core.gate_control: Gate OPENED (will close in 5.0s)
2026-01-10 06:26:08,069 [INFO] storage.logs: Logged access event #52: AUTHORIZED -> AUTHORIZED
2026-01-10 06:26:08,070 [INFO] GateNode: Track 1 recognized: AUTHORIZED (Stephen Njiu, conf=0.55)
2026-01-10 06:26:12,805 [INFO] core.gate_control: Gate auto-closed
2026-01-10 06:26:31,807 [INFO] GateNode: Received signal 2
2026-01-10 06:26:31,808 [INFO] GateNode: Gate Node shutting down...
2026-01-10 06:26:31,809 [INFO] core.singletons: ONNXSessionManager initialized with providers: ['CPUExecutionProvider']
2026-01-10 06:26:31,810 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-10 06:26:31,811 [INFO] core.singletons: All singleton resources cleaned up
2026-01-10 06:26:31,812 [INFO] threads.sync: Sync thread stopped
2026-01-10 06:26:32,409 [INFO] threads.capture: Capture thread stopped
2026-01-10 06:26:32,411 [INFO] storage.logs: Access logger closed
2026-01-10 06:26:32,412 [INFO] GateNode: Gate Node stopped
2026-01-10 06:26:32,412 [INFO] GateNode: ==================================================
2026-01-10 06:26:32,413 [INFO] GateNode: Session Statistics:
2026-01-10 06:26:32,413 [INFO] GateNode:   Runtime: 92.8s
2026-01-10 06:26:32,414 [INFO] GateNode:   Frames processed (AI): 126
2026-01-10 06:26:32,415 [INFO] GateNode:   Average AI FPS: 1.4
2026-01-10 06:26:32,416 [INFO] GateNode:   Camera capture:
2026-01-10 06:26:32,417 [INFO] GateNode:     - Frames captured: 1174
2026-01-10 06:26:32,417 [INFO] GateNode:     - Capture FPS: 13.7
2026-01-10 06:26:32,418 [INFO] GateNode:     - Frames dropped (AI queue): 1046
2026-01-10 06:26:32,419 [INFO] GateNode:     - Frames dropped (stream): 1169
2026-01-10 06:26:32,419 [INFO] GateNode:   Detection optimization:
2026-01-10 06:26:32,419 [INFO] GateNode:     - Detections run: 115
2026-01-10 06:26:32,420 [INFO] GateNode:     - Detections skipped: 10
2026-01-10 06:26:32,420 [INFO] GateNode:     - Skip rate: 8.0%
2026-01-10 06:26:32,421 [INFO] GateNode:   Unique tracks created: 1
2026-01-10 06:26:32,421 [INFO] GateNode:   Tracks confirmed: 1
2026-01-10 06:26:32,422 [INFO] GateNode:   Tracks recognized: 1
2026-01-10 06:26:32,422 [INFO] GateNode:   People counts:
2026-01-10 06:26:32,422 [INFO] GateNode:     - Authorized: 1
2026-01-10 06:26:32,423 [INFO] GateNode:     - Wanted: 0
2026-01-10 06:26:32,423 [INFO] GateNode:     - Unknown: 0
2026-01-10 06:26:32,424 [INFO] GateNode:   Gate opens: 1
2026-01-10 06:26:32,425 [INFO] GateNode:     - Authorized: 1
2026-01-10 06:26:32,425 [INFO] GateNode:     - Wanted: 0
2026-01-10 06:26:32,426 [INFO] GateNode:     - Rejected: 0
2026-01-10 06:26:32,428 [INFO] GateNode: ==================================================
2026-01-10 06:26:32,429 [INFO] GateNode: Gate Node shutting down...
2026-01-10 06:26:32,429 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-10 06:26:32,430 [INFO] core.singletons: All singleton resources cleaned up
2026-01-10 06:26:32,431 [INFO] storage.logs: Access logger closed
2026-01-10 06:26:32,431 [INFO] GateNode: Gate Node stopped
2026-01-10 06:26:32,431 [INFO] GateNode: ==================================================
2026-01-10 06:26:32,432 [INFO] GateNode: Session Statistics:
2026-01-10 06:26:32,432 [INFO] GateNode:   Runtime: 92.8s
2026-01-10 06:26:32,433 [INFO] GateNode:   Frames processed (AI): 126
2026-01-10 06:26:32,434 [INFO] GateNode:   Average AI FPS: 1.4
2026-01-10 06:26:32,435 [INFO] GateNode:   Camera capture:
2026-01-10 06:26:32,435 [INFO] GateNode:     - Frames captured: 1174
2026-01-10 06:26:32,436 [INFO] GateNode:     - Capture FPS: 13.7
2026-01-10 06:26:32,436 [INFO] GateNode:     - Frames dropped (AI queue): 1046
2026-01-10 06:26:32,437 [INFO] GateNode:     - Frames dropped (stream): 1169
2026-01-10 06:26:32,437 [INFO] GateNode:   Detection optimization:
2026-01-10 06:26:32,440 [INFO] GateNode:     - Detections run: 115
2026-01-10 06:26:32,441 [INFO] GateNode:     - Detections skipped: 10
2026-01-10 06:26:32,442 [INFO] GateNode:     - Skip rate: 8.0%
2026-01-10 06:26:32,453 [INFO] GateNode:   Unique tracks created: 1
2026-01-10 06:26:32,454 [INFO] GateNode:   Tracks confirmed: 1
2026-01-10 06:26:32,454 [INFO] GateNode:   Tracks recognized: 1
2026-01-10 06:26:32,455 [INFO] GateNode:   People counts:
2026-01-10 06:26:32,456 [INFO] GateNode:     - Authorized: 1
2026-01-10 06:26:32,456 [INFO] GateNode:     - Wanted: 0
2026-01-10 06:26:32,457 [INFO] GateNode:     - Unknown: 0
2026-01-10 06:26:32,458 [INFO] GateNode:   Gate opens: 1
2026-01-10 06:26:32,459 [INFO] GateNode:     - Authorized: 1
2026-01-10 06:26:32,460 [INFO] GateNode:     - Wanted: 0
2026-01-10 06:26:32,460 [INFO] GateNode:     - Rejected: 0
2026-01-10 06:26:32,461 [INFO] GateNode: ==================================================
2026-01-10 06:27:22,018 [INFO] GateNode: ==================================================
2026-01-10 06:27:22,019 [INFO] GateNode: Gate Node starting: gate-001
2026-01-10 06:27:22,019 [INFO] GateNode: Organization: DKUT
2026-01-10 06:27:22,020 [INFO] GateNode: ==================================================
2026-01-10 06:27:22,020 [INFO] GateNode: Initializing storage...
2026-01-10 06:27:22,024 [INFO] storage.face_db: Loaded 4 face records from metadata
2026-01-10 06:27:22,029 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-10 06:27:22,030 [INFO] storage.face_db: Current sync version: 2026-01-10T02:54:31.722356+00:00
2026-01-10 06:27:22,035 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-10 06:27:22,036 [INFO] GateNode: Storage initialized: 4 faces in database
2026-01-10 06:27:22,037 [INFO] GateNode: Initializing vision pipeline...
2026-01-10 06:27:22,391 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-10 06:27:22,391 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-10 06:27:25,310 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-10 06:27:25,310 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-10 06:27:25,311 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=2, max_age=60, max_emb_dist=1.0
2026-01-10 06:27:25,311 [INFO] GateNode: Vision pipeline initialized
2026-01-10 06:27:25,312 [INFO] GateNode: Initializing gate controller...
2026-01-10 06:27:25,312 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-10 06:27:25,313 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-10 06:27:25,313 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-10 06:27:25,314 [INFO] threads.capture: Capture thread starting...
2026-01-10 06:27:26,011 [INFO] threads.capture: Camera opened: 640x480 @ 15.0fps
2026-01-10 06:27:26,011 [INFO] threads.capture: Capture thread running at 15 FPS target
2026-01-10 06:27:26,018 [INFO] GateNode: Camera opened: 640x480 @ 15fps
2026-01-10 06:27:26,021 [INFO] core.alarm: AlarmSystem initialized for platform: windows
2026-01-10 06:27:26,021 [INFO] GateNode: Alarm system initialized
2026-01-10 06:27:26,022 [INFO] GateNode: Initializing worker threads...
2026-01-10 06:27:26,023 [INFO] GateNode: Streaming disabled (MQTT/LiveKit not configured or unavailable)
2026-01-10 06:27:26,023 [INFO] GateNode: Worker threads initialized
2026-01-10 06:27:26,025 [INFO] threads.sync: Sync thread started
2026-01-10 06:27:26,025 [INFO] GateNode: Sync thread started
2026-01-10 06:27:26,025 [INFO] threads.sync: [INIT] HNSW database: 4 faces, version: 2026-01-10T02:54:31.722356+00:00
2026-01-10 06:27:26,027 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T02:54:31.722356+00:00)
2026-01-10 06:27:26,027 [INFO] threads.ui_v2: UI thread starting in continuous mode
2026-01-10 06:27:26,027 [INFO] GateNode: UI thread started
2026-01-10 06:27:26,030 [INFO] GateNode: Gate Node started successfully
2026-01-10 06:27:26,032 [INFO] GateNode: Starting main vision loop...
2026-01-10 06:27:26,096 [INFO] threads.ui_v2: Display window created: 1280x720
2026-01-10 06:27:26,833 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-10T03:27:26.243078+00:00
2026-01-10 06:27:26,834 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-10 06:27:30,619 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.54)
2026-01-10 06:27:30,620 [INFO] core.gate_control: Gate OPENED (will close in 5.0s)
2026-01-10 06:27:31,511 [INFO] storage.logs: Logged access event #53: AUTHORIZED -> AUTHORIZED
2026-01-10 06:27:31,511 [INFO] GateNode: Track 1 recognized: AUTHORIZED (Stephen Njiu, conf=0.54)
2026-01-10 06:27:35,634 [INFO] core.gate_control: Gate auto-closed
2026-01-10 06:27:57,196 [INFO] threads.ui_v2: Display mode changed to: streaming
2026-01-10 06:28:30,856 [INFO] threads.ui_v2: Display mode changed to: alert_only
2026-01-10 06:28:41,288 [INFO] threads.ui_v2: Display mode changed to: continuous
2026-01-10 06:29:00,161 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.50)
2026-01-10 06:29:00,163 [INFO] core.gate_control: Gate OPENED (will close in 5.0s)
2026-01-10 06:29:00,366 [INFO] storage.logs: Logged access event #54: AUTHORIZED -> AUTHORIZED
2026-01-10 06:29:00,367 [INFO] GateNode: Track 2 recognized: AUTHORIZED (Stephen Njiu, conf=0.50)
2026-01-10 06:29:04,389 [INFO] threads.ui_v2: Display mode changed to: streaming
2026-01-10 06:29:05,170 [INFO] core.gate_control: Gate auto-closed
2026-01-10 06:29:07,916 [INFO] threads.ui_v2: Display mode changed to: alert_only
2026-01-10 06:29:09,827 [INFO] threads.ui_v2: UI thread stopped
2026-01-10 06:29:27,020 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T02:54:31.722356+00:00)
2026-01-10 06:29:27,829 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-10T03:29:27.226540+00:00
2026-01-10 06:29:27,830 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-10 06:31:03,563 [INFO] GateNode: Received signal 2
2026-01-10 06:31:03,564 [INFO] GateNode: Gate Node shutting down...
2026-01-10 06:31:03,565 [INFO] core.singletons: ONNXSessionManager initialized with providers: ['CPUExecutionProvider']
2026-01-10 06:31:03,565 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-10 06:31:03,566 [INFO] core.singletons: All singleton resources cleaned up
2026-01-10 06:31:03,567 [INFO] threads.sync: Sync thread stopped
2026-01-10 06:31:04,249 [INFO] threads.capture: Capture thread stopped
2026-01-10 06:31:04,250 [INFO] storage.logs: Access logger closed
2026-01-10 06:31:04,251 [INFO] GateNode: Gate Node stopped
2026-01-10 06:31:04,252 [INFO] GateNode: ==================================================
2026-01-10 06:31:04,253 [INFO] GateNode: Session Statistics:
2026-01-10 06:31:04,254 [INFO] GateNode:   Runtime: 218.2s
2026-01-10 06:31:04,255 [INFO] GateNode:   Frames processed (AI): 892
2026-01-10 06:31:04,256 [INFO] GateNode:   Average AI FPS: 4.1
2026-01-10 06:31:04,256 [INFO] GateNode:   Camera capture:
2026-01-10 06:31:04,257 [INFO] GateNode:     - Frames captured: 2914
2026-01-10 06:31:04,259 [INFO] GateNode:     - Capture FPS: 15.2
2026-01-10 06:31:04,261 [INFO] GateNode:     - Frames dropped (AI queue): 2020
2026-01-10 06:31:04,264 [INFO] GateNode:     - Frames dropped (stream): 2397
2026-01-10 06:31:04,264 [INFO] GateNode:   Detection optimization:
2026-01-10 06:31:04,265 [INFO] GateNode:     - Detections run: 236
2026-01-10 06:31:04,266 [INFO] GateNode:     - Detections skipped: 655
2026-01-10 06:31:04,266 [INFO] GateNode:     - Skip rate: 73.5%
2026-01-10 06:31:04,267 [INFO] GateNode:   Unique tracks created: 2
2026-01-10 06:31:04,267 [INFO] GateNode:   Tracks confirmed: 2
2026-01-10 06:31:04,268 [INFO] GateNode:   Tracks recognized: 2
2026-01-10 06:31:04,269 [INFO] GateNode:   People counts:
2026-01-10 06:31:04,269 [INFO] GateNode:     - Authorized: 2
2026-01-10 06:31:04,270 [INFO] GateNode:     - Wanted: 0
2026-01-10 06:31:04,271 [INFO] GateNode:     - Unknown: 0
2026-01-10 06:31:04,271 [INFO] GateNode:   Gate opens: 2
2026-01-10 06:31:04,271 [INFO] GateNode:     - Authorized: 2
2026-01-10 06:31:04,272 [INFO] GateNode:     - Wanted: 0
2026-01-10 06:31:04,273 [INFO] GateNode:     - Rejected: 0
2026-01-10 06:31:04,274 [INFO] GateNode: ==================================================
2026-01-10 06:31:04,276 [INFO] GateNode: Gate Node shutting down...
2026-01-10 06:31:04,282 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-10 06:31:04,285 [INFO] core.singletons: All singleton resources cleaned up
2026-01-10 06:31:04,287 [INFO] storage.logs: Access logger closed
2026-01-10 06:31:04,288 [INFO] GateNode: Gate Node stopped
2026-01-10 06:31:04,288 [INFO] GateNode: ==================================================
2026-01-10 06:31:04,289 [INFO] GateNode: Session Statistics:
2026-01-10 06:31:04,290 [INFO] GateNode:   Runtime: 218.3s
2026-01-10 06:31:04,290 [INFO] GateNode:   Frames processed (AI): 892
2026-01-10 06:31:04,291 [INFO] GateNode:   Average AI FPS: 4.1
2026-01-10 06:31:04,291 [INFO] GateNode:   Camera capture:
2026-01-10 06:31:04,292 [INFO] GateNode:     - Frames captured: 2914
2026-01-10 06:31:04,293 [INFO] GateNode:     - Capture FPS: 15.2
2026-01-10 06:31:04,293 [INFO] GateNode:     - Frames dropped (AI queue): 2020
2026-01-10 06:31:04,294 [INFO] GateNode:     - Frames dropped (stream): 2397
2026-01-10 06:31:04,295 [INFO] GateNode:   Detection optimization:
2026-01-10 06:31:04,295 [INFO] GateNode:     - Detections run: 236
2026-01-10 06:31:04,296 [INFO] GateNode:     - Detections skipped: 655
2026-01-10 06:31:04,296 [INFO] GateNode:     - Skip rate: 73.5%
2026-01-10 06:31:04,296 [INFO] GateNode:   Unique tracks created: 2
2026-01-10 06:31:04,297 [INFO] GateNode:   Tracks confirmed: 2
2026-01-10 06:31:04,297 [INFO] GateNode:   Tracks recognized: 2
2026-01-10 06:31:04,298 [INFO] GateNode:   People counts:
2026-01-10 06:31:04,298 [INFO] GateNode:     - Authorized: 2
2026-01-10 06:31:04,298 [INFO] GateNode:     - Wanted: 0
2026-01-10 06:31:04,299 [INFO] GateNode:     - Unknown: 0
2026-01-10 06:31:04,300 [INFO] GateNode:   Gate opens: 2
2026-01-10 06:31:04,300 [INFO] GateNode:     - Authorized: 2
2026-01-10 06:31:04,301 [INFO] GateNode:     - Wanted: 0
2026-01-10 06:31:04,302 [INFO] GateNode:     - Rejected: 0
2026-01-10 06:31:04,302 [INFO] GateNode: ==================================================
2026-01-10 06:38:17,026 [INFO] GateNode: ==================================================
2026-01-10 06:38:17,026 [INFO] GateNode: Gate Node starting: gate-001
2026-01-10 06:38:17,027 [INFO] GateNode: Organization: DKUT
2026-01-10 06:38:17,027 [INFO] GateNode: ==================================================
2026-01-10 06:38:17,028 [INFO] GateNode: Initializing storage...
2026-01-10 06:38:17,047 [INFO] storage.face_db: Loaded 4 face records from metadata
2026-01-10 06:38:17,058 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-10 06:38:17,061 [INFO] storage.face_db: Current sync version: 2026-01-10T02:54:31.722356+00:00
2026-01-10 06:38:17,077 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-10 06:38:17,079 [INFO] GateNode: Storage initialized: 4 faces in database
2026-01-10 06:38:17,080 [INFO] GateNode: Initializing vision pipeline...
2026-01-10 06:38:17,379 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-10 06:38:17,380 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-10 06:38:20,838 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-10 06:38:20,839 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-10 06:38:20,839 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=2, max_age=60, max_emb_dist=1.0
2026-01-10 06:38:20,839 [INFO] GateNode: Vision pipeline initialized
2026-01-10 06:38:20,840 [INFO] GateNode: Initializing gate controller...
2026-01-10 06:38:20,840 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-10 06:38:20,841 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-10 06:38:20,841 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-10 06:38:20,842 [INFO] threads.capture: Capture thread starting...
2026-01-10 06:38:21,839 [INFO] threads.capture: Camera opened: 640x480 @ 15.0fps
2026-01-10 06:38:21,839 [INFO] threads.capture: Capture thread running at 15 FPS target
2026-01-10 06:38:21,850 [INFO] GateNode: Camera opened: 640x480 @ 15fps
2026-01-10 06:38:21,869 [INFO] core.alarm: AlarmSystem initialized for platform: windows
2026-01-10 06:38:21,870 [INFO] GateNode: Alarm system initialized
2026-01-10 06:38:21,871 [INFO] GateNode: Initializing worker threads...
2026-01-10 06:38:21,873 [INFO] GateNode: Streaming disabled (MQTT/LiveKit not configured or unavailable)
2026-01-10 06:38:21,873 [INFO] GateNode: Worker threads initialized
2026-01-10 06:38:21,875 [INFO] threads.sync: Sync thread started
2026-01-10 06:38:21,876 [INFO] GateNode: Sync thread started
2026-01-10 06:38:21,876 [INFO] threads.sync: [INIT] HNSW database: 4 faces, version: 2026-01-10T02:54:31.722356+00:00
2026-01-10 06:38:21,878 [INFO] threads.ui_v2: UI thread starting in continuous mode
2026-01-10 06:38:21,878 [INFO] GateNode: UI thread started
2026-01-10 06:38:21,878 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T02:54:31.722356+00:00)
2026-01-10 06:38:21,881 [INFO] GateNode: Gate Node started successfully
2026-01-10 06:38:21,884 [INFO] GateNode: Starting main vision loop...
2026-01-10 06:38:22,082 [INFO] threads.ui_v2: Display window created: 1280x720
2026-01-10 06:38:27,925 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-10T03:38:25.097259+00:00
2026-01-10 06:38:27,926 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-10 06:38:54,224 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.61)
2026-01-10 06:38:54,226 [INFO] core.gate_control: Gate OPENED (will close in 5.0s)
2026-01-10 06:38:54,401 [INFO] storage.logs: Logged access event #55: AUTHORIZED -> AUTHORIZED
2026-01-10 06:38:54,403 [INFO] GateNode: Track 1 recognized: AUTHORIZED (Stephen Njiu, conf=0.61)
2026-01-10 06:38:59,234 [INFO] core.gate_control: Gate auto-closed
2026-01-10 06:39:01,699 [INFO] threads.ui_v2: Display mode changed to: streaming
2026-01-10 06:39:31,066 [INFO] threads.ui_v2: Display mode changed to: alert_only
2026-01-10 06:39:37,798 [INFO] threads.ui_v2: Display mode changed to: continuous
2026-01-10 06:40:19,507 [INFO] threads.ui_v2: Display mode changed to: streaming
2026-01-10 06:40:21,883 [INFO] threads.ui_v2: Display mode changed to: alert_only
2026-01-10 06:40:23,107 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T02:54:31.722356+00:00)
2026-01-10 06:40:23,937 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-10T03:40:23.316645+00:00
2026-01-10 06:40:23,938 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-10 06:40:24,734 [INFO] threads.ui_v2: UI thread stopped
2026-01-10 06:40:30,618 [INFO] GateNode: Received signal 2
2026-01-10 06:40:30,618 [INFO] GateNode: Gate Node shutting down...
2026-01-10 06:40:30,619 [INFO] core.singletons: ONNXSessionManager initialized with providers: ['CPUExecutionProvider']
2026-01-10 06:40:30,619 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-10 06:40:30,620 [INFO] core.singletons: All singleton resources cleaned up
2026-01-10 06:40:30,620 [INFO] threads.sync: Sync thread stopped
2026-01-10 06:40:31,072 [INFO] threads.capture: Capture thread stopped
2026-01-10 06:40:31,076 [INFO] storage.logs: Access logger closed
2026-01-10 06:40:31,083 [INFO] GateNode: Gate Node stopped
2026-01-10 06:40:31,088 [INFO] GateNode: ==================================================
2026-01-10 06:40:31,090 [INFO] GateNode: Session Statistics:
2026-01-10 06:40:31,091 [INFO] GateNode:   Runtime: 129.2s
2026-01-10 06:40:31,094 [INFO] GateNode:   Frames processed (AI): 475
2026-01-10 06:40:31,098 [INFO] GateNode:   Average AI FPS: 3.7
2026-01-10 06:40:31,102 [INFO] GateNode:   Camera capture:
2026-01-10 06:40:31,104 [INFO] GateNode:     - Frames captured: 1743
2026-01-10 06:40:31,105 [INFO] GateNode:     - Capture FPS: 14.4
2026-01-10 06:40:31,107 [INFO] GateNode:     - Frames dropped (AI queue): 1266
2026-01-10 06:40:31,121 [INFO] GateNode:     - Frames dropped (stream): 1303
2026-01-10 06:40:31,122 [INFO] GateNode:   Detection optimization:
2026-01-10 06:40:31,123 [INFO] GateNode:     - Detections run: 154
2026-01-10 06:40:31,124 [INFO] GateNode:     - Detections skipped: 320
2026-01-10 06:40:31,125 [INFO] GateNode:     - Skip rate: 67.5%
2026-01-10 06:40:31,127 [INFO] GateNode:   Unique tracks created: 1
2026-01-10 06:40:31,127 [INFO] GateNode:   Tracks confirmed: 1
2026-01-10 06:40:31,128 [INFO] GateNode:   Tracks recognized: 1
2026-01-10 06:40:31,129 [INFO] GateNode:   People counts:
2026-01-10 06:40:31,130 [INFO] GateNode:     - Authorized: 1
2026-01-10 06:40:31,130 [INFO] GateNode:     - Wanted: 0
2026-01-10 06:40:31,131 [INFO] GateNode:     - Unknown: 0
2026-01-10 06:40:31,131 [INFO] GateNode:   Gate opens: 1
2026-01-10 06:40:31,132 [INFO] GateNode:     - Authorized: 1
2026-01-10 06:40:31,132 [INFO] GateNode:     - Wanted: 0
2026-01-10 06:40:31,133 [INFO] GateNode:     - Rejected: 0
2026-01-10 06:40:31,133 [INFO] GateNode: ==================================================
2026-01-10 06:40:31,134 [INFO] GateNode: Gate Node shutting down...
2026-01-10 06:40:31,135 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-10 06:40:31,136 [INFO] core.singletons: All singleton resources cleaned up
2026-01-10 06:40:31,137 [INFO] storage.logs: Access logger closed
2026-01-10 06:40:31,139 [INFO] GateNode: Gate Node stopped
2026-01-10 06:40:31,140 [INFO] GateNode: ==================================================
2026-01-10 06:40:31,142 [INFO] GateNode: Session Statistics:
2026-01-10 06:40:31,143 [INFO] GateNode:   Runtime: 129.3s
2026-01-10 06:40:31,144 [INFO] GateNode:   Frames processed (AI): 475
2026-01-10 06:40:31,144 [INFO] GateNode:   Average AI FPS: 3.7
2026-01-10 06:40:31,145 [INFO] GateNode:   Camera capture:
2026-01-10 06:40:31,145 [INFO] GateNode:     - Frames captured: 1743
2026-01-10 06:40:31,146 [INFO] GateNode:     - Capture FPS: 14.4
2026-01-10 06:40:31,146 [INFO] GateNode:     - Frames dropped (AI queue): 1266
2026-01-10 06:40:31,147 [INFO] GateNode:     - Frames dropped (stream): 1303
2026-01-10 06:40:31,147 [INFO] GateNode:   Detection optimization:
2026-01-10 06:40:31,148 [INFO] GateNode:     - Detections run: 154
2026-01-10 06:40:31,148 [INFO] GateNode:     - Detections skipped: 320
2026-01-10 06:40:31,149 [INFO] GateNode:     - Skip rate: 67.5%
2026-01-10 06:40:31,149 [INFO] GateNode:   Unique tracks created: 1
2026-01-10 06:40:31,150 [INFO] GateNode:   Tracks confirmed: 1
2026-01-10 06:40:31,151 [INFO] GateNode:   Tracks recognized: 1
2026-01-10 06:40:31,151 [INFO] GateNode:   People counts:
2026-01-10 06:40:31,152 [INFO] GateNode:     - Authorized: 1
2026-01-10 06:40:31,152 [INFO] GateNode:     - Wanted: 0
2026-01-10 06:40:31,153 [INFO] GateNode:     - Unknown: 0
2026-01-10 06:40:31,153 [INFO] GateNode:   Gate opens: 1
2026-01-10 06:40:31,154 [INFO] GateNode:     - Authorized: 1
2026-01-10 06:40:31,155 [INFO] GateNode:     - Wanted: 0
2026-01-10 06:40:31,156 [INFO] GateNode:     - Rejected: 0
2026-01-10 06:40:31,156 [INFO] GateNode: ==================================================
2026-01-10 06:50:05,082 [INFO] GateNode: ==================================================
2026-01-10 06:50:05,083 [INFO] GateNode: Gate Node starting: gate-001
2026-01-10 06:50:05,083 [INFO] GateNode: Organization: DKUT
2026-01-10 06:50:05,083 [INFO] GateNode: ==================================================
2026-01-10 06:50:05,084 [INFO] GateNode: Initializing storage...
2026-01-10 06:50:05,088 [INFO] storage.face_db: Loaded 4 face records from metadata
2026-01-10 06:50:05,092 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-10 06:50:05,094 [INFO] storage.face_db: Current sync version: 2026-01-10T02:54:31.722356+00:00
2026-01-10 06:50:05,098 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-10 06:50:05,099 [INFO] GateNode: Storage initialized: 4 faces in database
2026-01-10 06:50:05,100 [INFO] GateNode: Initializing vision pipeline...
2026-01-10 06:50:05,401 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-10 06:50:05,402 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-10 06:50:08,335 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-10 06:50:08,335 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-10 06:50:08,336 [INFO] vision.bytetrack: ByteTracker initialized: iou_threshold=0.3, min_hits=2, max_age=30
2026-01-10 06:50:08,336 [INFO] GateNode: Vision pipeline initialized (ByteTracker)
2026-01-10 06:50:08,337 [INFO] GateNode: Initializing gate controller...
2026-01-10 06:50:08,337 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-10 06:50:08,337 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-10 06:50:08,338 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-10 06:50:08,339 [INFO] threads.capture: Capture thread starting...
2026-01-10 06:50:08,859 [INFO] threads.capture: Camera opened: 640x480 @ 15.0fps
2026-01-10 06:50:08,860 [INFO] threads.capture: Capture thread running at 15 FPS target
2026-01-10 06:50:08,944 [INFO] GateNode: Camera opened: 640x480 @ 15fps
2026-01-10 06:50:08,947 [INFO] core.alarm: AlarmSystem initialized for platform: windows
2026-01-10 06:50:08,947 [INFO] GateNode: Alarm system initialized
2026-01-10 06:50:08,948 [INFO] GateNode: Initializing worker threads...
2026-01-10 06:50:08,948 [INFO] GateNode: Streaming disabled (MQTT/LiveKit not configured or unavailable)
2026-01-10 06:50:08,953 [INFO] GateNode: Worker threads initialized
2026-01-10 06:50:08,954 [INFO] threads.sync: Sync thread started
2026-01-10 06:50:08,954 [INFO] GateNode: Sync thread started
2026-01-10 06:50:08,955 [INFO] threads.sync: [INIT] HNSW database: 4 faces, version: 2026-01-10T02:54:31.722356+00:00
2026-01-10 06:50:08,956 [INFO] threads.ui_v2: UI thread starting in continuous mode
2026-01-10 06:50:08,956 [INFO] GateNode: UI thread started
2026-01-10 06:50:08,956 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T02:54:31.722356+00:00)
2026-01-10 06:50:08,957 [INFO] GateNode: Gate Node started successfully
2026-01-10 06:50:08,961 [INFO] GateNode: Starting main vision loop...
2026-01-10 06:50:09,020 [INFO] threads.ui_v2: Display window created: 1280x720
2026-01-10 06:50:15,648 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-10T03:50:13.085315+00:00
2026-01-10 06:50:15,649 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-10 06:50:23,449 [INFO] GateNode: Track 1 marked UNKNOWN after 3 attempts
2026-01-10 06:50:23,453 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:50:23,453 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 06:50:26,464 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:50:30,142 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:50:30,143 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 06:50:33,693 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:50:37,283 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:50:37,283 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 06:50:40,969 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:50:44,565 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:50:44,566 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 06:50:47,570 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:50:50,966 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:50:50,966 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 06:50:54,620 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:50:58,405 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:50:58,406 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 06:51:02,047 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:51:05,702 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:51:05,703 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 06:51:08,237 [INFO] core.gate_control: ACCESS GRANTED: b7ad2442-3dae-4ab6-b95d-d606599cb00c (confidence: 0.59)
2026-01-10 06:51:08,240 [INFO] core.gate_control: Gate OPENED (will close in 5.0s)
2026-01-10 06:51:08,484 [INFO] storage.logs: Logged access event #56: AUTHORIZED -> AUTHORIZED
2026-01-10 06:51:08,485 [INFO] GateNode: Track 2 recognized: AUTHORIZED (Stephen Njiu, conf=0.59)
2026-01-10 06:51:09,164 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:51:12,797 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:51:12,797 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 06:51:13,242 [INFO] core.gate_control: Gate auto-closed
2026-01-10 06:51:15,805 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:51:18,815 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:51:18,816 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 06:51:21,859 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:51:25,058 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:51:25,059 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 06:51:28,179 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:51:30,878 [INFO] threads.ui_v2: Display mode changed to: streaming
2026-01-10 06:51:31,320 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:51:31,323 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 06:51:31,944 [INFO] threads.ui_v2: Display mode changed to: alert_only
2026-01-10 06:51:34,919 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:51:38,414 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:51:38,414 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 06:51:41,719 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:51:44,988 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:51:44,988 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 06:51:48,324 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:51:52,247 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:51:52,263 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 06:51:55,440 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:51:58,466 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:51:58,467 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 06:52:02,258 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:52:05,830 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:52:05,831 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 06:52:08,616 [INFO] threads.ui_v2: UI thread stopped
2026-01-10 06:52:09,475 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:52:10,816 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T02:54:31.722356+00:00)
2026-01-10 06:52:11,545 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-10T03:52:11.030570+00:00
2026-01-10 06:52:11,549 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-10 06:52:13,254 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:52:13,255 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 06:52:16,863 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:52:20,438 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:52:20,439 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 06:52:23,976 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:52:28,492 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:52:28,513 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 06:52:31,693 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:52:35,744 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:52:35,747 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 06:52:38,766 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:52:42,486 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 06:52:42,487 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 06:52:44,385 [INFO] GateNode: Received signal 2
2026-01-10 06:52:44,386 [INFO] GateNode: Gate Node shutting down...
2026-01-10 06:52:44,386 [INFO] core.singletons: ONNXSessionManager initialized with providers: ['CPUExecutionProvider']
2026-01-10 06:52:44,387 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-10 06:52:44,388 [INFO] core.singletons: All singleton resources cleaned up
2026-01-10 06:52:44,388 [INFO] threads.sync: Sync thread stopped
2026-01-10 06:52:45,000 [INFO] threads.capture: Capture thread stopped
2026-01-10 06:52:45,002 [INFO] storage.logs: Access logger closed
2026-01-10 06:52:45,003 [INFO] GateNode: Gate Node stopped
2026-01-10 06:52:45,004 [INFO] GateNode: ==================================================
2026-01-10 06:52:45,005 [INFO] GateNode: Session Statistics:
2026-01-10 06:52:45,006 [INFO] GateNode:   Runtime: 156.0s
2026-01-10 06:52:45,007 [INFO] GateNode:   Frames processed (AI): 608
2026-01-10 06:52:45,008 [INFO] GateNode:   Average AI FPS: 3.9
2026-01-10 06:52:45,009 [INFO] GateNode:   Camera capture:
2026-01-10 06:52:45,010 [INFO] GateNode:     - Frames captured: 2238
2026-01-10 06:52:45,011 [INFO] GateNode:     - Capture FPS: 14.8
2026-01-10 06:52:45,013 [INFO] GateNode:     - Frames dropped (AI queue): 1628
2026-01-10 06:52:45,014 [INFO] GateNode:     - Frames dropped (stream): 2233
2026-01-10 06:52:45,015 [INFO] GateNode:   Detection optimization:
2026-01-10 06:52:45,015 [INFO] GateNode:     - Detections run: 157
2026-01-10 06:52:45,016 [INFO] GateNode:     - Detections skipped: 450
2026-01-10 06:52:45,017 [INFO] GateNode:     - Skip rate: 74.1%
2026-01-10 06:52:45,018 [INFO] GateNode:   Unique tracks created: 2
2026-01-10 06:52:45,019 [INFO] GateNode:   Tracks confirmed: 2
2026-01-10 06:52:45,020 [INFO] GateNode:   Tracks recognized: 2
2026-01-10 06:52:45,020 [INFO] GateNode:   People counts:
2026-01-10 06:52:45,021 [INFO] GateNode:     - Authorized: 1
2026-01-10 06:52:45,021 [INFO] GateNode:     - Wanted: 0
2026-01-10 06:52:45,022 [INFO] GateNode:     - Unknown: 1
2026-01-10 06:52:45,022 [INFO] GateNode:   Gate opens: 1
2026-01-10 06:52:45,023 [INFO] GateNode:     - Authorized: 1
2026-01-10 06:52:45,023 [INFO] GateNode:     - Wanted: 0
2026-01-10 06:52:45,024 [INFO] GateNode:     - Rejected: 0
2026-01-10 06:52:45,024 [INFO] GateNode: ==================================================
2026-01-10 06:52:45,025 [INFO] GateNode: Gate Node shutting down...
2026-01-10 06:52:45,025 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-10 06:52:45,026 [INFO] core.singletons: All singleton resources cleaned up
2026-01-10 06:52:45,026 [INFO] storage.logs: Access logger closed
2026-01-10 06:52:45,027 [INFO] GateNode: Gate Node stopped
2026-01-10 06:52:45,027 [INFO] GateNode: ==================================================
2026-01-10 06:52:45,028 [INFO] GateNode: Session Statistics:
2026-01-10 06:52:45,029 [INFO] GateNode:   Runtime: 156.1s
2026-01-10 06:52:45,030 [INFO] GateNode:   Frames processed (AI): 608
2026-01-10 06:52:45,031 [INFO] GateNode:   Average AI FPS: 3.9
2026-01-10 06:52:45,039 [INFO] GateNode:   Camera capture:
2026-01-10 06:52:45,040 [INFO] GateNode:     - Frames captured: 2238
2026-01-10 06:52:45,040 [INFO] GateNode:     - Capture FPS: 14.8
2026-01-10 06:52:45,041 [INFO] GateNode:     - Frames dropped (AI queue): 1628
2026-01-10 06:52:45,042 [INFO] GateNode:     - Frames dropped (stream): 2233
2026-01-10 06:52:45,042 [INFO] GateNode:   Detection optimization:
2026-01-10 06:52:45,042 [INFO] GateNode:     - Detections run: 157
2026-01-10 06:52:45,043 [INFO] GateNode:     - Detections skipped: 450
2026-01-10 06:52:45,043 [INFO] GateNode:     - Skip rate: 74.1%
2026-01-10 06:52:45,044 [INFO] GateNode:   Unique tracks created: 2
2026-01-10 06:52:45,045 [INFO] GateNode:   Tracks confirmed: 2
2026-01-10 06:52:45,045 [INFO] GateNode:   Tracks recognized: 2
2026-01-10 06:52:45,046 [INFO] GateNode:   People counts:
2026-01-10 06:52:45,046 [INFO] GateNode:     - Authorized: 1
2026-01-10 06:52:45,047 [INFO] GateNode:     - Wanted: 0
2026-01-10 06:52:45,047 [INFO] GateNode:     - Unknown: 1
2026-01-10 06:52:45,047 [INFO] GateNode:   Gate opens: 1
2026-01-10 06:52:45,048 [INFO] GateNode:     - Authorized: 1
2026-01-10 06:52:45,048 [INFO] GateNode:     - Wanted: 0
2026-01-10 06:52:45,049 [INFO] GateNode:     - Rejected: 0
2026-01-10 06:52:45,049 [INFO] GateNode: ==================================================
2026-01-10 06:53:37,248 [INFO] GateNode: ==================================================
2026-01-10 06:53:37,248 [INFO] GateNode: Gate Node starting: gate-001
2026-01-10 06:53:37,249 [INFO] GateNode: Organization: DKUT
2026-01-10 06:53:37,249 [INFO] GateNode: ==================================================
2026-01-10 06:53:37,250 [INFO] GateNode: Initializing storage...
2026-01-10 06:53:37,253 [INFO] storage.face_db: Loaded 4 face records from metadata
2026-01-10 06:53:37,258 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-10 06:53:37,259 [INFO] storage.face_db: Current sync version: 2026-01-10T02:54:31.722356+00:00
2026-01-10 06:53:37,264 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-10 06:53:37,264 [INFO] GateNode: Storage initialized: 4 faces in database
2026-01-10 06:53:37,265 [INFO] GateNode: Initializing vision pipeline...
2026-01-10 06:53:37,540 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-10 06:53:37,540 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-10 06:53:40,401 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-10 06:53:40,401 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-10 06:53:40,402 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=2, max_age=60, max_emb_dist=1.0
2026-01-10 06:53:40,402 [INFO] GateNode: Vision pipeline initialized
2026-01-10 06:53:40,403 [INFO] GateNode: Initializing gate controller...
2026-01-10 06:53:40,403 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-10 06:53:40,404 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-10 06:53:40,404 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-10 06:53:40,405 [INFO] threads.capture: Capture thread starting...
2026-01-10 06:53:40,853 [INFO] threads.capture: Camera opened: 640x480 @ 15.0fps
2026-01-10 06:53:40,854 [INFO] threads.capture: Capture thread running at 15 FPS target
2026-01-10 06:53:40,908 [INFO] GateNode: Camera opened: 640x480 @ 15fps
2026-01-10 06:53:40,911 [INFO] core.alarm: AlarmSystem initialized for platform: windows
2026-01-10 06:53:40,911 [INFO] GateNode: Alarm system initialized
2026-01-10 06:53:40,911 [INFO] GateNode: Initializing worker threads...
2026-01-10 06:53:40,913 [INFO] GateNode: Streaming disabled (MQTT/LiveKit not configured or unavailable)
2026-01-10 06:53:40,914 [INFO] GateNode: Worker threads initialized
2026-01-10 06:53:40,915 [INFO] threads.sync: Sync thread started
2026-01-10 06:53:40,916 [INFO] GateNode: Sync thread started
2026-01-10 06:53:40,917 [INFO] threads.sync: [INIT] HNSW database: 4 faces, version: 2026-01-10T02:54:31.722356+00:00
2026-01-10 06:53:40,922 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T02:54:31.722356+00:00)
2026-01-10 06:53:40,924 [INFO] threads.ui_v2: UI thread starting in continuous mode
2026-01-10 06:53:40,924 [INFO] GateNode: UI thread started
2026-01-10 06:53:40,931 [INFO] GateNode: Gate Node started successfully
2026-01-10 06:53:40,935 [INFO] GateNode: Starting main vision loop...
2026-01-10 06:53:40,959 [INFO] threads.ui_v2: Display window created: 1280x720
2026-01-10 06:53:41,657 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-10T03:53:41.145879+00:00
2026-01-10 06:53:41,658 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-10 06:53:45,744 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.56)
2026-01-10 06:53:45,746 [INFO] core.gate_control: Gate OPENED (will close in 5.0s)
2026-01-10 06:53:45,920 [INFO] storage.logs: Logged access event #57: AUTHORIZED -> AUTHORIZED
2026-01-10 06:53:45,921 [INFO] GateNode: Track 1 recognized: AUTHORIZED (Stephen Njiu, conf=0.56)
2026-01-10 06:53:50,759 [INFO] core.gate_control: Gate auto-closed
2026-01-10 06:54:04,507 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.54)
2026-01-10 06:54:04,509 [INFO] core.gate_control: Gate OPENED (will close in 5.0s)
2026-01-10 06:54:04,654 [INFO] storage.logs: Logged access event #58: AUTHORIZED -> AUTHORIZED
2026-01-10 06:54:04,655 [INFO] GateNode: Track 2 recognized: AUTHORIZED (Stephen Njiu, conf=0.54)
2026-01-10 06:54:09,509 [INFO] core.gate_control: Gate auto-closed
2026-01-10 06:55:28,059 [INFO] GateNode: Track 3 marked UNKNOWN after 3 attempts
2026-01-10 06:55:28,060 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-10 06:55:28,061 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 06:55:31,635 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-10 06:55:35,036 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-10 06:55:35,037 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 06:55:38,483 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-10 06:55:39,917 [INFO] core.gate_control: ACCESS GRANTED: 25079658-9b13-472c-bee5-27f4649ff4ed (confidence: 0.70)
2026-01-10 06:55:39,919 [INFO] core.gate_control: Gate OPENED (will close in 5.0s)
2026-01-10 06:55:40,068 [INFO] storage.logs: Logged access event #59: AUTHORIZED -> AUTHORIZED
2026-01-10 06:55:40,069 [INFO] GateNode: Track 4 recognized: AUTHORIZED (Stephen Njiu, conf=0.70)
2026-01-10 06:55:41,762 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-10 06:55:41,763 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 06:55:41,829 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T02:54:31.722356+00:00)
2026-01-10 06:55:44,919 [INFO] core.gate_control: Gate auto-closed
2026-01-10 06:55:44,990 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-10T03:55:43.959458+00:00
2026-01-10 06:55:44,991 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-10 06:55:45,239 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-10 06:55:49,213 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-10 06:55:49,230 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 06:55:52,535 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-10 06:55:56,025 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-10 06:55:56,027 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 06:55:57,340 [INFO] threads.ui_v2: Display mode changed to: streaming
2026-01-10 06:55:59,262 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-10 06:56:02,969 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-10 06:56:02,970 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 06:56:06,620 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-10 06:56:09,707 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-10 06:56:09,708 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 06:56:13,328 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-10 06:56:16,810 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-10 06:56:16,810 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 06:56:20,406 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-10 06:56:27,077 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.52)
2026-01-10 06:56:27,080 [INFO] core.gate_control: Gate OPENED (will close in 5.0s)
2026-01-10 06:56:27,235 [INFO] storage.logs: Logged access event #60: AUTHORIZED -> AUTHORIZED
2026-01-10 06:56:27,236 [INFO] GateNode: Track 5 recognized: AUTHORIZED (Stephen Njiu, conf=0.52)
2026-01-10 06:56:32,086 [INFO] core.gate_control: Gate auto-closed
2026-01-10 06:56:55,868 [INFO] threads.ui_v2: Display mode changed to: alert_only
2026-01-10 06:56:56,837 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.62)
2026-01-10 06:56:56,839 [INFO] core.gate_control: Gate OPENED (will close in 5.0s)
2026-01-10 06:56:57,003 [INFO] storage.logs: Logged access event #61: AUTHORIZED -> AUTHORIZED
2026-01-10 06:56:57,004 [INFO] GateNode: Track 6 recognized: AUTHORIZED (Stephen Njiu, conf=0.62)
2026-01-10 06:57:01,854 [INFO] core.gate_control: Gate auto-closed
2026-01-10 06:57:02,264 [INFO] threads.ui_v2: Display mode changed to: continuous
2026-01-10 06:57:06,028 [INFO] threads.ui_v2: Display mode changed to: streaming
2026-01-10 06:57:10,907 [INFO] threads.ui_v2: UI thread stopped
2026-01-10 06:57:22,596 [INFO] GateNode: Received signal 2
2026-01-10 06:57:22,597 [INFO] GateNode: Gate Node shutting down...
2026-01-10 06:57:22,598 [INFO] core.singletons: ONNXSessionManager initialized with providers: ['CPUExecutionProvider']
2026-01-10 06:57:22,598 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-10 06:57:22,599 [INFO] core.singletons: All singleton resources cleaned up
2026-01-10 06:57:22,599 [INFO] threads.sync: Sync thread stopped
2026-01-10 06:57:23,033 [INFO] threads.capture: Capture thread stopped
2026-01-10 06:57:23,036 [INFO] storage.logs: Access logger closed
2026-01-10 06:57:23,041 [INFO] GateNode: Gate Node stopped
2026-01-10 06:57:23,046 [INFO] GateNode: ==================================================
2026-01-10 06:57:23,048 [INFO] GateNode: Session Statistics:
2026-01-10 06:57:23,050 [INFO] GateNode:   Runtime: 222.1s
2026-01-10 06:57:23,053 [INFO] GateNode:   Frames processed (AI): 322
2026-01-10 06:57:23,054 [INFO] GateNode:   Average AI FPS: 1.4
2026-01-10 06:57:23,057 [INFO] GateNode:   Camera capture:
2026-01-10 06:57:23,057 [INFO] GateNode:     - Frames captured: 3246
2026-01-10 06:57:23,058 [INFO] GateNode:     - Capture FPS: 14.7
2026-01-10 06:57:23,059 [INFO] GateNode:     - Frames dropped (AI queue): 2922
2026-01-10 06:57:23,060 [INFO] GateNode:     - Frames dropped (stream): 2296
2026-01-10 06:57:23,061 [INFO] GateNode:   Detection optimization:
2026-01-10 06:57:23,063 [INFO] GateNode:     - Detections run: 251
2026-01-10 06:57:23,063 [INFO] GateNode:     - Detections skipped: 70
2026-01-10 06:57:23,064 [INFO] GateNode:     - Skip rate: 21.8%
2026-01-10 06:57:23,065 [INFO] GateNode:   Unique tracks created: 6
2026-01-10 06:57:23,068 [INFO] GateNode:   Tracks confirmed: 6
2026-01-10 06:57:23,069 [INFO] GateNode:   Tracks recognized: 6
2026-01-10 06:57:23,070 [INFO] GateNode:   People counts:
2026-01-10 06:57:23,070 [INFO] GateNode:     - Authorized: 5
2026-01-10 06:57:23,071 [INFO] GateNode:     - Wanted: 0
2026-01-10 06:57:23,072 [INFO] GateNode:     - Unknown: 1
2026-01-10 06:57:23,073 [INFO] GateNode:   Gate opens: 5
2026-01-10 06:57:23,076 [INFO] GateNode:     - Authorized: 5
2026-01-10 06:57:23,084 [INFO] GateNode:     - Wanted: 0
2026-01-10 06:57:23,084 [INFO] GateNode:     - Rejected: 0
2026-01-10 06:57:23,085 [INFO] GateNode: ==================================================
2026-01-10 06:57:23,085 [INFO] GateNode: Gate Node shutting down...
2026-01-10 06:57:23,086 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-10 06:57:23,086 [INFO] core.singletons: All singleton resources cleaned up
2026-01-10 06:57:23,087 [INFO] storage.logs: Access logger closed
2026-01-10 06:57:23,091 [INFO] GateNode: Gate Node stopped
2026-01-10 06:57:23,091 [INFO] GateNode: ==================================================
2026-01-10 06:57:23,091 [INFO] GateNode: Session Statistics:
2026-01-10 06:57:23,092 [INFO] GateNode:   Runtime: 222.2s
2026-01-10 06:57:23,092 [INFO] GateNode:   Frames processed (AI): 322
2026-01-10 06:57:23,093 [INFO] GateNode:   Average AI FPS: 1.4
2026-01-10 06:57:23,093 [INFO] GateNode:   Camera capture:
2026-01-10 06:57:23,093 [INFO] GateNode:     - Frames captured: 3246
2026-01-10 06:57:23,094 [INFO] GateNode:     - Capture FPS: 14.7
2026-01-10 06:57:23,094 [INFO] GateNode:     - Frames dropped (AI queue): 2922
2026-01-10 06:57:23,095 [INFO] GateNode:     - Frames dropped (stream): 2296
2026-01-10 06:57:23,095 [INFO] GateNode:   Detection optimization:
2026-01-10 06:57:23,096 [INFO] GateNode:     - Detections run: 251
2026-01-10 06:57:23,096 [INFO] GateNode:     - Detections skipped: 70
2026-01-10 06:57:23,096 [INFO] GateNode:     - Skip rate: 21.8%
2026-01-10 06:57:23,097 [INFO] GateNode:   Unique tracks created: 6
2026-01-10 06:57:23,097 [INFO] GateNode:   Tracks confirmed: 6
2026-01-10 06:57:23,098 [INFO] GateNode:   Tracks recognized: 6
2026-01-10 06:57:23,098 [INFO] GateNode:   People counts:
2026-01-10 06:57:23,098 [INFO] GateNode:     - Authorized: 5
2026-01-10 06:57:23,099 [INFO] GateNode:     - Wanted: 0
2026-01-10 06:57:23,099 [INFO] GateNode:     - Unknown: 1
2026-01-10 06:57:23,100 [INFO] GateNode:   Gate opens: 5
2026-01-10 06:57:23,100 [INFO] GateNode:     - Authorized: 5
2026-01-10 06:57:23,101 [INFO] GateNode:     - Wanted: 0
2026-01-10 06:57:23,101 [INFO] GateNode:     - Rejected: 0
2026-01-10 06:57:23,102 [INFO] GateNode: ==================================================
2026-01-10 07:00:53,751 [INFO] GateNode: ==================================================
2026-01-10 07:00:53,751 [INFO] GateNode: Gate Node starting: gate-001
2026-01-10 07:00:53,752 [INFO] GateNode: Organization: DKUT
2026-01-10 07:00:53,752 [INFO] GateNode: ==================================================
2026-01-10 07:00:53,752 [INFO] GateNode: Initializing storage...
2026-01-10 07:00:53,756 [INFO] storage.face_db: Loaded 4 face records from metadata
2026-01-10 07:00:53,799 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-10 07:00:53,800 [INFO] storage.face_db: Current sync version: 2026-01-10T02:54:31.722356+00:00
2026-01-10 07:00:53,805 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-10 07:00:53,805 [INFO] GateNode: Storage initialized: 4 faces in database
2026-01-10 07:00:53,805 [INFO] GateNode: Initializing vision pipeline...
2026-01-10 07:00:54,080 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-10 07:00:54,081 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-10 07:00:57,163 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-10 07:00:57,164 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-10 07:00:57,164 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=2, max_age=60, max_emb_dist=1.0
2026-01-10 07:00:57,165 [INFO] GateNode: Vision pipeline initialized
2026-01-10 07:00:57,165 [INFO] GateNode: Initializing gate controller...
2026-01-10 07:00:57,166 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-10 07:00:57,166 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-10 07:00:57,166 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-10 07:00:57,167 [INFO] threads.capture: Capture thread starting...
2026-01-10 07:00:58,025 [INFO] threads.capture: Camera opened: 640x480 @ 30.0fps
2026-01-10 07:00:58,025 [INFO] threads.capture: Capture thread running at 30 FPS target
2026-01-10 07:00:58,101 [INFO] GateNode: Camera opened: 640x480 @ 30fps
2026-01-10 07:00:58,104 [INFO] core.alarm: AlarmSystem initialized for platform: windows
2026-01-10 07:00:58,105 [INFO] GateNode: Alarm system initialized
2026-01-10 07:00:58,105 [INFO] GateNode: Initializing worker threads...
2026-01-10 07:00:58,106 [INFO] GateNode: Streaming disabled (MQTT/LiveKit not configured or unavailable)
2026-01-10 07:00:58,107 [INFO] GateNode: Worker threads initialized
2026-01-10 07:00:58,109 [INFO] threads.sync: Sync thread started
2026-01-10 07:00:58,109 [INFO] GateNode: Sync thread started
2026-01-10 07:00:58,110 [INFO] threads.sync: [INIT] HNSW database: 4 faces, version: 2026-01-10T02:54:31.722356+00:00
2026-01-10 07:00:58,113 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T02:54:31.722356+00:00)
2026-01-10 07:00:58,115 [INFO] threads.ui_v2: UI thread starting in continuous mode
2026-01-10 07:00:58,115 [INFO] GateNode: UI thread started
2026-01-10 07:00:58,121 [INFO] GateNode: Gate Node started successfully
2026-01-10 07:00:58,127 [INFO] GateNode: Starting main vision loop...
2026-01-10 07:00:58,199 [INFO] threads.ui_v2: Display window created: 1280x720
2026-01-10 07:01:04,034 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-10T04:01:01.215710+00:00
2026-01-10 07:01:04,035 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-10 07:01:08,317 [INFO] core.gate_control: ACCESS GRANTED: 25079658-9b13-472c-bee5-27f4649ff4ed (confidence: 0.52)
2026-01-10 07:01:08,319 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 07:01:08,521 [INFO] storage.logs: Logged access event #62: AUTHORIZED -> AUTHORIZED
2026-01-10 07:01:08,545 [INFO] GateNode: Track 1 recognized: AUTHORIZED (Stephen Njiu, conf=0.52)
2026-01-10 07:01:15,322 [INFO] core.gate_control: Gate auto-closed
2026-01-10 07:02:04,803 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.54)
2026-01-10 07:02:04,805 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 07:02:04,998 [INFO] storage.logs: Logged access event #63: AUTHORIZED -> AUTHORIZED
2026-01-10 07:02:04,999 [INFO] GateNode: Track 2 recognized: AUTHORIZED (Stephen Njiu, conf=0.54)
2026-01-10 07:02:11,816 [INFO] core.gate_control: Gate auto-closed
2026-01-10 07:02:12,177 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.50)
2026-01-10 07:02:12,179 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 07:02:12,421 [INFO] storage.logs: Logged access event #64: AUTHORIZED -> AUTHORIZED
2026-01-10 07:02:12,422 [INFO] GateNode: Track 3 recognized: AUTHORIZED (Stephen Njiu, conf=0.50)
2026-01-10 07:02:19,179 [INFO] core.gate_control: Gate auto-closed
2026-01-10 07:02:36,795 [INFO] threads.ui_v2: Display mode changed to: streaming
2026-01-10 07:02:59,166 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T02:54:31.722356+00:00)
2026-01-10 07:03:00,060 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-10T04:02:59.445607+00:00
2026-01-10 07:03:00,062 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-10 07:03:08,071 [INFO] threads.ui_v2: Display mode changed to: alert_only
2026-01-10 07:03:40,774 [INFO] threads.ui_v2: Display mode changed to: continuous
2026-01-10 07:04:00,920 [INFO] threads.ui_v2: UI thread stopped
2026-01-10 07:04:07,059 [INFO] GateNode: Received signal 2
2026-01-10 07:04:07,059 [INFO] GateNode: Gate Node shutting down...
2026-01-10 07:04:07,060 [INFO] core.singletons: ONNXSessionManager initialized with providers: ['CPUExecutionProvider']
2026-01-10 07:04:07,061 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-10 07:04:07,061 [INFO] core.singletons: All singleton resources cleaned up
2026-01-10 07:04:07,062 [INFO] threads.sync: Sync thread stopped
2026-01-10 07:04:07,504 [INFO] threads.capture: Capture thread stopped
2026-01-10 07:04:07,507 [INFO] storage.logs: Access logger closed
2026-01-10 07:04:07,510 [INFO] GateNode: Gate Node stopped
2026-01-10 07:04:07,512 [INFO] GateNode: ==================================================
2026-01-10 07:04:07,514 [INFO] GateNode: Session Statistics:
2026-01-10 07:04:07,517 [INFO] GateNode:   Runtime: 189.4s
2026-01-10 07:04:07,518 [INFO] GateNode:   Frames processed (AI): 305
2026-01-10 07:04:07,521 [INFO] GateNode:   Average AI FPS: 1.6
2026-01-10 07:04:07,522 [INFO] GateNode:   Camera capture:
2026-01-10 07:04:07,523 [INFO] GateNode:     - Frames captured: 5418
2026-01-10 07:04:07,524 [INFO] GateNode:     - Capture FPS: 28.9
2026-01-10 07:04:07,525 [INFO] GateNode:     - Frames dropped (AI queue): 5111
2026-01-10 07:04:07,527 [INFO] GateNode:     - Frames dropped (stream): 4506
2026-01-10 07:04:07,528 [INFO] GateNode:   Detection optimization:
2026-01-10 07:04:07,529 [INFO] GateNode:     - Detections run: 219
2026-01-10 07:04:07,530 [INFO] GateNode:     - Detections skipped: 85
2026-01-10 07:04:07,531 [INFO] GateNode:     - Skip rate: 28.0%
2026-01-10 07:04:07,532 [INFO] GateNode:   Unique tracks created: 3
2026-01-10 07:04:07,533 [INFO] GateNode:   Tracks confirmed: 3
2026-01-10 07:04:07,535 [INFO] GateNode:   Tracks recognized: 3
2026-01-10 07:04:07,536 [INFO] GateNode:   People counts:
2026-01-10 07:04:07,536 [INFO] GateNode:     - Authorized: 3
2026-01-10 07:04:07,537 [INFO] GateNode:     - Wanted: 0
2026-01-10 07:04:07,537 [INFO] GateNode:     - Unknown: 0
2026-01-10 07:04:07,539 [INFO] GateNode:   Gate opens: 3
2026-01-10 07:04:07,540 [INFO] GateNode:     - Authorized: 3
2026-01-10 07:04:07,540 [INFO] GateNode:     - Wanted: 0
2026-01-10 07:04:07,541 [INFO] GateNode:     - Rejected: 0
2026-01-10 07:04:07,541 [INFO] GateNode: ==================================================
2026-01-10 07:04:07,542 [INFO] GateNode: Gate Node shutting down...
2026-01-10 07:04:07,543 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-10 07:04:07,546 [INFO] core.singletons: All singleton resources cleaned up
2026-01-10 07:04:07,550 [INFO] storage.logs: Access logger closed
2026-01-10 07:04:07,551 [INFO] GateNode: Gate Node stopped
2026-01-10 07:04:07,551 [INFO] GateNode: ==================================================
2026-01-10 07:04:07,552 [INFO] GateNode: Session Statistics:
2026-01-10 07:04:07,553 [INFO] GateNode:   Runtime: 189.4s
2026-01-10 07:04:07,554 [INFO] GateNode:   Frames processed (AI): 305
2026-01-10 07:04:07,555 [INFO] GateNode:   Average AI FPS: 1.6
2026-01-10 07:04:07,555 [INFO] GateNode:   Camera capture:
2026-01-10 07:04:07,556 [INFO] GateNode:     - Frames captured: 5418
2026-01-10 07:04:07,556 [INFO] GateNode:     - Capture FPS: 28.9
2026-01-10 07:04:07,557 [INFO] GateNode:     - Frames dropped (AI queue): 5111
2026-01-10 07:04:07,557 [INFO] GateNode:     - Frames dropped (stream): 4506
2026-01-10 07:04:07,557 [INFO] GateNode:   Detection optimization:
2026-01-10 07:04:07,560 [INFO] GateNode:     - Detections run: 219
2026-01-10 07:04:07,561 [INFO] GateNode:     - Detections skipped: 85
2026-01-10 07:04:07,562 [INFO] GateNode:     - Skip rate: 28.0%
2026-01-10 07:04:07,562 [INFO] GateNode:   Unique tracks created: 3
2026-01-10 07:04:07,563 [INFO] GateNode:   Tracks confirmed: 3
2026-01-10 07:04:07,563 [INFO] GateNode:   Tracks recognized: 3
2026-01-10 07:04:07,564 [INFO] GateNode:   People counts:
2026-01-10 07:04:07,564 [INFO] GateNode:     - Authorized: 3
2026-01-10 07:04:07,564 [INFO] GateNode:     - Wanted: 0
2026-01-10 07:04:07,565 [INFO] GateNode:     - Unknown: 0
2026-01-10 07:04:07,565 [INFO] GateNode:   Gate opens: 3
2026-01-10 07:04:07,566 [INFO] GateNode:     - Authorized: 3
2026-01-10 07:04:07,566 [INFO] GateNode:     - Wanted: 0
2026-01-10 07:04:07,567 [INFO] GateNode:     - Rejected: 0
2026-01-10 07:04:07,567 [INFO] GateNode: ==================================================
2026-01-10 07:04:16,952 [INFO] GateNode: ==================================================
2026-01-10 07:04:16,952 [INFO] GateNode: Gate Node starting: gate-001
2026-01-10 07:04:16,953 [INFO] GateNode: Organization: DKUT
2026-01-10 07:04:16,953 [INFO] GateNode: ==================================================
2026-01-10 07:04:16,954 [INFO] GateNode: Initializing storage...
2026-01-10 07:04:16,957 [INFO] storage.face_db: Loaded 4 face records from metadata
2026-01-10 07:04:16,962 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-10 07:04:16,964 [INFO] storage.face_db: Current sync version: 2026-01-10T02:54:31.722356+00:00
2026-01-10 07:04:16,971 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-10 07:04:16,972 [INFO] GateNode: Storage initialized: 4 faces in database
2026-01-10 07:04:16,973 [INFO] GateNode: Initializing vision pipeline...
2026-01-10 07:04:17,355 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-10 07:04:17,356 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-10 07:04:20,103 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-10 07:04:20,104 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-10 07:04:20,104 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=2, max_age=60, max_emb_dist=1.0
2026-01-10 07:04:20,105 [INFO] GateNode: Vision pipeline initialized
2026-01-10 07:04:20,105 [INFO] GateNode: Initializing gate controller...
2026-01-10 07:04:20,106 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-10 07:04:20,106 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-10 07:04:20,106 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-10 07:04:20,108 [INFO] threads.capture: Capture thread starting...
2026-01-10 07:04:20,455 [INFO] threads.capture: Camera opened: 640x480 @ 30.0fps
2026-01-10 07:04:20,455 [INFO] threads.capture: Capture thread running at 30 FPS target
2026-01-10 07:04:20,511 [INFO] GateNode: Camera opened: 640x480 @ 30fps
2026-01-10 07:04:20,518 [INFO] core.alarm: AlarmSystem initialized for platform: windows
2026-01-10 07:04:20,525 [INFO] GateNode: Alarm system initialized
2026-01-10 07:04:20,527 [INFO] GateNode: Initializing worker threads...
2026-01-10 07:04:20,529 [INFO] GateNode: Streaming disabled (MQTT/LiveKit not configured or unavailable)
2026-01-10 07:04:20,530 [INFO] GateNode: Worker threads initialized
2026-01-10 07:04:20,531 [INFO] threads.sync: Sync thread started
2026-01-10 07:04:20,531 [INFO] GateNode: Sync thread started
2026-01-10 07:04:20,532 [INFO] threads.sync: [INIT] HNSW database: 4 faces, version: 2026-01-10T02:54:31.722356+00:00
2026-01-10 07:04:20,534 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T02:54:31.722356+00:00)
2026-01-10 07:04:20,536 [INFO] threads.ui_v2: UI thread starting in continuous mode
2026-01-10 07:04:20,536 [INFO] GateNode: UI thread started
2026-01-10 07:04:20,553 [INFO] GateNode: Gate Node started successfully
2026-01-10 07:04:20,554 [INFO] GateNode: Starting main vision loop...
2026-01-10 07:04:20,594 [INFO] threads.ui_v2: Display window created: 1280x720
2026-01-10 07:04:21,339 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-10T04:04:20.757664+00:00
2026-01-10 07:04:21,339 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-10 07:05:36,201 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.59)
2026-01-10 07:05:36,202 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 07:05:36,370 [INFO] storage.logs: Logged access event #65: AUTHORIZED -> AUTHORIZED
2026-01-10 07:05:36,372 [INFO] GateNode: Track 1 recognized: AUTHORIZED (Stephen Njiu, conf=0.59)
2026-01-10 07:05:43,205 [INFO] core.gate_control: Gate auto-closed
2026-01-10 07:06:03,494 [INFO] threads.ui_v2: UI thread stopped
2026-01-10 07:06:08,655 [INFO] GateNode: Received signal 2
2026-01-10 07:06:08,656 [INFO] GateNode: Gate Node shutting down...
2026-01-10 07:06:08,656 [INFO] core.singletons: ONNXSessionManager initialized with providers: ['CPUExecutionProvider']
2026-01-10 07:06:08,657 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-10 07:06:08,658 [INFO] core.singletons: All singleton resources cleaned up
2026-01-10 07:06:08,658 [INFO] threads.sync: Sync thread stopped
2026-01-10 07:06:09,073 [INFO] threads.capture: Capture thread stopped
2026-01-10 07:06:09,078 [INFO] storage.logs: Access logger closed
2026-01-10 07:06:09,082 [INFO] GateNode: Gate Node stopped
2026-01-10 07:06:09,087 [INFO] GateNode: ==================================================
2026-01-10 07:06:09,089 [INFO] GateNode: Session Statistics:
2026-01-10 07:06:09,093 [INFO] GateNode:   Runtime: 108.5s
2026-01-10 07:06:09,097 [INFO] GateNode:   Frames processed (AI): 239
2026-01-10 07:06:09,099 [INFO] GateNode:   Average AI FPS: 2.2
2026-01-10 07:06:09,101 [INFO] GateNode:   Camera capture:
2026-01-10 07:06:09,101 [INFO] GateNode:     - Frames captured: 3094
2026-01-10 07:06:09,102 [INFO] GateNode:     - Capture FPS: 28.9
2026-01-10 07:06:09,103 [INFO] GateNode:     - Frames dropped (AI queue): 2853
2026-01-10 07:06:09,104 [INFO] GateNode:     - Frames dropped (stream): 3089
2026-01-10 07:06:09,104 [INFO] GateNode:   Detection optimization:
2026-01-10 07:06:09,105 [INFO] GateNode:     - Detections run: 118
2026-01-10 07:06:09,106 [INFO] GateNode:     - Detections skipped: 120
2026-01-10 07:06:09,108 [INFO] GateNode:     - Skip rate: 50.4%
2026-01-10 07:06:09,109 [INFO] GateNode:   Unique tracks created: 1
2026-01-10 07:06:09,109 [INFO] GateNode:   Tracks confirmed: 1
2026-01-10 07:06:09,110 [INFO] GateNode:   Tracks recognized: 1
2026-01-10 07:06:09,111 [INFO] GateNode:   People counts:
2026-01-10 07:06:09,112 [INFO] GateNode:     - Authorized: 1
2026-01-10 07:06:09,114 [INFO] GateNode:     - Wanted: 0
2026-01-10 07:06:09,118 [INFO] GateNode:     - Unknown: 0
2026-01-10 07:06:09,120 [INFO] GateNode:   Gate opens: 1
2026-01-10 07:06:09,124 [INFO] GateNode:     - Authorized: 1
2026-01-10 07:06:09,125 [INFO] GateNode:     - Wanted: 0
2026-01-10 07:06:09,125 [INFO] GateNode:     - Rejected: 0
2026-01-10 07:06:09,126 [INFO] GateNode: ==================================================
2026-01-10 07:06:09,130 [INFO] GateNode: Gate Node shutting down...
2026-01-10 07:06:09,131 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-10 07:06:09,132 [INFO] core.singletons: All singleton resources cleaned up
2026-01-10 07:06:09,132 [INFO] storage.logs: Access logger closed
2026-01-10 07:06:09,133 [INFO] GateNode: Gate Node stopped
2026-01-10 07:06:09,133 [INFO] GateNode: ==================================================
2026-01-10 07:06:09,134 [INFO] GateNode: Session Statistics:
2026-01-10 07:06:09,134 [INFO] GateNode:   Runtime: 108.6s
2026-01-10 07:06:09,135 [INFO] GateNode:   Frames processed (AI): 239
2026-01-10 07:06:09,136 [INFO] GateNode:   Average AI FPS: 2.2
2026-01-10 07:06:09,137 [INFO] GateNode:   Camera capture:
2026-01-10 07:06:09,137 [INFO] GateNode:     - Frames captured: 3094
2026-01-10 07:06:09,138 [INFO] GateNode:     - Capture FPS: 28.9
2026-01-10 07:06:09,138 [INFO] GateNode:     - Frames dropped (AI queue): 2853
2026-01-10 07:06:09,139 [INFO] GateNode:     - Frames dropped (stream): 3089
2026-01-10 07:06:09,139 [INFO] GateNode:   Detection optimization:
2026-01-10 07:06:09,140 [INFO] GateNode:     - Detections run: 118
2026-01-10 07:06:09,140 [INFO] GateNode:     - Detections skipped: 120
2026-01-10 07:06:09,140 [INFO] GateNode:     - Skip rate: 50.4%
2026-01-10 07:06:09,141 [INFO] GateNode:   Unique tracks created: 1
2026-01-10 07:06:09,141 [INFO] GateNode:   Tracks confirmed: 1
2026-01-10 07:06:09,142 [INFO] GateNode:   Tracks recognized: 1
2026-01-10 07:06:09,142 [INFO] GateNode:   People counts:
2026-01-10 07:06:09,143 [INFO] GateNode:     - Authorized: 1
2026-01-10 07:06:09,143 [INFO] GateNode:     - Wanted: 0
2026-01-10 07:06:09,144 [INFO] GateNode:     - Unknown: 0
2026-01-10 07:06:09,144 [INFO] GateNode:   Gate opens: 1
2026-01-10 07:06:09,144 [INFO] GateNode:     - Authorized: 1
2026-01-10 07:06:09,145 [INFO] GateNode:     - Wanted: 0
2026-01-10 07:06:09,145 [INFO] GateNode:     - Rejected: 0
2026-01-10 07:06:09,146 [INFO] GateNode: ==================================================
2026-01-10 07:09:02,457 [INFO] GateNode: ==================================================
2026-01-10 07:09:02,457 [INFO] GateNode: Gate Node starting: gate-001
2026-01-10 07:09:02,458 [INFO] GateNode: Organization: DKUT
2026-01-10 07:09:02,458 [INFO] GateNode: ==================================================
2026-01-10 07:09:02,459 [INFO] GateNode: Initializing storage...
2026-01-10 07:09:02,462 [INFO] storage.face_db: Loaded 4 face records from metadata
2026-01-10 07:09:02,467 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-10 07:09:02,469 [INFO] storage.face_db: Current sync version: 2026-01-10T02:54:31.722356+00:00
2026-01-10 07:09:02,473 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-10 07:09:02,474 [INFO] GateNode: Storage initialized: 4 faces in database
2026-01-10 07:09:02,475 [INFO] GateNode: Initializing vision pipeline...
2026-01-10 07:09:02,793 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-10 07:09:02,793 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-10 07:09:04,831 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-10 07:09:04,832 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-10 07:09:04,832 [ERROR] GateNode: Failed to initialize vision: DeepSORTLiteTracker.__init__() got an unexpected keyword argument 'max_embedding_distance'
2026-01-10 07:09:04,833 [ERROR] GateNode: Failed to start Gate Node
2026-01-10 08:19:23,131 [INFO] GateNode: ==================================================
2026-01-10 08:19:23,150 [INFO] GateNode: Gate Node starting: gate-001
2026-01-10 08:19:23,150 [INFO] GateNode: Organization: DKUT
2026-01-10 08:19:23,151 [INFO] GateNode: ==================================================
2026-01-10 08:19:23,151 [INFO] GateNode: Initializing storage...
2026-01-10 08:19:23,173 [INFO] storage.face_db: Loaded 4 face records from metadata
2026-01-10 08:19:23,201 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-10 08:19:23,203 [INFO] storage.face_db: Current sync version: 2026-01-10T02:54:31.722356+00:00
2026-01-10 08:19:23,302 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-10 08:19:23,303 [INFO] GateNode: Storage initialized: 4 faces in database
2026-01-10 08:19:23,303 [INFO] GateNode: Initializing vision pipeline...
2026-01-10 08:19:23,615 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-10 08:19:23,617 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-10 08:19:27,320 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-10 08:19:27,321 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-10 08:19:27,322 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=2, max_age=60, max_emb_dist=1.0
2026-01-10 08:19:27,322 [INFO] GateNode: Vision pipeline initialized
2026-01-10 08:19:27,323 [INFO] GateNode: Initializing gate controller...
2026-01-10 08:19:27,323 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-10 08:19:27,324 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-10 08:19:27,324 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-10 08:19:27,325 [INFO] threads.capture: Capture thread starting...
2026-01-10 08:19:30,587 [ERROR] GateNode: Failed to open camera 0
2026-01-10 08:19:30,588 [ERROR] GateNode: Failed to start Gate Node
2026-01-10 08:19:44,716 [INFO] GateNode: ==================================================
2026-01-10 08:19:44,717 [INFO] GateNode: Gate Node starting: gate-001
2026-01-10 08:19:44,717 [INFO] GateNode: Organization: DKUT
2026-01-10 08:19:44,718 [INFO] GateNode: ==================================================
2026-01-10 08:19:44,718 [INFO] GateNode: Initializing storage...
2026-01-10 08:19:44,722 [INFO] storage.face_db: Loaded 4 face records from metadata
2026-01-10 08:19:44,728 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-10 08:19:44,729 [INFO] storage.face_db: Current sync version: 2026-01-10T02:54:31.722356+00:00
2026-01-10 08:19:44,742 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-10 08:19:44,743 [INFO] GateNode: Storage initialized: 4 faces in database
2026-01-10 08:19:44,745 [INFO] GateNode: Initializing vision pipeline...
2026-01-10 08:19:45,157 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-10 08:19:45,158 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-10 08:19:50,515 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-10 08:19:50,516 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-10 08:19:50,517 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=2, max_age=60, max_emb_dist=1.0
2026-01-10 08:19:50,517 [INFO] GateNode: Vision pipeline initialized
2026-01-10 08:19:50,518 [INFO] GateNode: Initializing gate controller...
2026-01-10 08:19:50,518 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-10 08:19:50,519 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-10 08:19:50,519 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-10 08:19:50,520 [INFO] threads.capture: Capture thread starting...
2026-01-10 08:19:53,662 [ERROR] GateNode: Failed to open camera 0
2026-01-10 08:19:53,664 [ERROR] GateNode: Failed to start Gate Node
2026-01-10 08:20:18,187 [INFO] GateNode: ==================================================
2026-01-10 08:20:18,188 [INFO] GateNode: Gate Node starting: gate-001
2026-01-10 08:20:18,188 [INFO] GateNode: Organization: DKUT
2026-01-10 08:20:18,189 [INFO] GateNode: ==================================================
2026-01-10 08:20:18,189 [INFO] GateNode: Initializing storage...
2026-01-10 08:20:18,193 [INFO] storage.face_db: Loaded 4 face records from metadata
2026-01-10 08:20:18,199 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-10 08:20:18,200 [INFO] storage.face_db: Current sync version: 2026-01-10T02:54:31.722356+00:00
2026-01-10 08:20:18,203 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-10 08:20:18,203 [INFO] GateNode: Storage initialized: 4 faces in database
2026-01-10 08:20:18,204 [INFO] GateNode: Initializing vision pipeline...
2026-01-10 08:20:18,553 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-10 08:20:18,554 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-10 08:20:24,166 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-10 08:20:24,167 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-10 08:20:24,168 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=2, max_age=60, max_emb_dist=1.0
2026-01-10 08:20:24,168 [INFO] GateNode: Vision pipeline initialized
2026-01-10 08:20:24,169 [INFO] GateNode: Initializing gate controller...
2026-01-10 08:20:24,169 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-10 08:20:24,169 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-10 08:20:24,170 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-10 08:20:24,171 [INFO] threads.capture: Capture thread starting...
2026-01-10 08:20:25,519 [INFO] threads.capture: Camera opened: 640x480 @ 30.0fps
2026-01-10 08:20:25,519 [INFO] threads.capture: Capture thread running at 30 FPS target
2026-01-10 08:20:25,579 [INFO] GateNode: Camera opened: 640x480 @ 30fps
2026-01-10 08:20:25,621 [INFO] core.alarm: AlarmSystem initialized for platform: windows
2026-01-10 08:20:25,621 [INFO] GateNode: Alarm system initialized
2026-01-10 08:20:25,622 [INFO] GateNode: Initializing worker threads...
2026-01-10 08:20:25,624 [INFO] GateNode: Recognition thread pool initialized (2 workers)
2026-01-10 08:20:25,625 [INFO] GateNode: Streaming disabled (MQTT/LiveKit not configured or unavailable)
2026-01-10 08:20:25,626 [INFO] GateNode: Worker threads initialized
2026-01-10 08:20:25,629 [INFO] threads.sync: Sync thread started
2026-01-10 08:20:25,630 [INFO] GateNode: Sync thread started
2026-01-10 08:20:25,630 [INFO] threads.sync: [INIT] HNSW database: 4 faces, version: 2026-01-10T02:54:31.722356+00:00
2026-01-10 08:20:25,631 [INFO] threads.ui_v2: UI thread starting in continuous mode
2026-01-10 08:20:25,632 [INFO] GateNode: UI thread started
2026-01-10 08:20:25,632 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T02:54:31.722356+00:00)
2026-01-10 08:20:25,632 [INFO] GateNode: Gate Node started successfully
2026-01-10 08:20:25,634 [INFO] GateNode: Starting main vision loop...
2026-01-10 08:20:26,077 [INFO] threads.ui_v2: Display window created: 1280x720
2026-01-10 08:20:27,937 [WARNING] threads.sync: Face sync failed (network): HTTPConnectionPool(host='127.0.0.1', port=8000): Max retries exceeded with url: /api/v1/faces/sync?org_id=DKUT&since=2026-01-10T02%3A54%3A31.722356%2B00%3A00 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001DC6FEE6710>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2026-01-10 08:20:40,792 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.59)
2026-01-10 08:20:40,806 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 08:20:40,984 [INFO] storage.logs: Logged access event #66: AUTHORIZED -> AUTHORIZED
2026-01-10 08:20:40,994 [INFO] GateNode: Track 1 recognized: AUTHORIZED (Stephen Njiu, conf=0.59)
2026-01-10 08:20:47,814 [INFO] core.gate_control: Gate auto-closed
2026-01-10 08:21:29,776 [INFO] threads.ui_v2: UI thread stopped
2026-01-10 08:21:37,069 [INFO] GateNode: Received signal 2
2026-01-10 08:21:37,070 [INFO] GateNode: Gate Node shutting down...
2026-01-10 08:21:37,071 [INFO] core.singletons: ONNXSessionManager initialized with providers: ['CPUExecutionProvider']
2026-01-10 08:21:37,071 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-10 08:21:37,072 [INFO] core.singletons: All singleton resources cleaned up
2026-01-10 08:21:37,072 [INFO] GateNode: Recognition executor shutdown
2026-01-10 08:21:37,073 [INFO] threads.sync: Sync thread stopped
2026-01-10 08:21:37,601 [INFO] threads.capture: Capture thread stopped
2026-01-10 08:21:37,602 [INFO] storage.logs: Access logger closed
2026-01-10 08:21:37,603 [INFO] GateNode: Gate Node stopped
2026-01-10 08:21:37,604 [INFO] GateNode: ==================================================
2026-01-10 08:21:37,606 [INFO] GateNode: Session Statistics:
2026-01-10 08:21:37,606 [INFO] GateNode:   Runtime: 72.0s
2026-01-10 08:21:37,607 [INFO] GateNode:   Frames processed (AI): 168
2026-01-10 08:21:37,607 [INFO] GateNode:   Average AI FPS: 2.3
2026-01-10 08:21:37,608 [INFO] GateNode:   Camera capture:
2026-01-10 08:21:37,609 [INFO] GateNode:     - Frames captured: 2012
2026-01-10 08:21:37,610 [INFO] GateNode:     - Capture FPS: 28.9
2026-01-10 08:21:37,611 [INFO] GateNode:     - Frames dropped (AI queue): 1842
2026-01-10 08:21:37,611 [INFO] GateNode:     - Frames dropped (stream): 233
2026-01-10 08:21:37,612 [INFO] GateNode:   Detection optimization:
2026-01-10 08:21:37,612 [INFO] GateNode:     - Detections run: 87
2026-01-10 08:21:37,613 [INFO] GateNode:     - Detections skipped: 80
2026-01-10 08:21:37,613 [INFO] GateNode:     - Skip rate: 47.9%
2026-01-10 08:21:37,614 [INFO] GateNode:   Unique tracks created: 2
2026-01-10 08:21:37,614 [INFO] GateNode:   Tracks confirmed: 1
2026-01-10 08:21:37,615 [INFO] GateNode:   Tracks recognized: 1
2026-01-10 08:21:37,615 [INFO] GateNode:   People counts:
2026-01-10 08:21:37,616 [INFO] GateNode:     - Authorized: 1
2026-01-10 08:21:37,616 [INFO] GateNode:     - Wanted: 0
2026-01-10 08:21:37,617 [INFO] GateNode:     - Unknown: 0
2026-01-10 08:21:37,617 [INFO] GateNode:   Gate opens: 1
2026-01-10 08:21:37,618 [INFO] GateNode:     - Authorized: 1
2026-01-10 08:21:37,619 [INFO] GateNode:     - Wanted: 0
2026-01-10 08:21:37,619 [INFO] GateNode:     - Rejected: 0
2026-01-10 08:21:37,620 [INFO] GateNode: ==================================================
2026-01-10 08:21:37,620 [INFO] GateNode: Gate Node shutting down...
2026-01-10 08:21:37,621 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-10 08:21:37,621 [INFO] core.singletons: All singleton resources cleaned up
2026-01-10 08:21:37,622 [INFO] GateNode: Recognition executor shutdown
2026-01-10 08:21:37,622 [INFO] storage.logs: Access logger closed
2026-01-10 08:21:37,623 [INFO] GateNode: Gate Node stopped
2026-01-10 08:21:37,623 [INFO] GateNode: ==================================================
2026-01-10 08:21:37,624 [INFO] GateNode: Session Statistics:
2026-01-10 08:21:37,624 [INFO] GateNode:   Runtime: 72.0s
2026-01-10 08:21:37,625 [INFO] GateNode:   Frames processed (AI): 168
2026-01-10 08:21:37,625 [INFO] GateNode:   Average AI FPS: 2.3
2026-01-10 08:21:37,626 [INFO] GateNode:   Camera capture:
2026-01-10 08:21:37,626 [INFO] GateNode:     - Frames captured: 2012
2026-01-10 08:21:37,626 [INFO] GateNode:     - Capture FPS: 28.9
2026-01-10 08:21:37,627 [INFO] GateNode:     - Frames dropped (AI queue): 1842
2026-01-10 08:21:37,631 [INFO] GateNode:     - Frames dropped (stream): 233
2026-01-10 08:21:37,634 [INFO] GateNode:   Detection optimization:
2026-01-10 08:21:37,636 [INFO] GateNode:     - Detections run: 87
2026-01-10 08:21:37,637 [INFO] GateNode:     - Detections skipped: 80
2026-01-10 08:21:37,637 [INFO] GateNode:     - Skip rate: 47.9%
2026-01-10 08:21:37,638 [INFO] GateNode:   Unique tracks created: 2
2026-01-10 08:21:37,642 [INFO] GateNode:   Tracks confirmed: 1
2026-01-10 08:21:37,642 [INFO] GateNode:   Tracks recognized: 1
2026-01-10 08:21:37,643 [INFO] GateNode:   People counts:
2026-01-10 08:21:37,643 [INFO] GateNode:     - Authorized: 1
2026-01-10 08:21:37,644 [INFO] GateNode:     - Wanted: 0
2026-01-10 08:21:37,644 [INFO] GateNode:     - Unknown: 0
2026-01-10 08:21:37,645 [INFO] GateNode:   Gate opens: 1
2026-01-10 08:21:37,645 [INFO] GateNode:     - Authorized: 1
2026-01-10 08:21:37,646 [INFO] GateNode:     - Wanted: 0
2026-01-10 08:21:37,646 [INFO] GateNode:     - Rejected: 0
2026-01-10 08:21:37,647 [INFO] GateNode: ==================================================
2026-01-10 08:21:41,694 [INFO] GateNode: ==================================================
2026-01-10 08:21:41,695 [INFO] GateNode: Gate Node starting: gate-001
2026-01-10 08:21:41,695 [INFO] GateNode: Organization: DKUT
2026-01-10 08:21:41,696 [INFO] GateNode: ==================================================
2026-01-10 08:21:41,696 [INFO] GateNode: Initializing storage...
2026-01-10 08:21:41,700 [INFO] storage.face_db: Loaded 4 face records from metadata
2026-01-10 08:21:41,704 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-10 08:21:41,706 [INFO] storage.face_db: Current sync version: 2026-01-10T02:54:31.722356+00:00
2026-01-10 08:21:41,710 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-10 08:21:41,711 [INFO] GateNode: Storage initialized: 4 faces in database
2026-01-10 08:21:41,712 [INFO] GateNode: Initializing vision pipeline...
2026-01-10 08:21:41,995 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-10 08:21:41,996 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-10 08:21:43,796 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-10 08:21:43,796 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-10 08:21:43,797 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=2, max_age=60, max_emb_dist=1.0
2026-01-10 08:21:43,797 [INFO] GateNode: Vision pipeline initialized
2026-01-10 08:21:43,798 [INFO] GateNode: Initializing gate controller...
2026-01-10 08:21:43,798 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-10 08:21:43,799 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-10 08:21:43,799 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-10 08:21:43,800 [INFO] threads.capture: Capture thread starting...
2026-01-10 08:21:44,191 [INFO] threads.capture: Camera opened: 640x480 @ 30.0fps
2026-01-10 08:21:44,192 [INFO] threads.capture: Capture thread running at 30 FPS target
2026-01-10 08:21:44,203 [INFO] GateNode: Camera opened: 640x480 @ 30fps
2026-01-10 08:21:44,207 [INFO] core.alarm: AlarmSystem initialized for platform: windows
2026-01-10 08:21:44,208 [INFO] GateNode: Alarm system initialized
2026-01-10 08:21:44,208 [INFO] GateNode: Initializing worker threads...
2026-01-10 08:21:44,209 [INFO] GateNode: Recognition thread pool initialized (2 workers)
2026-01-10 08:21:44,210 [INFO] GateNode: Streaming disabled (MQTT/LiveKit not configured or unavailable)
2026-01-10 08:21:44,210 [INFO] GateNode: Worker threads initialized
2026-01-10 08:21:44,212 [INFO] threads.sync: Sync thread started
2026-01-10 08:21:44,212 [INFO] GateNode: Sync thread started
2026-01-10 08:21:44,213 [INFO] threads.sync: [INIT] HNSW database: 4 faces, version: 2026-01-10T02:54:31.722356+00:00
2026-01-10 08:21:44,215 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T02:54:31.722356+00:00)
2026-01-10 08:21:44,215 [INFO] threads.ui_v2: UI thread starting in continuous mode
2026-01-10 08:21:44,215 [INFO] GateNode: UI thread started
2026-01-10 08:21:44,235 [INFO] GateNode: Gate Node started successfully
2026-01-10 08:21:44,237 [INFO] GateNode: Starting main vision loop...
2026-01-10 08:21:44,303 [INFO] threads.ui_v2: Display window created: 1280x720
2026-01-10 08:21:46,282 [WARNING] threads.sync: Face sync failed (network): HTTPConnectionPool(host='127.0.0.1', port=8000): Max retries exceeded with url: /api/v1/faces/sync?org_id=DKUT&since=2026-01-10T02%3A54%3A31.722356%2B00%3A00 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001ED13383BD0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2026-01-10 08:21:49,187 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.56)
2026-01-10 08:21:49,225 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 08:21:49,497 [INFO] storage.logs: Logged access event #67: AUTHORIZED -> AUTHORIZED
2026-01-10 08:21:49,497 [INFO] GateNode: Track 1 recognized: AUTHORIZED (Stephen Njiu, conf=0.56)
2026-01-10 08:21:56,227 [INFO] core.gate_control: Gate auto-closed
2026-01-10 08:22:18,078 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.53)
2026-01-10 08:22:18,098 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 08:22:18,275 [INFO] storage.logs: Logged access event #68: AUTHORIZED -> AUTHORIZED
2026-01-10 08:22:18,277 [INFO] GateNode: Track 3 recognized: AUTHORIZED (Stephen Njiu, conf=0.53)
2026-01-10 08:22:25,100 [INFO] core.gate_control: Gate auto-closed
2026-01-10 08:22:53,202 [INFO] threads.ui_v2: Display mode changed to: streaming
2026-01-10 08:23:05,909 [INFO] threads.ui_v2: Display mode changed to: alert_only
2026-01-10 08:23:13,082 [INFO] threads.ui_v2: UI thread stopped
2026-01-10 08:23:46,830 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T02:54:31.722356+00:00)
2026-01-10 08:23:48,287 [INFO] GateNode: Received signal 2
2026-01-10 08:23:48,288 [INFO] GateNode: Gate Node shutting down...
2026-01-10 08:23:48,288 [INFO] core.singletons: ONNXSessionManager initialized with providers: ['CPUExecutionProvider']
2026-01-10 08:23:48,290 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-10 08:23:48,291 [INFO] core.singletons: All singleton resources cleaned up
2026-01-10 08:23:48,292 [INFO] GateNode: Recognition executor shutdown
2026-01-10 08:23:49,080 [WARNING] threads.sync: Face sync failed (network): HTTPConnectionPool(host='127.0.0.1', port=8000): Max retries exceeded with url: /api/v1/faces/sync?org_id=DKUT&since=2026-01-10T02%3A54%3A31.722356%2B00%3A00 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001ED13930410>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2026-01-10 08:23:49,081 [INFO] threads.sync: Sync thread stopped
2026-01-10 08:23:49,619 [INFO] threads.capture: Capture thread stopped
2026-01-10 08:23:49,620 [INFO] storage.logs: Access logger closed
2026-01-10 08:23:49,622 [INFO] GateNode: Gate Node stopped
2026-01-10 08:23:49,622 [INFO] GateNode: ==================================================
2026-01-10 08:23:49,623 [INFO] GateNode: Session Statistics:
2026-01-10 08:23:49,623 [INFO] GateNode:   Runtime: 125.4s
2026-01-10 08:23:49,624 [INFO] GateNode:   Frames processed (AI): 168
2026-01-10 08:23:49,625 [INFO] GateNode:   Average AI FPS: 1.3
2026-01-10 08:23:49,626 [INFO] GateNode:   Camera capture:
2026-01-10 08:23:49,626 [INFO] GateNode:     - Frames captured: 3547
2026-01-10 08:23:49,627 [INFO] GateNode:     - Capture FPS: 27.7
2026-01-10 08:23:49,627 [INFO] GateNode:     - Frames dropped (AI queue): 3377
2026-01-10 08:23:49,627 [INFO] GateNode:     - Frames dropped (stream): 1289
2026-01-10 08:23:49,628 [INFO] GateNode:   Detection optimization:
2026-01-10 08:23:49,628 [INFO] GateNode:     - Detections run: 137
2026-01-10 08:23:49,629 [INFO] GateNode:     - Detections skipped: 30
2026-01-10 08:23:49,629 [INFO] GateNode:     - Skip rate: 18.0%
2026-01-10 08:23:49,630 [INFO] GateNode:   Unique tracks created: 3
2026-01-10 08:23:49,631 [INFO] GateNode:   Tracks confirmed: 2
2026-01-10 08:23:49,631 [INFO] GateNode:   Tracks recognized: 2
2026-01-10 08:23:49,632 [INFO] GateNode:   People counts:
2026-01-10 08:23:49,632 [INFO] GateNode:     - Authorized: 2
2026-01-10 08:23:49,633 [INFO] GateNode:     - Wanted: 0
2026-01-10 08:23:49,633 [INFO] GateNode:     - Unknown: 0
2026-01-10 08:23:49,634 [INFO] GateNode:   Gate opens: 2
2026-01-10 08:23:49,634 [INFO] GateNode:     - Authorized: 2
2026-01-10 08:23:49,634 [INFO] GateNode:     - Wanted: 0
2026-01-10 08:23:49,635 [INFO] GateNode:     - Rejected: 0
2026-01-10 08:23:49,636 [INFO] GateNode: ==================================================
2026-01-10 08:23:49,636 [INFO] GateNode: Gate Node shutting down...
2026-01-10 08:23:49,637 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-10 08:23:49,637 [INFO] core.singletons: All singleton resources cleaned up
2026-01-10 08:23:49,638 [INFO] GateNode: Recognition executor shutdown
2026-01-10 08:23:49,638 [INFO] storage.logs: Access logger closed
2026-01-10 08:23:49,639 [INFO] GateNode: Gate Node stopped
2026-01-10 08:23:49,639 [INFO] GateNode: ==================================================
2026-01-10 08:23:49,639 [INFO] GateNode: Session Statistics:
2026-01-10 08:23:49,641 [INFO] GateNode:   Runtime: 125.4s
2026-01-10 08:23:49,641 [INFO] GateNode:   Frames processed (AI): 168
2026-01-10 08:23:49,644 [INFO] GateNode:   Average AI FPS: 1.3
2026-01-10 08:23:49,644 [INFO] GateNode:   Camera capture:
2026-01-10 08:23:49,650 [INFO] GateNode:     - Frames captured: 3547
2026-01-10 08:23:49,651 [INFO] GateNode:     - Capture FPS: 27.7
2026-01-10 08:23:49,652 [INFO] GateNode:     - Frames dropped (AI queue): 3377
2026-01-10 08:23:49,653 [INFO] GateNode:     - Frames dropped (stream): 1289
2026-01-10 08:23:49,653 [INFO] GateNode:   Detection optimization:
2026-01-10 08:23:49,654 [INFO] GateNode:     - Detections run: 137
2026-01-10 08:23:49,654 [INFO] GateNode:     - Detections skipped: 30
2026-01-10 08:23:49,655 [INFO] GateNode:     - Skip rate: 18.0%
2026-01-10 08:23:49,655 [INFO] GateNode:   Unique tracks created: 3
2026-01-10 08:23:49,656 [INFO] GateNode:   Tracks confirmed: 2
2026-01-10 08:23:49,656 [INFO] GateNode:   Tracks recognized: 2
2026-01-10 08:23:49,657 [INFO] GateNode:   People counts:
2026-01-10 08:23:49,657 [INFO] GateNode:     - Authorized: 2
2026-01-10 08:23:49,658 [INFO] GateNode:     - Wanted: 0
2026-01-10 08:23:49,658 [INFO] GateNode:     - Unknown: 0
2026-01-10 08:23:49,659 [INFO] GateNode:   Gate opens: 2
2026-01-10 08:23:49,659 [INFO] GateNode:     - Authorized: 2
2026-01-10 08:23:49,660 [INFO] GateNode:     - Wanted: 0
2026-01-10 08:23:49,660 [INFO] GateNode:     - Rejected: 0
2026-01-10 08:23:49,661 [INFO] GateNode: ==================================================
2026-01-10 08:24:05,569 [INFO] GateNode: ==================================================
2026-01-10 08:24:05,570 [INFO] GateNode: Gate Node starting: gate-001
2026-01-10 08:24:05,571 [INFO] GateNode: Organization: DKUT
2026-01-10 08:24:05,571 [INFO] GateNode: ==================================================
2026-01-10 08:24:05,571 [INFO] GateNode: Initializing storage...
2026-01-10 08:24:05,575 [INFO] storage.face_db: Loaded 4 face records from metadata
2026-01-10 08:24:05,579 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-10 08:24:05,580 [INFO] storage.face_db: Current sync version: 2026-01-10T02:54:31.722356+00:00
2026-01-10 08:24:05,585 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-10 08:24:05,586 [INFO] GateNode: Storage initialized: 4 faces in database
2026-01-10 08:24:05,587 [INFO] GateNode: Initializing vision pipeline...
2026-01-10 08:24:05,958 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-10 08:24:05,958 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-10 08:24:08,866 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-10 08:24:08,867 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-10 08:24:08,867 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=2, max_age=60, max_emb_dist=1.0
2026-01-10 08:24:08,868 [INFO] GateNode: Vision pipeline initialized
2026-01-10 08:24:08,869 [INFO] GateNode: Initializing gate controller...
2026-01-10 08:24:08,869 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-10 08:24:08,869 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-10 08:24:08,870 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-10 08:24:08,871 [INFO] threads.capture: Capture thread starting...
2026-01-10 08:24:09,492 [INFO] threads.capture: Camera opened: 640x480 @ 30.0fps
2026-01-10 08:24:09,492 [INFO] threads.capture: Capture thread running at 30 FPS target
2026-01-10 08:24:09,531 [INFO] GateNode: Camera opened: 640x480 @ 30fps
2026-01-10 08:24:09,537 [INFO] core.alarm: AlarmSystem initialized for platform: windows
2026-01-10 08:24:09,538 [INFO] GateNode: Alarm system initialized
2026-01-10 08:24:09,539 [INFO] GateNode: Initializing worker threads...
2026-01-10 08:24:09,541 [INFO] GateNode: Recognition thread pool initialized (2 workers)
2026-01-10 08:24:09,543 [INFO] GateNode: Streaming disabled (MQTT/LiveKit not configured or unavailable)
2026-01-10 08:24:09,543 [INFO] GateNode: Worker threads initialized
2026-01-10 08:24:09,545 [INFO] threads.sync: Sync thread started
2026-01-10 08:24:09,545 [INFO] GateNode: Sync thread started
2026-01-10 08:24:09,545 [INFO] threads.sync: [INIT] HNSW database: 4 faces, version: 2026-01-10T02:54:31.722356+00:00
2026-01-10 08:24:09,548 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T02:54:31.722356+00:00)
2026-01-10 08:24:09,550 [INFO] GateNode: UI thread started
2026-01-10 08:24:09,550 [INFO] threads.ui_v2: UI thread starting in continuous mode
2026-01-10 08:24:09,562 [INFO] GateNode: Gate Node started successfully
2026-01-10 08:24:09,573 [INFO] GateNode: Starting main vision loop...
2026-01-10 08:24:09,617 [INFO] threads.ui_v2: Display window created: 1280x720
2026-01-10 08:24:11,607 [WARNING] threads.sync: Face sync failed (network): HTTPConnectionPool(host='127.0.0.1', port=8000): Max retries exceeded with url: /api/v1/faces/sync?org_id=DKUT&since=2026-01-10T02%3A54%3A31.722356%2B00%3A00 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000247D16B3A90>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2026-01-10 08:25:38,037 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.51)
2026-01-10 08:25:38,048 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 08:25:38,257 [INFO] storage.logs: Logged access event #69: AUTHORIZED -> AUTHORIZED
2026-01-10 08:25:38,258 [INFO] GateNode: Track 1 recognized: AUTHORIZED (Stephen Njiu, conf=0.51)
2026-01-10 08:25:45,059 [INFO] core.gate_control: Gate auto-closed
2026-01-10 08:25:58,916 [INFO] core.gate_control: ACCESS GRANTED: b7ad2442-3dae-4ab6-b95d-d606599cb00c (confidence: 0.54)
2026-01-10 08:25:58,956 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 08:25:59,224 [INFO] storage.logs: Logged access event #70: AUTHORIZED -> AUTHORIZED
2026-01-10 08:25:59,228 [INFO] GateNode: Track 2 recognized: AUTHORIZED (Stephen Njiu, conf=0.54)
2026-01-10 08:26:05,957 [INFO] core.gate_control: Gate auto-closed
2026-01-10 08:26:11,886 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T02:54:31.722356+00:00)
2026-01-10 08:26:13,959 [WARNING] threads.sync: Face sync failed (network): HTTPConnectionPool(host='127.0.0.1', port=8000): Max retries exceeded with url: /api/v1/faces/sync?org_id=DKUT&since=2026-01-10T02%3A54%3A31.722356%2B00%3A00 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000247D16C84D0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2026-01-10 08:26:33,190 [INFO] threads.ui_v2: UI thread stopped
2026-01-10 08:26:37,312 [INFO] GateNode: Received signal 2
2026-01-10 08:26:37,319 [INFO] GateNode: Gate Node shutting down...
2026-01-10 08:26:37,319 [INFO] core.singletons: ONNXSessionManager initialized with providers: ['CPUExecutionProvider']
2026-01-10 08:26:37,326 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-10 08:26:37,328 [INFO] core.singletons: All singleton resources cleaned up
2026-01-10 08:26:37,330 [INFO] GateNode: Recognition executor shutdown
2026-01-10 08:26:37,332 [INFO] threads.sync: Sync thread stopped
2026-01-10 08:26:37,747 [INFO] threads.capture: Capture thread stopped
2026-01-10 08:26:37,751 [INFO] GateNode: Received signal 2
2026-01-10 08:26:37,755 [INFO] GateNode: Gate Node shutting down...
2026-01-10 08:26:37,763 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-10 08:26:37,768 [INFO] core.singletons: All singleton resources cleaned up
2026-01-10 08:26:37,770 [INFO] GateNode: Recognition executor shutdown
2026-01-10 08:26:39,777 [INFO] GateNode: Received signal 2
2026-01-10 08:26:39,779 [INFO] GateNode: Gate Node shutting down...
2026-01-10 08:26:39,781 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-10 08:26:39,782 [INFO] core.singletons: All singleton resources cleaned up
2026-01-10 08:26:39,783 [INFO] GateNode: Recognition executor shutdown
2026-01-10 08:26:41,788 [INFO] storage.logs: Access logger closed
2026-01-10 08:26:41,790 [INFO] GateNode: Gate Node stopped
2026-01-10 08:26:41,791 [INFO] GateNode: ==================================================
2026-01-10 08:26:41,793 [INFO] GateNode: Session Statistics:
2026-01-10 08:26:41,794 [INFO] GateNode:   Runtime: 152.2s
2026-01-10 08:26:41,797 [INFO] GateNode:   Frames processed (AI): 201
2026-01-10 08:26:41,799 [INFO] GateNode:   Average AI FPS: 1.3
2026-01-10 08:26:41,800 [INFO] GateNode:   Camera capture:
2026-01-10 08:26:41,804 [INFO] GateNode:     - Frames captured: 4236
2026-01-10 08:26:41,806 [INFO] GateNode:     - Capture FPS: 28.9
2026-01-10 08:26:41,807 [INFO] GateNode:     - Frames dropped (AI queue): 4033
2026-01-10 08:26:41,810 [INFO] GateNode:     - Frames dropped (stream): 151
2026-01-10 08:26:41,812 [INFO] GateNode:   Detection optimization:
2026-01-10 08:26:41,813 [INFO] GateNode:     - Detections run: 150
2026-01-10 08:26:41,816 [INFO] GateNode:     - Detections skipped: 50
2026-01-10 08:26:41,818 [INFO] GateNode:     - Skip rate: 25.0%
2026-01-10 08:26:41,819 [INFO] GateNode:   Unique tracks created: 2
2026-01-10 08:26:41,820 [INFO] GateNode:   Tracks confirmed: 2
2026-01-10 08:26:41,821 [INFO] GateNode:   Tracks recognized: 2
2026-01-10 08:26:41,822 [INFO] GateNode:   People counts:
2026-01-10 08:26:41,822 [INFO] GateNode:     - Authorized: 2
2026-01-10 08:26:41,823 [INFO] GateNode:     - Wanted: 0
2026-01-10 08:26:41,824 [INFO] GateNode:     - Unknown: 0
2026-01-10 08:26:41,825 [INFO] GateNode:   Gate opens: 2
2026-01-10 08:26:41,825 [INFO] GateNode:     - Authorized: 2
2026-01-10 08:26:41,826 [INFO] GateNode:     - Wanted: 0
2026-01-10 08:26:41,827 [INFO] GateNode:     - Rejected: 0
2026-01-10 08:26:41,827 [INFO] GateNode: ==================================================
2026-01-10 08:26:41,828 [INFO] GateNode: Gate Node shutting down...
2026-01-10 08:26:41,830 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-10 08:26:41,833 [INFO] core.singletons: All singleton resources cleaned up
2026-01-10 08:26:41,837 [INFO] GateNode: Recognition executor shutdown
2026-01-10 08:26:41,838 [INFO] storage.logs: Access logger closed
2026-01-10 08:26:41,839 [INFO] GateNode: Gate Node stopped
2026-01-10 08:26:41,840 [INFO] GateNode: ==================================================
2026-01-10 08:26:41,840 [INFO] GateNode: Session Statistics:
2026-01-10 08:26:41,841 [INFO] GateNode:   Runtime: 152.3s
2026-01-10 08:26:41,842 [INFO] GateNode:   Frames processed (AI): 201
2026-01-10 08:26:41,843 [INFO] GateNode:   Average AI FPS: 1.3
2026-01-10 08:26:41,843 [INFO] GateNode:   Camera capture:
2026-01-10 08:26:41,844 [INFO] GateNode:     - Frames captured: 4236
2026-01-10 08:26:41,845 [INFO] GateNode:     - Capture FPS: 28.9
2026-01-10 08:26:41,845 [INFO] GateNode:     - Frames dropped (AI queue): 4033
2026-01-10 08:26:41,846 [INFO] GateNode:     - Frames dropped (stream): 151
2026-01-10 08:26:41,847 [INFO] GateNode:   Detection optimization:
2026-01-10 08:26:41,848 [INFO] GateNode:     - Detections run: 150
2026-01-10 08:26:41,853 [INFO] GateNode:     - Detections skipped: 50
2026-01-10 08:26:41,853 [INFO] GateNode:     - Skip rate: 25.0%
2026-01-10 08:26:41,856 [INFO] GateNode:   Unique tracks created: 2
2026-01-10 08:26:41,858 [INFO] GateNode:   Tracks confirmed: 2
2026-01-10 08:26:41,860 [INFO] GateNode:   Tracks recognized: 2
2026-01-10 08:26:41,861 [INFO] GateNode:   People counts:
2026-01-10 08:26:41,862 [INFO] GateNode:     - Authorized: 2
2026-01-10 08:26:41,863 [INFO] GateNode:     - Wanted: 0
2026-01-10 08:26:41,863 [INFO] GateNode:     - Unknown: 0
2026-01-10 08:26:41,863 [INFO] GateNode:   Gate opens: 2
2026-01-10 08:26:41,864 [INFO] GateNode:     - Authorized: 2
2026-01-10 08:26:41,864 [INFO] GateNode:     - Wanted: 0
2026-01-10 08:26:41,865 [INFO] GateNode:     - Rejected: 0
2026-01-10 08:26:41,865 [INFO] GateNode: ==================================================
2026-01-10 08:31:08,650 [INFO] GateNode: ==================================================
2026-01-10 08:31:08,651 [INFO] GateNode: Gate Node starting: gate-001
2026-01-10 08:31:08,651 [INFO] GateNode: Organization: DKUT
2026-01-10 08:31:08,652 [INFO] GateNode: ==================================================
2026-01-10 08:31:08,652 [INFO] GateNode: Initializing storage...
2026-01-10 08:31:08,656 [INFO] storage.face_db: Loaded 4 face records from metadata
2026-01-10 08:31:08,660 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-10 08:31:08,661 [INFO] storage.face_db: Current sync version: 2026-01-10T02:54:31.722356+00:00
2026-01-10 08:31:08,666 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-10 08:31:08,667 [INFO] GateNode: Storage initialized: 4 faces in database
2026-01-10 08:31:08,668 [INFO] GateNode: Initializing vision pipeline...
2026-01-10 08:31:08,972 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-10 08:31:08,973 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-10 08:31:10,889 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-10 08:31:10,890 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-10 08:31:10,890 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=1, max_age=30, max_emb_dist=1.0
2026-01-10 08:31:10,891 [INFO] GateNode: Vision pipeline initialized
2026-01-10 08:31:10,891 [INFO] GateNode: Initializing gate controller...
2026-01-10 08:31:10,892 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-10 08:31:10,892 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-10 08:31:10,892 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-10 08:31:10,894 [INFO] threads.capture: Capture thread starting...
2026-01-10 08:31:11,515 [INFO] threads.capture: Camera opened: 640x480 @ 30.0fps
2026-01-10 08:31:11,515 [INFO] threads.capture: Capture thread running at 30 FPS target
2026-01-10 08:31:11,599 [INFO] GateNode: Camera opened: 640x480 @ 30fps
2026-01-10 08:31:11,602 [INFO] core.alarm: AlarmSystem initialized for platform: windows
2026-01-10 08:31:11,603 [INFO] GateNode: Alarm system initialized
2026-01-10 08:31:11,604 [INFO] GateNode: Initializing worker threads...
2026-01-10 08:31:11,605 [INFO] GateNode: Recognition thread pool initialized (2 workers)
2026-01-10 08:31:11,606 [INFO] GateNode: Streaming disabled (MQTT/LiveKit not configured or unavailable)
2026-01-10 08:31:11,607 [INFO] GateNode: Worker threads initialized
2026-01-10 08:31:11,608 [INFO] threads.sync: Sync thread started
2026-01-10 08:31:11,609 [INFO] GateNode: Sync thread started
2026-01-10 08:31:11,609 [INFO] threads.sync: [INIT] HNSW database: 4 faces, version: 2026-01-10T02:54:31.722356+00:00
2026-01-10 08:31:11,612 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T02:54:31.722356+00:00)
2026-01-10 08:31:11,613 [INFO] GateNode: UI thread started
2026-01-10 08:31:11,612 [INFO] threads.ui_v2: UI thread starting in continuous mode
2026-01-10 08:31:11,614 [INFO] GateNode: Gate Node started successfully
2026-01-10 08:31:11,636 [INFO] GateNode: Starting main vision loop...
2026-01-10 08:31:11,677 [INFO] threads.ui_v2: Display window created: 1280x720
2026-01-10 08:31:13,676 [WARNING] threads.sync: Face sync failed (network): HTTPConnectionPool(host='127.0.0.1', port=8000): Max retries exceeded with url: /api/v1/faces/sync?org_id=DKUT&since=2026-01-10T02%3A54%3A31.722356%2B00%3A00 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001D944A82210>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2026-01-10 08:31:15,729 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.53)
2026-01-10 08:31:15,735 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 08:31:15,997 [INFO] storage.logs: Logged access event #71: AUTHORIZED -> AUTHORIZED
2026-01-10 08:31:16,000 [INFO] GateNode: Track 1 recognized: AUTHORIZED (Stephen Njiu, conf=0.53)
2026-01-10 08:31:19,832 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.52)
2026-01-10 08:31:19,849 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 08:31:20,008 [INFO] storage.logs: Logged access event #72: AUTHORIZED -> AUTHORIZED
2026-01-10 08:31:20,009 [INFO] GateNode: Track 2 recognized: AUTHORIZED (Stephen Njiu, conf=0.52)
2026-01-10 08:31:26,855 [INFO] core.gate_control: Gate auto-closed
2026-01-10 08:31:28,868 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.51)
2026-01-10 08:31:28,901 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 08:31:29,110 [INFO] storage.logs: Logged access event #73: AUTHORIZED -> AUTHORIZED
2026-01-10 08:31:29,111 [INFO] GateNode: Track 3 recognized: AUTHORIZED (Stephen Njiu, conf=0.51)
2026-01-10 08:31:35,904 [INFO] core.gate_control: Gate auto-closed
2026-01-10 08:31:50,009 [INFO] GateNode: Track 4 marked UNKNOWN after 3 attempts
2026-01-10 08:31:50,312 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-10 08:31:50,313 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 08:31:53,506 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-10 08:31:57,114 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-10 08:31:57,115 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 08:32:00,806 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-10 08:32:06,091 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-10 08:32:06,092 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 08:32:09,191 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-10 08:32:15,519 [INFO] core.gate_control: ACCESS GRANTED: b7ad2442-3dae-4ab6-b95d-d606599cb00c (confidence: 0.55)
2026-01-10 08:32:15,521 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 08:32:15,689 [INFO] storage.logs: Logged access event #74: AUTHORIZED -> AUTHORIZED
2026-01-10 08:32:15,690 [INFO] GateNode: Track 6 recognized: AUTHORIZED (Stephen Njiu, conf=0.55)
2026-01-10 08:32:22,521 [INFO] core.gate_control: Gate auto-closed
2026-01-10 08:32:38,541 [INFO] GateNode: Track 7 marked UNKNOWN after 3 attempts
2026-01-10 08:32:59,644 [INFO] core.gate_control: ACCESS GRANTED: 53005694-1f87-48b6-a743-02a5e7d1a956 (confidence: 0.52)
2026-01-10 08:32:59,656 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 08:32:59,922 [INFO] storage.logs: Logged access event #75: AUTHORIZED -> AUTHORIZED
2026-01-10 08:32:59,923 [INFO] GateNode: Track 9 recognized: AUTHORIZED (Stephen Njiu, conf=0.52)
2026-01-10 08:33:06,661 [INFO] core.gate_control: Gate auto-closed
2026-01-10 08:33:10,432 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.56)
2026-01-10 08:33:10,441 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 08:33:10,633 [INFO] storage.logs: Logged access event #76: AUTHORIZED -> AUTHORIZED
2026-01-10 08:33:10,647 [INFO] GateNode: Track 10 recognized: AUTHORIZED (Stephen Njiu, conf=0.56)
2026-01-10 08:33:13,980 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T02:54:31.722356+00:00)
2026-01-10 08:33:16,402 [WARNING] threads.sync: Face sync failed (network): HTTPConnectionPool(host='127.0.0.1', port=8000): Max retries exceeded with url: /api/v1/faces/sync?org_id=DKUT&since=2026-01-10T02%3A54%3A31.722356%2B00%3A00 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001D944A980D0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2026-01-10 08:33:17,454 [INFO] core.gate_control: Gate auto-closed
2026-01-10 08:35:16,797 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T02:54:31.722356+00:00)
2026-01-10 08:35:19,202 [WARNING] threads.sync: Face sync failed (network): HTTPConnectionPool(host='127.0.0.1', port=8000): Max retries exceeded with url: /api/v1/faces/sync?org_id=DKUT&since=2026-01-10T02%3A54%3A31.722356%2B00%3A00 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001D944A98BD0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2026-01-10 08:35:31,109 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.54)
2026-01-10 08:35:31,116 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 08:35:31,349 [INFO] storage.logs: Logged access event #77: AUTHORIZED -> AUTHORIZED
2026-01-10 08:35:31,351 [INFO] GateNode: Track 11 recognized: AUTHORIZED (Stephen Njiu, conf=0.54)
2026-01-10 08:35:38,131 [INFO] core.gate_control: Gate auto-closed
2026-01-10 08:36:42,415 [INFO] threads.ui_v2: Display mode changed to: streaming
2026-01-10 08:36:49,093 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.57)
2026-01-10 08:36:49,112 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 08:36:50,666 [INFO] storage.logs: Logged access event #78: AUTHORIZED -> AUTHORIZED
2026-01-10 08:36:50,674 [INFO] GateNode: Track 12 recognized: AUTHORIZED (Stephen Njiu, conf=0.57)
2026-01-10 08:36:56,113 [INFO] core.gate_control: Gate auto-closed
2026-01-10 08:37:19,427 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T02:54:31.722356+00:00)
2026-01-10 08:37:26,817 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-10T05:37:23.970855+00:00
2026-01-10 08:37:26,841 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-10 08:37:42,852 [INFO] threads.ui_v2: Display mode changed to: alert_only
2026-01-10 08:37:47,971 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.57)
2026-01-10 08:37:48,009 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 08:37:48,298 [INFO] storage.logs: Logged access event #79: AUTHORIZED -> AUTHORIZED
2026-01-10 08:37:48,325 [INFO] GateNode: Track 13 recognized: AUTHORIZED (Stephen Njiu, conf=0.57)
2026-01-10 08:37:55,015 [INFO] core.gate_control: Gate auto-closed
2026-01-10 08:38:31,121 [INFO] threads.ui_v2: Display mode changed to: continuous
2026-01-10 08:38:40,038 [INFO] threads.ui_v2: Display mode changed to: streaming
2026-01-10 08:38:43,369 [INFO] threads.ui_v2: Display mode changed to: alert_only
2026-01-10 08:39:09,240 [INFO] threads.ui_v2: UI thread stopped
2026-01-10 08:39:14,807 [INFO] GateNode: Received signal 2
2026-01-10 08:39:14,827 [INFO] GateNode: Gate Node shutting down...
2026-01-10 08:39:14,848 [INFO] core.singletons: ONNXSessionManager initialized with providers: ['CPUExecutionProvider']
2026-01-10 08:39:14,849 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-10 08:39:14,859 [INFO] core.singletons: All singleton resources cleaned up
2026-01-10 08:39:14,874 [INFO] GateNode: Recognition executor shutdown
2026-01-10 08:39:14,878 [INFO] threads.sync: Sync thread stopped
2026-01-10 08:39:15,479 [INFO] threads.capture: Capture thread stopped
2026-01-10 08:39:15,524 [INFO] storage.logs: Access logger closed
2026-01-10 08:39:15,525 [INFO] GateNode: Gate Node stopped
2026-01-10 08:39:15,526 [INFO] GateNode: ==================================================
2026-01-10 08:39:15,526 [INFO] GateNode: Session Statistics:
2026-01-10 08:39:15,527 [INFO] GateNode:   Runtime: 483.9s
2026-01-10 08:39:15,527 [INFO] GateNode:   Frames processed (AI): 425
2026-01-10 08:39:15,527 [INFO] GateNode:   Average AI FPS: 0.9
2026-01-10 08:39:15,538 [INFO] GateNode:   Camera capture:
2026-01-10 08:39:15,539 [INFO] GateNode:     - Frames captured: 13454
2026-01-10 08:39:15,539 [INFO] GateNode:     - Capture FPS: 28.2
2026-01-10 08:39:15,567 [INFO] GateNode:     - Frames dropped (AI queue): 13027
2026-01-10 08:39:15,567 [INFO] GateNode:     - Frames dropped (stream): 2327
2026-01-10 08:39:15,568 [INFO] GateNode:   Detection optimization:
2026-01-10 08:39:15,568 [INFO] GateNode:     - Detections run: 424
2026-01-10 08:39:15,569 [INFO] GateNode:     - Detections skipped: 0
2026-01-10 08:39:15,569 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-10 08:39:15,570 [INFO] GateNode:   Unique tracks created: 13
2026-01-10 08:39:15,570 [INFO] GateNode:   Tracks confirmed: 11
2026-01-10 08:39:15,571 [INFO] GateNode:   Tracks recognized: 11
2026-01-10 08:39:15,571 [INFO] GateNode:   People counts:
2026-01-10 08:39:15,571 [INFO] GateNode:     - Authorized: 9
2026-01-10 08:39:15,572 [INFO] GateNode:     - Wanted: 0
2026-01-10 08:39:15,573 [INFO] GateNode:     - Unknown: 2
2026-01-10 08:39:15,574 [INFO] GateNode:   Gate opens: 9
2026-01-10 08:39:15,575 [INFO] GateNode:     - Authorized: 9
2026-01-10 08:39:15,576 [INFO] GateNode:     - Wanted: 0
2026-01-10 08:39:15,576 [INFO] GateNode:     - Rejected: 0
2026-01-10 08:39:15,577 [INFO] GateNode: ==================================================
2026-01-10 08:39:15,638 [INFO] GateNode: Gate Node shutting down...
2026-01-10 08:39:15,638 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-10 08:39:15,639 [INFO] core.singletons: All singleton resources cleaned up
2026-01-10 08:39:15,639 [INFO] GateNode: Recognition executor shutdown
2026-01-10 08:39:15,639 [INFO] storage.logs: Access logger closed
2026-01-10 08:39:15,640 [INFO] GateNode: Gate Node stopped
2026-01-10 08:39:15,640 [INFO] GateNode: ==================================================
2026-01-10 08:39:15,641 [INFO] GateNode: Session Statistics:
2026-01-10 08:39:15,641 [INFO] GateNode:   Runtime: 484.0s
2026-01-10 08:39:15,642 [INFO] GateNode:   Frames processed (AI): 425
2026-01-10 08:39:15,642 [INFO] GateNode:   Average AI FPS: 0.9
2026-01-10 08:39:15,643 [INFO] GateNode:   Camera capture:
2026-01-10 08:39:15,643 [INFO] GateNode:     - Frames captured: 13454
2026-01-10 08:39:15,644 [INFO] GateNode:     - Capture FPS: 28.2
2026-01-10 08:39:15,644 [INFO] GateNode:     - Frames dropped (AI queue): 13027
2026-01-10 08:39:15,645 [INFO] GateNode:     - Frames dropped (stream): 2327
2026-01-10 08:39:15,645 [INFO] GateNode:   Detection optimization:
2026-01-10 08:39:15,646 [INFO] GateNode:     - Detections run: 424
2026-01-10 08:39:15,646 [INFO] GateNode:     - Detections skipped: 0
2026-01-10 08:39:15,647 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-10 08:39:15,647 [INFO] GateNode:   Unique tracks created: 13
2026-01-10 08:39:15,648 [INFO] GateNode:   Tracks confirmed: 11
2026-01-10 08:39:15,648 [INFO] GateNode:   Tracks recognized: 11
2026-01-10 08:39:15,649 [INFO] GateNode:   People counts:
2026-01-10 08:39:15,649 [INFO] GateNode:     - Authorized: 9
2026-01-10 08:39:15,650 [INFO] GateNode:     - Wanted: 0
2026-01-10 08:39:15,650 [INFO] GateNode:     - Unknown: 2
2026-01-10 08:39:15,651 [INFO] GateNode:   Gate opens: 9
2026-01-10 08:39:15,653 [INFO] GateNode:     - Authorized: 9
2026-01-10 08:39:15,654 [INFO] GateNode:     - Wanted: 0
2026-01-10 08:39:15,654 [INFO] GateNode:     - Rejected: 0
2026-01-10 08:39:15,655 [INFO] GateNode: ==================================================
2026-01-10 10:09:25,685 [INFO] GateNode: ==================================================
2026-01-10 10:09:25,705 [INFO] GateNode: Gate Node starting: gate-001
2026-01-10 10:09:25,707 [INFO] GateNode: Organization: DKUT
2026-01-10 10:09:25,708 [INFO] GateNode: ==================================================
2026-01-10 10:09:25,709 [INFO] GateNode: Initializing storage...
2026-01-10 10:09:25,870 [INFO] storage.face_db: Loaded 4 face records from metadata
2026-01-10 10:09:26,013 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-10 10:09:26,092 [INFO] storage.face_db: Current sync version: 2026-01-10T02:54:31.722356+00:00
2026-01-10 10:09:26,257 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-10 10:09:26,258 [INFO] GateNode: Storage initialized: 4 faces in database
2026-01-10 10:09:26,260 [INFO] GateNode: Initializing vision pipeline...
2026-01-10 10:09:28,395 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-10 10:09:28,395 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-10 10:09:32,072 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-10 10:09:32,073 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-10 10:09:32,073 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=1, max_age=30, max_emb_dist=1.0
2026-01-10 10:09:32,074 [INFO] GateNode: Vision pipeline initialized
2026-01-10 10:09:32,074 [INFO] GateNode: Initializing gate controller...
2026-01-10 10:09:32,075 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-10 10:09:32,075 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-10 10:09:32,075 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-10 10:09:32,076 [INFO] threads.capture: Capture thread starting...
2026-01-10 10:09:35,530 [ERROR] GateNode: Failed to open camera 0
2026-01-10 10:09:35,531 [ERROR] GateNode: Failed to start Gate Node
2026-01-10 10:09:41,250 [INFO] GateNode: ==================================================
2026-01-10 10:09:41,251 [INFO] GateNode: Gate Node starting: gate-001
2026-01-10 10:09:41,252 [INFO] GateNode: Organization: DKUT
2026-01-10 10:09:41,252 [INFO] GateNode: ==================================================
2026-01-10 10:09:41,252 [INFO] GateNode: Initializing storage...
2026-01-10 10:09:41,256 [INFO] storage.face_db: Loaded 4 face records from metadata
2026-01-10 10:09:41,260 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-10 10:09:41,262 [INFO] storage.face_db: Current sync version: 2026-01-10T02:54:31.722356+00:00
2026-01-10 10:09:41,265 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-10 10:09:41,266 [INFO] GateNode: Storage initialized: 4 faces in database
2026-01-10 10:09:41,267 [INFO] GateNode: Initializing vision pipeline...
2026-01-10 10:09:41,608 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-10 10:09:41,609 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-10 10:09:44,491 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-10 10:09:44,492 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-10 10:09:44,492 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=1, max_age=30, max_emb_dist=1.0
2026-01-10 10:09:44,493 [INFO] GateNode: Vision pipeline initialized
2026-01-10 10:09:44,493 [INFO] GateNode: Initializing gate controller...
2026-01-10 10:09:44,493 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-10 10:09:44,494 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-10 10:09:44,494 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-10 10:09:44,495 [INFO] threads.capture: Capture thread starting...
2026-01-10 10:09:45,359 [INFO] threads.capture: Camera opened: 640x480 @ 30.0fps
2026-01-10 10:09:45,360 [INFO] threads.capture: Capture thread running at 30 FPS target
2026-01-10 10:09:45,402 [INFO] GateNode: Camera opened: 640x480 @ 30fps
2026-01-10 10:09:46,994 [INFO] core.alarm: AlarmSystem initialized for platform: windows
2026-01-10 10:09:46,995 [INFO] GateNode: Alarm system initialized
2026-01-10 10:09:46,995 [INFO] GateNode: Initializing worker threads...
2026-01-10 10:09:46,996 [INFO] GateNode: Recognition thread pool initialized (2 workers)
2026-01-10 10:09:46,997 [INFO] GateNode: Streaming disabled (MQTT/LiveKit not configured or unavailable)
2026-01-10 10:09:46,998 [INFO] GateNode: Worker threads initialized
2026-01-10 10:09:46,999 [INFO] threads.sync: Sync thread started
2026-01-10 10:09:46,999 [INFO] GateNode: Sync thread started
2026-01-10 10:09:47,000 [INFO] threads.sync: [INIT] HNSW database: 4 faces, version: 2026-01-10T02:54:31.722356+00:00
2026-01-10 10:09:47,002 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T02:54:31.722356+00:00)
2026-01-10 10:09:47,003 [INFO] threads.ui_v2: UI thread starting in continuous mode
2026-01-10 10:09:47,003 [INFO] GateNode: UI thread started
2026-01-10 10:09:47,006 [INFO] GateNode: Gate Node started successfully
2026-01-10 10:09:47,008 [INFO] GateNode: Starting main vision loop...
2026-01-10 10:09:48,101 [INFO] threads.ui_v2: Display window created: 1280x720
2026-01-10 10:09:50,183 [INFO] threads.sync: API returned: 5 upserts, 0 deletes, version: 2026-01-10T07:09:47.970077+00:00
2026-01-10 10:09:50,350 [INFO] storage.face_db: Added face 39529a6e-b0a6-4aa8-89a1-2aaacdf9ba94 (Paul Kingori Mwangi) with status AUTHORIZED
2026-01-10 10:09:50,425 [INFO] storage.face_db: Added face f7e0379b-f25c-4b68-bdc3-e10c714dd16a (Paul Kingori Mwangi) with status AUTHORIZED
2026-01-10 10:09:50,457 [INFO] storage.face_db: Added face 9bc5e31d-a7f7-4763-bd37-e5aa137841e4 (Paul Kingori Mwangi) with status AUTHORIZED
2026-01-10 10:09:50,458 [INFO] storage.face_db: Added face 522c6869-746e-4f71-bc04-fd129204a32f (Paul Kingori Mwangi) with status AUTHORIZED
2026-01-10 10:09:50,459 [INFO] storage.face_db: Added face 39e027a8-821f-4c9c-b554-de0f9ad77cae (Paul Kingori Mwangi) with status AUTHORIZED
2026-01-10 10:09:50,460 [INFO] threads.sync: Added/updated 5/5 faces
2026-01-10 10:09:50,658 [INFO] threads.sync: [SYNC OK] 5 upserts, 0 deletes -> 9 faces in DB, version 2026-01-10T07:09:47.970077+00:00
2026-01-10 10:09:59,361 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.55)
2026-01-10 10:09:59,402 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 10:10:01,387 [INFO] storage.logs: Logged access event #80: AUTHORIZED -> AUTHORIZED
2026-01-10 10:10:01,388 [INFO] GateNode: Track 1 recognized: AUTHORIZED (Stephen Njiu, conf=0.55)
2026-01-10 10:10:06,405 [INFO] core.gate_control: Gate auto-closed
2026-01-10 10:10:35,866 [INFO] GateNode: Track 2 marked UNKNOWN after 3 attempts
2026-01-10 10:10:45,276 [INFO] core.gate_control: ACCESS GRANTED: 25079658-9b13-472c-bee5-27f4649ff4ed (confidence: 0.56)
2026-01-10 10:10:45,300 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 10:10:45,471 [INFO] storage.logs: Logged access event #81: AUTHORIZED -> AUTHORIZED
2026-01-10 10:10:45,474 [INFO] GateNode: Track 4 recognized: AUTHORIZED (Stephen Njiu, conf=0.56)
2026-01-10 10:10:52,315 [INFO] core.gate_control: Gate auto-closed
2026-01-10 10:10:59,717 [INFO] GateNode: Track 3 marked UNKNOWN after 3 attempts
2026-01-10 10:11:03,647 [INFO] GateNode: Track 5 marked UNKNOWN after 3 attempts
2026-01-10 10:11:04,046 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 5)
2026-01-10 10:11:04,068 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 10:11:08,491 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-10 10:11:11,777 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-10 10:11:11,778 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 10:11:15,879 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.58)
2026-01-10 10:11:15,925 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 10:11:16,183 [INFO] storage.logs: Logged access event #82: AUTHORIZED -> AUTHORIZED
2026-01-10 10:11:16,184 [INFO] GateNode: Track 6 recognized: AUTHORIZED (Stephen Njiu, conf=0.58)
2026-01-10 10:11:22,925 [INFO] core.gate_control: Gate auto-closed
2026-01-10 10:11:25,250 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 5)
2026-01-10 10:11:25,251 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 10:11:28,760 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 5)
2026-01-10 10:11:32,162 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 5)
2026-01-10 10:11:32,163 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 10:11:35,655 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 5)
2026-01-10 10:11:44,804 [INFO] GateNode: Track 7 marked UNKNOWN after 3 attempts
2026-01-10 10:11:50,907 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T07:09:47.970077+00:00)
2026-01-10 10:11:51,706 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-10T07:11:51.271001+00:00
2026-01-10 10:11:51,706 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-10 10:12:12,156 [INFO] threads.ui_v2: Display mode changed to: streaming
2026-01-10 10:12:13,437 [INFO] threads.ui_v2: Display mode changed to: alert_only
2026-01-10 10:12:14,204 [INFO] threads.ui_v2: Display mode changed to: continuous
2026-01-10 10:12:20,300 [INFO] threads.ui_v2: Display mode changed to: streaming
2026-01-10 10:12:21,379 [INFO] threads.ui_v2: Display mode changed to: alert_only
2026-01-10 10:12:22,938 [INFO] threads.ui_v2: Display mode changed to: continuous
2026-01-10 10:12:23,926 [INFO] threads.ui_v2: Display mode changed to: streaming
2026-01-10 10:12:24,961 [INFO] threads.ui_v2: Display mode changed to: alert_only
2026-01-10 10:12:27,248 [INFO] threads.ui_v2: Display mode changed to: continuous
2026-01-10 10:12:32,841 [INFO] core.gate_control: ACCESS GRANTED: 39529a6e-b0a6-4aa8-89a1-2aaacdf9ba94 (confidence: 0.77)
2026-01-10 10:12:32,866 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 10:12:33,037 [INFO] storage.logs: Logged access event #83: AUTHORIZED -> AUTHORIZED
2026-01-10 10:12:33,037 [INFO] GateNode: Track 9 recognized: AUTHORIZED (Paul Kingori Mwangi, conf=0.77)
2026-01-10 10:12:39,870 [INFO] core.gate_control: Gate auto-closed
2026-01-10 10:13:18,433 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.57)
2026-01-10 10:13:18,451 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 10:13:18,616 [INFO] storage.logs: Logged access event #84: AUTHORIZED -> AUTHORIZED
2026-01-10 10:13:18,627 [INFO] GateNode: Track 10 recognized: AUTHORIZED (Stephen Njiu, conf=0.57)
2026-01-10 10:13:25,460 [INFO] core.gate_control: Gate auto-closed
2026-01-10 10:13:45,491 [INFO] threads.ui_v2: Display mode changed to: streaming
2026-01-10 10:13:46,554 [INFO] threads.ui_v2: Display mode changed to: alert_only
2026-01-10 10:13:48,533 [INFO] threads.ui_v2: Display mode changed to: continuous
2026-01-10 10:13:51,870 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T07:09:47.970077+00:00)
2026-01-10 10:13:52,709 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-10T07:13:52.228168+00:00
2026-01-10 10:13:52,718 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-10 10:14:03,820 [INFO] threads.ui_v2: UI thread stopped
2026-01-10 10:14:09,529 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.57)
2026-01-10 10:14:09,531 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 10:14:09,722 [INFO] storage.logs: Logged access event #85: AUTHORIZED -> AUTHORIZED
2026-01-10 10:14:09,722 [INFO] GateNode: Track 11 recognized: AUTHORIZED (Stephen Njiu, conf=0.57)
2026-01-10 10:14:16,536 [INFO] core.gate_control: Gate auto-closed
2026-01-10 10:15:52,962 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T07:09:47.970077+00:00)
2026-01-10 10:15:55,922 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-10T07:15:55.202464+00:00
2026-01-10 10:15:55,922 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-10 10:17:06,762 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.59)
2026-01-10 10:17:06,771 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 10:17:06,937 [INFO] storage.logs: Logged access event #86: AUTHORIZED -> AUTHORIZED
2026-01-10 10:17:06,938 [INFO] GateNode: Track 12 recognized: AUTHORIZED (Stephen Njiu, conf=0.59)
2026-01-10 10:17:13,784 [INFO] core.gate_control: Gate auto-closed
2026-01-10 10:17:56,075 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T07:09:47.970077+00:00)
2026-01-10 10:17:56,923 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-10T07:17:56.455373+00:00
2026-01-10 10:17:56,924 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-10 10:18:03,835 [INFO] GateNode: Received signal 2
2026-01-10 10:18:03,835 [INFO] GateNode: Gate Node shutting down...
2026-01-10 10:18:03,836 [INFO] core.singletons: ONNXSessionManager initialized with providers: ['CPUExecutionProvider']
2026-01-10 10:18:03,837 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-10 10:18:03,838 [INFO] core.singletons: All singleton resources cleaned up
2026-01-10 10:18:03,838 [INFO] GateNode: Recognition executor shutdown
2026-01-10 10:18:03,839 [INFO] threads.sync: Sync thread stopped
2026-01-10 10:18:04,433 [INFO] threads.capture: Capture thread stopped
2026-01-10 10:18:04,435 [INFO] storage.logs: Access logger closed
2026-01-10 10:18:04,436 [INFO] GateNode: Gate Node stopped
2026-01-10 10:18:04,438 [INFO] GateNode: ==================================================
2026-01-10 10:18:04,439 [INFO] GateNode: Session Statistics:
2026-01-10 10:18:04,443 [INFO] GateNode:   Runtime: 497.4s
2026-01-10 10:18:04,444 [INFO] GateNode:   Frames processed (AI): 599
2026-01-10 10:18:04,445 [INFO] GateNode:   Average AI FPS: 1.2
2026-01-10 10:18:04,446 [INFO] GateNode:   Camera capture:
2026-01-10 10:18:04,447 [INFO] GateNode:     - Frames captured: 13382
2026-01-10 10:18:04,448 [INFO] GateNode:     - Capture FPS: 23.6
2026-01-10 10:18:04,448 [INFO] GateNode:     - Frames dropped (AI queue): 12781
2026-01-10 10:18:04,449 [INFO] GateNode:     - Frames dropped (stream): 6519
2026-01-10 10:18:04,450 [INFO] GateNode:   Detection optimization:
2026-01-10 10:18:04,451 [INFO] GateNode:     - Detections run: 598
2026-01-10 10:18:04,451 [INFO] GateNode:     - Detections skipped: 0
2026-01-10 10:18:04,452 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-10 10:18:04,453 [INFO] GateNode:   Unique tracks created: 12
2026-01-10 10:18:04,454 [INFO] GateNode:   Tracks confirmed: 11
2026-01-10 10:18:04,454 [INFO] GateNode:   Tracks recognized: 11
2026-01-10 10:18:04,455 [INFO] GateNode:   People counts:
2026-01-10 10:18:04,456 [INFO] GateNode:     - Authorized: 7
2026-01-10 10:18:04,457 [INFO] GateNode:     - Wanted: 0
2026-01-10 10:18:04,457 [INFO] GateNode:     - Unknown: 4
2026-01-10 10:18:04,458 [INFO] GateNode:   Gate opens: 7
2026-01-10 10:18:04,458 [INFO] GateNode:     - Authorized: 7
2026-01-10 10:18:04,459 [INFO] GateNode:     - Wanted: 0
2026-01-10 10:18:04,461 [INFO] GateNode:     - Rejected: 0
2026-01-10 10:18:04,462 [INFO] GateNode: ==================================================
2026-01-10 10:18:04,463 [INFO] GateNode: Gate Node shutting down...
2026-01-10 10:18:04,464 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-10 10:18:04,466 [INFO] core.singletons: All singleton resources cleaned up
2026-01-10 10:18:04,474 [INFO] GateNode: Recognition executor shutdown
2026-01-10 10:18:04,474 [INFO] storage.logs: Access logger closed
2026-01-10 10:18:04,476 [INFO] GateNode: Gate Node stopped
2026-01-10 10:18:04,477 [INFO] GateNode: ==================================================
2026-01-10 10:18:04,477 [INFO] GateNode: Session Statistics:
2026-01-10 10:18:04,478 [INFO] GateNode:   Runtime: 497.5s
2026-01-10 10:18:04,478 [INFO] GateNode:   Frames processed (AI): 599
2026-01-10 10:18:04,479 [INFO] GateNode:   Average AI FPS: 1.2
2026-01-10 10:18:04,480 [INFO] GateNode:   Camera capture:
2026-01-10 10:18:04,482 [INFO] GateNode:     - Frames captured: 13382
2026-01-10 10:18:04,483 [INFO] GateNode:     - Capture FPS: 23.6
2026-01-10 10:18:04,484 [INFO] GateNode:     - Frames dropped (AI queue): 12781
2026-01-10 10:18:04,484 [INFO] GateNode:     - Frames dropped (stream): 6519
2026-01-10 10:18:04,485 [INFO] GateNode:   Detection optimization:
2026-01-10 10:18:04,486 [INFO] GateNode:     - Detections run: 598
2026-01-10 10:18:04,486 [INFO] GateNode:     - Detections skipped: 0
2026-01-10 10:18:04,487 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-10 10:18:04,487 [INFO] GateNode:   Unique tracks created: 12
2026-01-10 10:18:04,488 [INFO] GateNode:   Tracks confirmed: 11
2026-01-10 10:18:04,488 [INFO] GateNode:   Tracks recognized: 11
2026-01-10 10:18:04,489 [INFO] GateNode:   People counts:
2026-01-10 10:18:04,489 [INFO] GateNode:     - Authorized: 7
2026-01-10 10:18:04,490 [INFO] GateNode:     - Wanted: 0
2026-01-10 10:18:04,490 [INFO] GateNode:     - Unknown: 4
2026-01-10 10:18:04,490 [INFO] GateNode:   Gate opens: 7
2026-01-10 10:18:04,491 [INFO] GateNode:     - Authorized: 7
2026-01-10 10:18:04,492 [INFO] GateNode:     - Wanted: 0
2026-01-10 10:18:04,492 [INFO] GateNode:     - Rejected: 0
2026-01-10 10:18:04,493 [INFO] GateNode: ==================================================
2026-01-10 10:18:22,379 [INFO] GateNode: ==================================================
2026-01-10 10:18:22,380 [INFO] GateNode: Gate Node starting: gate-001
2026-01-10 10:18:22,380 [INFO] GateNode: Organization: DKUT
2026-01-10 10:18:22,381 [INFO] GateNode: ==================================================
2026-01-10 10:18:22,381 [INFO] GateNode: Initializing storage...
2026-01-10 10:18:22,402 [INFO] storage.face_db: Loaded 9 face records from metadata
2026-01-10 10:18:22,462 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-10 10:18:22,477 [INFO] storage.face_db: Current sync version: 2026-01-10T07:09:47.970077+00:00
2026-01-10 10:18:22,481 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-10 10:18:22,482 [INFO] GateNode: Storage initialized: 9 faces in database
2026-01-10 10:18:22,482 [INFO] GateNode: Initializing vision pipeline...
2026-01-10 10:18:22,816 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-10 10:18:22,817 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-10 10:18:25,815 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-10 10:18:25,815 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-10 10:18:25,816 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=1, max_age=30, max_emb_dist=1.0
2026-01-10 10:18:25,816 [INFO] GateNode: Vision pipeline initialized
2026-01-10 10:18:25,817 [INFO] GateNode: Initializing gate controller...
2026-01-10 10:18:25,817 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-10 10:18:25,818 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-10 10:18:25,818 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-10 10:18:25,819 [INFO] threads.capture: Capture thread starting...
2026-01-10 10:18:26,437 [INFO] threads.capture: Camera opened: 640x480 @ 30.0fps
2026-01-10 10:18:26,438 [INFO] threads.capture: Capture thread running at 30 FPS target
2026-01-10 10:18:26,524 [INFO] GateNode: Camera opened: 640x480 @ 30fps
2026-01-10 10:18:26,545 [INFO] core.alarm: AlarmSystem initialized for platform: windows
2026-01-10 10:18:26,547 [INFO] GateNode: Alarm system initialized
2026-01-10 10:18:26,548 [INFO] GateNode: Initializing worker threads...
2026-01-10 10:18:26,549 [INFO] GateNode: Recognition thread pool initialized (2 workers)
2026-01-10 10:18:26,550 [INFO] GateNode: Streaming disabled (MQTT/LiveKit not configured or unavailable)
2026-01-10 10:18:26,551 [INFO] GateNode: Worker threads initialized
2026-01-10 10:18:26,552 [INFO] threads.sync: Sync thread started
2026-01-10 10:18:26,552 [INFO] GateNode: Sync thread started
2026-01-10 10:18:26,553 [INFO] threads.sync: [INIT] HNSW database: 9 faces, version: 2026-01-10T07:09:47.970077+00:00
2026-01-10 10:18:26,556 [INFO] threads.ui_v2: UI thread starting in continuous mode
2026-01-10 10:18:26,556 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T07:09:47.970077+00:00)
2026-01-10 10:18:26,557 [INFO] GateNode: UI thread started
2026-01-10 10:18:26,564 [INFO] GateNode: Gate Node started successfully
2026-01-10 10:18:26,570 [INFO] GateNode: Starting main vision loop...
2026-01-10 10:18:26,795 [INFO] threads.ui_v2: Display window created: 1280x720
2026-01-10 10:18:27,398 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-10T07:18:26.951547+00:00
2026-01-10 10:18:27,399 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-10 10:18:29,939 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.58)
2026-01-10 10:18:29,950 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 10:18:30,144 [INFO] storage.logs: Logged access event #87: AUTHORIZED -> AUTHORIZED
2026-01-10 10:18:30,144 [INFO] GateNode: Track 1 recognized: AUTHORIZED (Stephen Njiu, conf=0.58)
2026-01-10 10:18:36,950 [INFO] core.gate_control: Gate auto-closed
2026-01-10 10:20:27,674 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T07:09:47.970077+00:00)
2026-01-10 10:20:28,479 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-10T07:20:28.011586+00:00
2026-01-10 10:20:28,480 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-10 10:20:51,765 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.59)
2026-01-10 10:20:51,774 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 10:20:51,978 [INFO] storage.logs: Logged access event #88: AUTHORIZED -> AUTHORIZED
2026-01-10 10:20:51,981 [INFO] GateNode: Track 2 recognized: AUTHORIZED (Stephen Njiu, conf=0.59)
2026-01-10 10:20:58,776 [INFO] core.gate_control: Gate auto-closed
2026-01-10 10:21:03,093 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.56)
2026-01-10 10:21:03,112 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 10:21:03,323 [INFO] storage.logs: Logged access event #89: AUTHORIZED -> AUTHORIZED
2026-01-10 10:21:03,356 [INFO] GateNode: Track 3 recognized: AUTHORIZED (Stephen Njiu, conf=0.56)
2026-01-10 10:21:10,122 [INFO] core.gate_control: Gate auto-closed
2026-01-10 10:21:57,731 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.58)
2026-01-10 10:21:58,087 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 10:21:58,727 [INFO] storage.logs: Logged access event #90: AUTHORIZED -> AUTHORIZED
2026-01-10 10:21:58,756 [INFO] GateNode: Track 4 recognized: AUTHORIZED (Stephen Njiu, conf=0.58)
2026-01-10 10:22:05,103 [INFO] core.gate_control: Gate auto-closed
2026-01-10 10:22:28,753 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T07:09:47.970077+00:00)
2026-01-10 10:22:30,623 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-10T07:22:29.871472+00:00
2026-01-10 10:22:30,624 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-10 10:24:04,476 [INFO] GateNode: Received signal 2
2026-01-10 10:24:04,477 [INFO] GateNode: Gate Node shutting down...
2026-01-10 10:24:04,478 [INFO] core.singletons: ONNXSessionManager initialized with providers: ['CPUExecutionProvider']
2026-01-10 10:24:04,479 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-10 10:24:04,479 [INFO] core.singletons: All singleton resources cleaned up
2026-01-10 10:24:04,480 [INFO] GateNode: Recognition executor shutdown
2026-01-10 10:24:04,481 [INFO] threads.sync: Sync thread stopped
2026-01-10 10:24:04,634 [INFO] threads.ui_v2: UI thread stopped
2026-01-10 10:24:05,460 [INFO] threads.capture: Capture thread stopped
2026-01-10 10:24:05,462 [INFO] storage.logs: Access logger closed
2026-01-10 10:24:05,464 [INFO] GateNode: Gate Node stopped
2026-01-10 10:24:05,466 [INFO] GateNode: ==================================================
2026-01-10 10:24:05,468 [INFO] GateNode: Session Statistics:
2026-01-10 10:24:05,469 [INFO] GateNode:   Runtime: 338.9s
2026-01-10 10:24:05,470 [INFO] GateNode:   Frames processed (AI): 296
2026-01-10 10:24:05,472 [INFO] GateNode:   Average AI FPS: 0.9
2026-01-10 10:24:05,473 [INFO] GateNode:   Camera capture:
2026-01-10 10:24:05,474 [INFO] GateNode:     - Frames captured: 8531
2026-01-10 10:24:05,475 [INFO] GateNode:     - Capture FPS: 25.2
2026-01-10 10:24:05,477 [INFO] GateNode:     - Frames dropped (AI queue): 8233
2026-01-10 10:24:05,478 [INFO] GateNode:     - Frames dropped (stream): 29
2026-01-10 10:24:05,479 [INFO] GateNode:   Detection optimization:
2026-01-10 10:24:05,480 [INFO] GateNode:     - Detections run: 295
2026-01-10 10:24:05,483 [INFO] GateNode:     - Detections skipped: 0
2026-01-10 10:24:05,485 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-10 10:24:05,487 [INFO] GateNode:   Unique tracks created: 5
2026-01-10 10:24:05,488 [INFO] GateNode:   Tracks confirmed: 4
2026-01-10 10:24:05,491 [INFO] GateNode:   Tracks recognized: 4
2026-01-10 10:24:05,492 [INFO] GateNode:   People counts:
2026-01-10 10:24:05,493 [INFO] GateNode:     - Authorized: 4
2026-01-10 10:24:05,497 [INFO] GateNode:     - Wanted: 0
2026-01-10 10:24:05,504 [INFO] GateNode:     - Unknown: 0
2026-01-10 10:24:05,509 [INFO] GateNode:   Gate opens: 4
2026-01-10 10:24:05,515 [INFO] GateNode:     - Authorized: 4
2026-01-10 10:24:05,516 [INFO] GateNode:     - Wanted: 0
2026-01-10 10:24:05,516 [INFO] GateNode:     - Rejected: 0
2026-01-10 10:24:05,519 [INFO] GateNode: ==================================================
2026-01-10 10:24:05,520 [INFO] GateNode: Gate Node shutting down...
2026-01-10 10:24:05,521 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-10 10:24:05,522 [INFO] core.singletons: All singleton resources cleaned up
2026-01-10 10:24:05,524 [INFO] GateNode: Recognition executor shutdown
2026-01-10 10:24:05,525 [INFO] storage.logs: Access logger closed
2026-01-10 10:24:05,526 [INFO] GateNode: Gate Node stopped
2026-01-10 10:24:05,527 [INFO] GateNode: ==================================================
2026-01-10 10:24:05,529 [INFO] GateNode: Session Statistics:
2026-01-10 10:24:05,530 [INFO] GateNode:   Runtime: 339.0s
2026-01-10 10:24:05,531 [INFO] GateNode:   Frames processed (AI): 296
2026-01-10 10:24:05,531 [INFO] GateNode:   Average AI FPS: 0.9
2026-01-10 10:24:05,533 [INFO] GateNode:   Camera capture:
2026-01-10 10:24:05,535 [INFO] GateNode:     - Frames captured: 8531
2026-01-10 10:24:05,536 [INFO] GateNode:     - Capture FPS: 25.2
2026-01-10 10:24:05,539 [INFO] GateNode:     - Frames dropped (AI queue): 8233
2026-01-10 10:24:05,540 [INFO] GateNode:     - Frames dropped (stream): 29
2026-01-10 10:24:05,540 [INFO] GateNode:   Detection optimization:
2026-01-10 10:24:05,541 [INFO] GateNode:     - Detections run: 295
2026-01-10 10:24:05,542 [INFO] GateNode:     - Detections skipped: 0
2026-01-10 10:24:05,543 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-10 10:24:05,545 [INFO] GateNode:   Unique tracks created: 5
2026-01-10 10:24:05,546 [INFO] GateNode:   Tracks confirmed: 4
2026-01-10 10:24:05,546 [INFO] GateNode:   Tracks recognized: 4
2026-01-10 10:24:05,547 [INFO] GateNode:   People counts:
2026-01-10 10:24:05,547 [INFO] GateNode:     - Authorized: 4
2026-01-10 10:24:05,548 [INFO] GateNode:     - Wanted: 0
2026-01-10 10:24:05,551 [INFO] GateNode:     - Unknown: 0
2026-01-10 10:24:05,552 [INFO] GateNode:   Gate opens: 4
2026-01-10 10:24:05,554 [INFO] GateNode:     - Authorized: 4
2026-01-10 10:24:05,556 [INFO] GateNode:     - Wanted: 0
2026-01-10 10:24:05,559 [INFO] GateNode:     - Rejected: 0
2026-01-10 10:24:05,560 [INFO] GateNode: ==================================================
2026-01-10 10:25:02,468 [INFO] GateNode: ==================================================
2026-01-10 10:25:02,469 [INFO] GateNode: Gate Node starting: gate-001
2026-01-10 10:25:02,469 [INFO] GateNode: Organization: DKUT
2026-01-10 10:25:02,470 [INFO] GateNode: ==================================================
2026-01-10 10:25:02,470 [INFO] GateNode: Initializing storage...
2026-01-10 10:25:02,494 [INFO] storage.face_db: Loaded 9 face records from metadata
2026-01-10 10:25:02,520 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-10 10:25:02,521 [INFO] storage.face_db: Current sync version: 2026-01-10T07:09:47.970077+00:00
2026-01-10 10:25:02,579 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-10 10:25:02,580 [INFO] GateNode: Storage initialized: 9 faces in database
2026-01-10 10:25:02,580 [INFO] GateNode: Initializing vision pipeline...
2026-01-10 10:25:02,872 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-10 10:25:02,873 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-10 10:25:06,077 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-10 10:25:06,078 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-10 10:25:06,078 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=1, max_age=30, max_emb_dist=1.0
2026-01-10 10:25:06,079 [INFO] GateNode: Vision pipeline initialized
2026-01-10 10:25:06,079 [INFO] GateNode: Initializing gate controller...
2026-01-10 10:25:06,079 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-10 10:25:06,080 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-10 10:25:06,080 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-10 10:25:06,081 [INFO] threads.capture: Capture thread starting...
2026-01-10 10:25:07,183 [INFO] threads.capture: Camera opened: 640x480 @ 30.0fps
2026-01-10 10:25:07,184 [INFO] threads.capture: Capture thread running at 30 FPS target
2026-01-10 10:25:07,188 [INFO] GateNode: Camera opened: 640x480 @ 30fps
2026-01-10 10:25:07,212 [INFO] core.alarm: AlarmSystem initialized for platform: windows
2026-01-10 10:25:07,216 [INFO] GateNode: Alarm system initialized
2026-01-10 10:25:07,218 [INFO] GateNode: Initializing worker threads...
2026-01-10 10:25:07,221 [INFO] GateNode: Recognition thread pool initialized (2 workers)
2026-01-10 10:25:07,222 [INFO] GateNode: Streaming disabled (MQTT/LiveKit not configured or unavailable)
2026-01-10 10:25:07,223 [INFO] GateNode: Worker threads initialized
2026-01-10 10:25:07,225 [INFO] threads.sync: Sync thread started
2026-01-10 10:25:07,226 [INFO] GateNode: Sync thread started
2026-01-10 10:25:07,227 [INFO] threads.sync: [INIT] HNSW database: 9 faces, version: 2026-01-10T07:09:47.970077+00:00
2026-01-10 10:25:07,231 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T07:09:47.970077+00:00)
2026-01-10 10:25:07,232 [INFO] threads.ui_v2: UI thread starting in continuous mode
2026-01-10 10:25:07,232 [INFO] GateNode: UI thread started
2026-01-10 10:25:07,234 [INFO] GateNode: Gate Node started successfully
2026-01-10 10:25:07,234 [INFO] GateNode: Starting main vision loop...
2026-01-10 10:25:07,642 [INFO] threads.ui_v2: Display window created: 1280x720
2026-01-10 10:25:08,115 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-10T07:25:07.642665+00:00
2026-01-10 10:25:08,115 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-10 10:25:11,296 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.58)
2026-01-10 10:25:11,300 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 10:25:12,321 [INFO] storage.logs: Logged access event #91: AUTHORIZED -> AUTHORIZED
2026-01-10 10:25:12,324 [INFO] GateNode: Track 1 recognized: AUTHORIZED (Stephen Njiu, conf=0.58)
2026-01-10 10:25:18,309 [INFO] core.gate_control: Gate auto-closed
2026-01-10 10:25:27,312 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.56)
2026-01-10 10:25:27,314 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 10:25:27,479 [INFO] storage.logs: Logged access event #92: AUTHORIZED -> AUTHORIZED
2026-01-10 10:25:27,487 [INFO] GateNode: Track 2 recognized: AUTHORIZED (Stephen Njiu, conf=0.56)
2026-01-10 10:25:34,326 [INFO] core.gate_control: Gate auto-closed
2026-01-10 10:25:38,160 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.58)
2026-01-10 10:25:38,167 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 10:25:38,325 [INFO] storage.logs: Logged access event #93: AUTHORIZED -> AUTHORIZED
2026-01-10 10:25:38,339 [INFO] GateNode: Track 3 recognized: AUTHORIZED (Stephen Njiu, conf=0.58)
2026-01-10 10:25:45,182 [INFO] core.gate_control: Gate auto-closed
2026-01-10 10:25:57,751 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.57)
2026-01-10 10:25:57,826 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 10:25:58,049 [INFO] storage.logs: Logged access event #94: AUTHORIZED -> AUTHORIZED
2026-01-10 10:25:58,055 [INFO] GateNode: Track 4 recognized: AUTHORIZED (Stephen Njiu, conf=0.57)
2026-01-10 10:26:04,836 [INFO] core.gate_control: Gate auto-closed
2026-01-10 10:26:06,129 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.61)
2026-01-10 10:26:06,144 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 10:26:06,327 [INFO] storage.logs: Logged access event #95: AUTHORIZED -> AUTHORIZED
2026-01-10 10:26:06,331 [INFO] GateNode: Track 5 recognized: AUTHORIZED (Stephen Njiu, conf=0.61)
2026-01-10 10:26:13,155 [INFO] core.gate_control: Gate auto-closed
2026-01-10 10:27:08,403 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T07:09:47.970077+00:00)
2026-01-10 10:27:09,220 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-10T07:27:08.719444+00:00
2026-01-10 10:27:09,230 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-10 10:28:07,285 [INFO] threads.ui_v2: Display mode changed to: streaming
2026-01-10 10:28:10,294 [INFO] threads.ui_v2: Display mode changed to: alert_only
2026-01-10 10:28:17,437 [INFO] threads.ui_v2: Display mode changed to: continuous
2026-01-10 10:28:23,273 [INFO] threads.ui_v2: Display mode changed to: streaming
2026-01-10 10:28:42,653 [INFO] threads.ui_v2: Display mode changed to: alert_only
2026-01-10 10:28:43,905 [INFO] threads.ui_v2: Display mode changed to: continuous
2026-01-10 10:29:05,371 [INFO] GateNode: Received signal 2
2026-01-10 10:29:05,372 [INFO] GateNode: Gate Node shutting down...
2026-01-10 10:29:05,375 [INFO] core.singletons: ONNXSessionManager initialized with providers: ['CPUExecutionProvider']
2026-01-10 10:29:05,377 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-10 10:29:05,379 [INFO] core.singletons: All singleton resources cleaned up
2026-01-10 10:29:05,381 [INFO] GateNode: Recognition executor shutdown
2026-01-10 10:29:05,383 [INFO] threads.sync: Sync thread stopped
2026-01-10 10:29:05,479 [INFO] threads.ui_v2: UI thread stopped
2026-01-10 10:29:05,502 [INFO] GateNode: Received signal 2
2026-01-10 10:29:05,509 [INFO] GateNode: Gate Node shutting down...
2026-01-10 10:29:05,514 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-10 10:29:05,515 [INFO] core.singletons: All singleton resources cleaned up
2026-01-10 10:29:05,517 [INFO] GateNode: Recognition executor shutdown
2026-01-10 10:29:07,531 [INFO] GateNode: Received signal 2
2026-01-10 10:29:07,533 [INFO] GateNode: Gate Node shutting down...
2026-01-10 10:29:07,535 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-10 10:29:07,539 [INFO] core.singletons: All singleton resources cleaned up
2026-01-10 10:29:07,541 [INFO] GateNode: Recognition executor shutdown
2026-01-10 10:29:10,206 [INFO] threads.capture: Capture thread stopped
2026-01-10 10:29:10,207 [INFO] storage.logs: Access logger closed
2026-01-10 10:29:10,208 [INFO] GateNode: Gate Node stopped
2026-01-10 10:29:10,209 [INFO] GateNode: ==================================================
2026-01-10 10:29:10,210 [INFO] GateNode: Session Statistics:
2026-01-10 10:29:10,212 [INFO] GateNode:   Runtime: 243.0s
2026-01-10 10:29:10,212 [INFO] GateNode:   Frames processed (AI): 137
2026-01-10 10:29:10,213 [INFO] GateNode:   Average AI FPS: 0.6
2026-01-10 10:29:10,215 [INFO] GateNode:   Camera capture:
2026-01-10 10:29:10,216 [INFO] GateNode:     - Frames captured: 6385
2026-01-10 10:29:10,217 [INFO] GateNode:     - Capture FPS: 28.0
2026-01-10 10:29:10,218 [INFO] GateNode:     - Frames dropped (AI queue): 6246
2026-01-10 10:29:10,218 [INFO] GateNode:     - Frames dropped (stream): 404
2026-01-10 10:29:10,220 [INFO] GateNode:   Detection optimization:
2026-01-10 10:29:10,221 [INFO] GateNode:     - Detections run: 136
2026-01-10 10:29:10,222 [INFO] GateNode:     - Detections skipped: 0
2026-01-10 10:29:10,223 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-10 10:29:10,224 [INFO] GateNode:   Unique tracks created: 5
2026-01-10 10:29:10,226 [INFO] GateNode:   Tracks confirmed: 5
2026-01-10 10:29:10,227 [INFO] GateNode:   Tracks recognized: 5
2026-01-10 10:29:10,228 [INFO] GateNode:   People counts:
2026-01-10 10:29:10,229 [INFO] GateNode:     - Authorized: 5
2026-01-10 10:29:10,230 [INFO] GateNode:     - Wanted: 0
2026-01-10 10:29:10,230 [INFO] GateNode:     - Unknown: 0
2026-01-10 10:29:10,231 [INFO] GateNode:   Gate opens: 5
2026-01-10 10:29:10,232 [INFO] GateNode:     - Authorized: 5
2026-01-10 10:29:10,232 [INFO] GateNode:     - Wanted: 0
2026-01-10 10:29:10,232 [INFO] GateNode:     - Rejected: 0
2026-01-10 10:29:10,233 [INFO] GateNode: ==================================================
2026-01-10 10:29:10,233 [INFO] GateNode: Gate Node shutting down...
2026-01-10 10:29:10,234 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-10 10:29:10,234 [INFO] core.singletons: All singleton resources cleaned up
2026-01-10 10:29:10,235 [INFO] GateNode: Recognition executor shutdown
2026-01-10 10:29:10,236 [INFO] storage.logs: Access logger closed
2026-01-10 10:29:10,240 [INFO] GateNode: Gate Node stopped
2026-01-10 10:29:10,249 [INFO] GateNode: ==================================================
2026-01-10 10:29:10,251 [INFO] GateNode: Session Statistics:
2026-01-10 10:29:10,253 [INFO] GateNode:   Runtime: 243.0s
2026-01-10 10:29:10,254 [INFO] GateNode:   Frames processed (AI): 137
2026-01-10 10:29:10,255 [INFO] GateNode:   Average AI FPS: 0.6
2026-01-10 10:29:10,257 [INFO] GateNode:   Camera capture:
2026-01-10 10:29:10,257 [INFO] GateNode:     - Frames captured: 6385
2026-01-10 10:29:10,258 [INFO] GateNode:     - Capture FPS: 28.0
2026-01-10 10:29:10,258 [INFO] GateNode:     - Frames dropped (AI queue): 6246
2026-01-10 10:29:10,262 [INFO] GateNode:     - Frames dropped (stream): 404
2026-01-10 10:29:10,263 [INFO] GateNode:   Detection optimization:
2026-01-10 10:29:10,264 [INFO] GateNode:     - Detections run: 136
2026-01-10 10:29:10,265 [INFO] GateNode:     - Detections skipped: 0
2026-01-10 10:29:10,266 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-10 10:29:10,266 [INFO] GateNode:   Unique tracks created: 5
2026-01-10 10:29:10,267 [INFO] GateNode:   Tracks confirmed: 5
2026-01-10 10:29:10,267 [INFO] GateNode:   Tracks recognized: 5
2026-01-10 10:29:10,267 [INFO] GateNode:   People counts:
2026-01-10 10:29:10,268 [INFO] GateNode:     - Authorized: 5
2026-01-10 10:29:10,268 [INFO] GateNode:     - Wanted: 0
2026-01-10 10:29:10,269 [INFO] GateNode:     - Unknown: 0
2026-01-10 10:29:10,269 [INFO] GateNode:   Gate opens: 5
2026-01-10 10:29:10,270 [INFO] GateNode:     - Authorized: 5
2026-01-10 10:29:10,270 [INFO] GateNode:     - Wanted: 0
2026-01-10 10:29:10,271 [INFO] GateNode:     - Rejected: 0
2026-01-10 10:29:10,271 [INFO] GateNode: ==================================================
2026-01-10 10:34:55,914 [INFO] GateNode: ==================================================
2026-01-10 10:34:55,915 [INFO] GateNode: Gate Node starting: gate-001
2026-01-10 10:34:55,916 [INFO] GateNode: Organization: DKUT
2026-01-10 10:34:55,917 [INFO] GateNode: ==================================================
2026-01-10 10:34:55,918 [INFO] GateNode: Initializing storage...
2026-01-10 10:34:55,924 [INFO] storage.face_db: Loaded 9 face records from metadata
2026-01-10 10:34:55,931 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-10 10:34:55,933 [INFO] storage.face_db: Current sync version: 2026-01-10T07:09:47.970077+00:00
2026-01-10 10:34:55,940 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-10 10:34:55,941 [INFO] GateNode: Storage initialized: 9 faces in database
2026-01-10 10:34:55,943 [INFO] GateNode: Initializing vision pipeline...
2026-01-10 10:34:56,229 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-10 10:34:56,230 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-10 10:34:59,289 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-10 10:34:59,290 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-10 10:34:59,290 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=1, max_age=30, max_emb_dist=1.0
2026-01-10 10:34:59,291 [INFO] GateNode: Vision pipeline initialized
2026-01-10 10:34:59,291 [INFO] GateNode: Initializing gate controller...
2026-01-10 10:34:59,292 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-10 10:34:59,292 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-10 10:34:59,292 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-10 10:34:59,294 [INFO] threads.capture: Capture thread starting...
2026-01-10 10:35:02,315 [ERROR] GateNode: Failed to open camera 0
2026-01-10 10:35:02,317 [ERROR] GateNode: Failed to start Gate Node
2026-01-10 10:35:07,092 [INFO] GateNode: ==================================================
2026-01-10 10:35:07,093 [INFO] GateNode: Gate Node starting: gate-001
2026-01-10 10:35:07,093 [INFO] GateNode: Organization: DKUT
2026-01-10 10:35:07,094 [INFO] GateNode: ==================================================
2026-01-10 10:35:07,094 [INFO] GateNode: Initializing storage...
2026-01-10 10:35:07,098 [INFO] storage.face_db: Loaded 9 face records from metadata
2026-01-10 10:35:07,103 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-10 10:35:07,105 [INFO] storage.face_db: Current sync version: 2026-01-10T07:09:47.970077+00:00
2026-01-10 10:35:07,107 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-10 10:35:07,108 [INFO] GateNode: Storage initialized: 9 faces in database
2026-01-10 10:35:07,109 [INFO] GateNode: Initializing vision pipeline...
2026-01-10 10:35:07,269 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-10 10:35:07,270 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-10 10:35:08,150 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-10 10:35:08,150 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-10 10:35:08,151 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=1, max_age=30, max_emb_dist=1.0
2026-01-10 10:35:08,151 [INFO] GateNode: Vision pipeline initialized
2026-01-10 10:35:08,152 [INFO] GateNode: Initializing gate controller...
2026-01-10 10:35:08,152 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-10 10:35:08,152 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-10 10:35:08,153 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-10 10:35:08,154 [INFO] threads.capture: Capture thread starting...
2026-01-10 10:35:08,739 [INFO] threads.capture: Camera opened: 640x480 @ 30.0fps
2026-01-10 10:35:08,739 [INFO] threads.capture: Capture thread running at 30 FPS target
2026-01-10 10:35:08,758 [INFO] GateNode: Camera opened: 640x480 @ 30fps
2026-01-10 10:35:08,780 [INFO] core.alarm: AlarmSystem initialized for platform: windows
2026-01-10 10:35:08,781 [INFO] GateNode: Alarm system initialized
2026-01-10 10:35:08,783 [INFO] GateNode: Initializing worker threads...
2026-01-10 10:35:08,784 [INFO] GateNode: Recognition thread pool initialized (2 workers)
2026-01-10 10:35:08,784 [INFO] GateNode: Streaming disabled (MQTT/LiveKit not configured or unavailable)
2026-01-10 10:35:08,785 [INFO] GateNode: Worker threads initialized
2026-01-10 10:35:08,786 [INFO] threads.sync: Sync thread started
2026-01-10 10:35:08,786 [INFO] GateNode: Sync thread started
2026-01-10 10:35:08,787 [INFO] threads.sync: [INIT] HNSW database: 9 faces, version: 2026-01-10T07:09:47.970077+00:00
2026-01-10 10:35:08,788 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T07:09:47.970077+00:00)
2026-01-10 10:35:08,788 [INFO] threads.ui_v2: UI thread starting in continuous mode
2026-01-10 10:35:08,789 [INFO] GateNode: UI thread started
2026-01-10 10:35:08,792 [INFO] GateNode: Gate Node started successfully
2026-01-10 10:35:08,796 [INFO] GateNode: Starting main vision loop...
2026-01-10 10:35:09,074 [INFO] threads.ui_v2: Display window created: 1280x720
2026-01-10 10:35:14,977 [INFO] GateNode: Track 1 marked UNKNOWN after 3 attempts
2026-01-10 10:35:15,118 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-10T07:35:11.999654+00:00
2026-01-10 10:35:15,119 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-10 10:35:15,757 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 10:35:15,758 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 10:35:19,503 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 10:35:23,188 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 10:35:23,190 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 10:35:26,836 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 10:35:30,481 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 10:35:30,482 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 10:35:34,171 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 10:35:38,054 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 10:35:38,055 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 10:35:42,080 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 10:35:45,789 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-10 10:35:45,790 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 10:35:52,348 [INFO] core.gate_control: ACCESS GRANTED: 25079658-9b13-472c-bee5-27f4649ff4ed (confidence: 0.57)
2026-01-10 10:35:52,365 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 10:35:52,536 [INFO] storage.logs: Logged access event #96: AUTHORIZED -> AUTHORIZED
2026-01-10 10:35:52,540 [INFO] GateNode: Track 2 recognized: AUTHORIZED (Stephen Njiu, conf=0.57)
2026-01-10 10:35:59,373 [INFO] core.gate_control: Gate auto-closed
2026-01-10 10:36:18,317 [INFO] core.gate_control: ACCESS GRANTED: 25079658-9b13-472c-bee5-27f4649ff4ed (confidence: 0.58)
2026-01-10 10:36:18,333 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 10:36:18,516 [INFO] storage.logs: Logged access event #97: AUTHORIZED -> AUTHORIZED
2026-01-10 10:36:18,517 [INFO] GateNode: Track 4 recognized: AUTHORIZED (Stephen Njiu, conf=0.58)
2026-01-10 10:36:25,338 [INFO] core.gate_control: Gate auto-closed
2026-01-10 10:36:44,628 [INFO] core.gate_control: ACCESS GRANTED: 25079658-9b13-472c-bee5-27f4649ff4ed (confidence: 0.52)
2026-01-10 10:36:44,646 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 10:36:44,874 [INFO] storage.logs: Logged access event #98: AUTHORIZED -> AUTHORIZED
2026-01-10 10:36:44,878 [INFO] GateNode: Track 5 recognized: AUTHORIZED (Stephen Njiu, conf=0.52)
2026-01-10 10:36:51,655 [INFO] core.gate_control: Gate auto-closed
2026-01-10 10:37:10,323 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T07:09:47.970077+00:00)
2026-01-10 10:37:11,256 [INFO] GateNode: Track 7 marked UNKNOWN after 3 attempts
2026-01-10 10:37:11,531 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-10T07:37:11.004392+00:00
2026-01-10 10:37:11,532 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-10 10:37:12,201 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 7)
2026-01-10 10:37:12,201 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-10 10:37:15,353 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 7)
2026-01-10 10:37:40,656 [INFO] core.gate_control: ACCESS GRANTED: 25079658-9b13-472c-bee5-27f4649ff4ed (confidence: 0.58)
2026-01-10 10:37:40,723 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-10 10:37:40,878 [INFO] storage.logs: Logged access event #99: AUTHORIZED -> AUTHORIZED
2026-01-10 10:37:40,895 [INFO] GateNode: Track 8 recognized: AUTHORIZED (Stephen Njiu, conf=0.58)
2026-01-10 10:37:47,726 [INFO] core.gate_control: Gate auto-closed
2026-01-10 10:38:33,285 [INFO] GateNode: Track 13 marked UNKNOWN after 3 attempts
2026-01-10 10:38:34,492 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 13)
2026-01-10 10:38:34,495 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 10:30:39,131 [INFO] GateNode: ==================================================
2026-01-13 10:30:39,141 [INFO] GateNode: Gate Node starting: gate-001
2026-01-13 10:30:39,143 [INFO] GateNode: Organization: DKUT
2026-01-13 10:30:39,144 [INFO] GateNode: ==================================================
2026-01-13 10:30:39,146 [INFO] GateNode: Initializing storage...
2026-01-13 10:30:39,222 [INFO] storage.face_db: Loaded 9 face records from metadata
2026-01-13 10:30:39,299 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-13 10:30:39,311 [INFO] storage.face_db: Current sync version: 2026-01-10T07:09:47.970077+00:00
2026-01-13 10:30:39,373 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-13 10:30:39,374 [INFO] GateNode: Storage initialized: 9 faces in database
2026-01-13 10:30:39,374 [INFO] GateNode: Initializing vision pipeline...
2026-01-13 10:30:40,751 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-13 10:30:40,752 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-13 10:30:44,661 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-13 10:30:44,661 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-13 10:30:44,661 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=1, max_age=30, max_emb_dist=1.0
2026-01-13 10:30:44,662 [INFO] GateNode: Vision pipeline initialized
2026-01-13 10:30:44,663 [INFO] GateNode: Initializing gate controller...
2026-01-13 10:30:44,663 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-13 10:30:44,663 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-13 10:30:44,664 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-13 10:30:44,665 [INFO] threads.capture: Capture thread starting...
2026-01-13 10:30:47,741 [ERROR] GateNode: Failed to open camera 0
2026-01-13 10:30:47,741 [ERROR] GateNode: Failed to start Gate Node
2026-01-13 10:39:43,128 [INFO] GateNode: ==================================================
2026-01-13 10:39:43,129 [INFO] GateNode: Gate Node starting: gate-001
2026-01-13 10:39:43,130 [INFO] GateNode: Organization: DKUT
2026-01-13 10:39:43,131 [INFO] GateNode: ==================================================
2026-01-13 10:39:43,131 [INFO] GateNode: Initializing storage...
2026-01-13 10:39:43,139 [INFO] storage.face_db: Loaded 9 face records from metadata
2026-01-13 10:39:43,146 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-13 10:39:43,147 [INFO] storage.face_db: Current sync version: 2026-01-10T07:09:47.970077+00:00
2026-01-13 10:39:43,152 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-13 10:39:43,153 [INFO] GateNode: Storage initialized: 9 faces in database
2026-01-13 10:39:43,153 [INFO] GateNode: Initializing vision pipeline...
2026-01-13 10:39:43,509 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-13 10:39:43,510 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-13 10:39:47,040 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-13 10:39:47,041 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-13 10:39:47,041 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=1, max_age=30, max_emb_dist=1.0
2026-01-13 10:39:47,042 [INFO] GateNode: Vision pipeline initialized
2026-01-13 10:39:47,042 [INFO] GateNode: Initializing gate controller...
2026-01-13 10:39:47,043 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-13 10:39:47,044 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-13 10:39:47,044 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-13 10:39:47,046 [INFO] threads.capture: Capture thread starting...
2026-01-13 10:39:50,075 [ERROR] GateNode: Failed to open camera 0
2026-01-13 10:39:50,077 [ERROR] GateNode: Failed to start Gate Node
2026-01-13 10:41:08,659 [INFO] GateNode: ==================================================
2026-01-13 10:41:08,661 [INFO] GateNode: Gate Node starting: gate-001
2026-01-13 10:41:08,662 [INFO] GateNode: Organization: DKUT
2026-01-13 10:41:08,662 [INFO] GateNode: ==================================================
2026-01-13 10:41:08,663 [INFO] GateNode: Initializing storage...
2026-01-13 10:41:08,667 [INFO] storage.face_db: Loaded 9 face records from metadata
2026-01-13 10:41:08,672 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-13 10:41:08,673 [INFO] storage.face_db: Current sync version: 2026-01-10T07:09:47.970077+00:00
2026-01-13 10:41:08,677 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-13 10:41:08,678 [INFO] GateNode: Storage initialized: 9 faces in database
2026-01-13 10:41:08,678 [INFO] GateNode: Initializing vision pipeline...
2026-01-13 10:41:09,036 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-13 10:41:09,037 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-13 10:41:12,162 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-13 10:41:12,162 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-13 10:41:12,163 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=1, max_age=30, max_emb_dist=1.0
2026-01-13 10:41:12,163 [INFO] GateNode: Vision pipeline initialized
2026-01-13 10:41:12,164 [INFO] GateNode: Initializing gate controller...
2026-01-13 10:41:12,164 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-13 10:41:12,164 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-13 10:41:12,165 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-13 10:41:12,166 [INFO] threads.capture: Capture thread starting...
2026-01-13 10:41:13,509 [INFO] threads.capture: Camera opened: 640x480 @ 30.0fps
2026-01-13 10:41:13,511 [INFO] threads.capture: Capture thread running at 30 FPS target
2026-01-13 10:41:13,577 [INFO] GateNode: Camera opened: 640x480 @ 30fps
2026-01-13 10:41:14,347 [INFO] core.alarm: AlarmSystem initialized for platform: windows
2026-01-13 10:41:14,348 [INFO] GateNode: Alarm system initialized
2026-01-13 10:41:14,350 [INFO] GateNode: Initializing worker threads...
2026-01-13 10:41:14,370 [INFO] GateNode: Recognition thread pool initialized (2 workers)
2026-01-13 10:41:14,372 [INFO] GateNode: Streaming disabled (MQTT/LiveKit not configured or unavailable)
2026-01-13 10:41:14,373 [INFO] GateNode: Worker threads initialized
2026-01-13 10:41:14,376 [INFO] threads.sync: Sync thread started
2026-01-13 10:41:14,376 [INFO] GateNode: Sync thread started
2026-01-13 10:41:14,378 [INFO] threads.sync: [INIT] HNSW database: 9 faces, version: 2026-01-10T07:09:47.970077+00:00
2026-01-13 10:41:14,380 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T07:09:47.970077+00:00)
2026-01-13 10:41:14,385 [INFO] threads.ui_v2: UI thread starting in continuous mode
2026-01-13 10:41:14,385 [INFO] GateNode: UI thread started
2026-01-13 10:41:14,403 [INFO] GateNode: Gate Node started successfully
2026-01-13 10:41:14,404 [INFO] GateNode: Starting main vision loop...
2026-01-13 10:41:15,127 [INFO] threads.ui_v2: Display window created: 1280x720
2026-01-13 10:41:16,855 [WARNING] threads.sync: Face sync failed (network): HTTPConnectionPool(host='127.0.0.1', port=8000): Max retries exceeded with url: /api/v1/faces/sync?org_id=DKUT&since=2026-01-10T07%3A09%3A47.970077%2B00%3A00 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x0000018D8D9E59D0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2026-01-13 10:41:18,864 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.59)
2026-01-13 10:41:18,876 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 10:41:19,064 [INFO] storage.logs: Logged access event #100: AUTHORIZED -> AUTHORIZED
2026-01-13 10:41:19,066 [INFO] GateNode: Track 1 recognized: AUTHORIZED (Stephen Njiu, conf=0.59)
2026-01-13 10:41:25,883 [INFO] core.gate_control: Gate auto-closed
2026-01-13 10:41:38,282 [INFO] GateNode: Track 5 marked UNKNOWN after 3 attempts
2026-01-13 10:41:38,931 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 5)
2026-01-13 10:41:38,932 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 10:41:44,492 [INFO] vision.tracker: Track 5: Appearance changed significantly (distance=0.85). Resetting for re-recognition.
2026-01-13 10:41:47,352 [INFO] GateNode: Track 5 marked UNKNOWN after 3 attempts
2026-01-13 10:41:48,026 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 5)
2026-01-13 10:41:48,026 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 10:41:51,673 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 5)
2026-01-13 10:41:55,221 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 5)
2026-01-13 10:41:55,222 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 10:41:59,041 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 5)
2026-01-13 10:42:02,199 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 5)
2026-01-13 10:42:02,204 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 10:42:05,846 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 5)
2026-01-13 10:42:08,960 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 5)
2026-01-13 10:42:08,960 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 10:42:18,788 [INFO] GateNode: Track 7 marked UNKNOWN after 3 attempts
2026-01-13 10:42:19,645 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 7)
2026-01-13 10:42:19,647 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 10:42:24,671 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 7)
2026-01-13 10:42:24,672 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 10:42:29,303 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 7)
2026-01-13 10:42:33,409 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 7)
2026-01-13 10:42:33,410 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 10:42:37,654 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 7)
2026-01-13 10:42:39,769 [INFO] GateNode: Track 10 marked UNKNOWN after 3 attempts
2026-01-13 10:42:43,985 [INFO] GateNode: Track 11 marked UNKNOWN after 3 attempts
2026-01-13 10:42:44,159 [INFO] core.gate_control: ACCESS GRANTED: 25079658-9b13-472c-bee5-27f4649ff4ed (confidence: 0.53)
2026-01-13 10:42:44,237 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 10:42:44,453 [INFO] storage.logs: Logged access event #101: AUTHORIZED -> AUTHORIZED
2026-01-13 10:42:44,499 [INFO] GateNode: Track 12 recognized: AUTHORIZED (Stephen Njiu, conf=0.53)
2026-01-13 10:42:45,683 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 11)
2026-01-13 10:42:45,683 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 10:42:49,686 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 11)
2026-01-13 10:42:51,250 [INFO] core.gate_control: Gate auto-closed
2026-01-13 10:42:53,156 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 11)
2026-01-13 10:42:53,157 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 10:42:54,037 [INFO] GateNode: Received signal 2
2026-01-13 10:42:54,037 [INFO] GateNode: Gate Node shutting down...
2026-01-13 10:42:54,039 [INFO] core.singletons: ONNXSessionManager initialized with providers: ['CPUExecutionProvider']
2026-01-13 10:42:54,040 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 10:42:54,040 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 10:42:54,041 [INFO] GateNode: Recognition executor shutdown
2026-01-13 10:42:54,042 [INFO] threads.sync: Sync thread stopped
2026-01-13 10:42:54,124 [INFO] threads.ui_v2: UI thread stopped
2026-01-13 10:42:54,593 [INFO] threads.capture: Capture thread stopped
2026-01-13 10:42:54,596 [INFO] storage.logs: Access logger closed
2026-01-13 10:42:54,598 [INFO] GateNode: Gate Node stopped
2026-01-13 10:42:54,601 [INFO] GateNode: ==================================================
2026-01-13 10:42:54,604 [INFO] GateNode: Session Statistics:
2026-01-13 10:42:54,606 [INFO] GateNode:   Runtime: 100.2s
2026-01-13 10:42:54,608 [INFO] GateNode:   Frames processed (AI): 95
2026-01-13 10:42:54,923 [INFO] GateNode:   Average AI FPS: 0.9
2026-01-13 10:42:54,923 [INFO] GateNode:   Camera capture:
2026-01-13 10:42:54,924 [INFO] GateNode:     - Frames captured: 2790
2026-01-13 10:42:54,924 [INFO] GateNode:     - Capture FPS: 28.8
2026-01-13 10:42:54,925 [INFO] GateNode:     - Frames dropped (AI queue): 2693
2026-01-13 10:42:54,926 [INFO] GateNode:     - Frames dropped (stream): 26
2026-01-13 10:42:54,926 [INFO] GateNode:   Detection optimization:
2026-01-13 10:42:54,927 [INFO] GateNode:     - Detections run: 94
2026-01-13 10:42:54,928 [INFO] GateNode:     - Detections skipped: 0
2026-01-13 10:42:54,928 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-13 10:42:54,932 [INFO] GateNode:   Unique tracks created: 12
2026-01-13 10:42:54,933 [INFO] GateNode:   Tracks confirmed: 6
2026-01-13 10:42:54,933 [INFO] GateNode:   Tracks recognized: 7
2026-01-13 10:42:54,933 [INFO] GateNode:   People counts:
2026-01-13 10:42:54,934 [INFO] GateNode:     - Authorized: 2
2026-01-13 10:42:54,934 [INFO] GateNode:     - Wanted: 0
2026-01-13 10:42:54,935 [INFO] GateNode:     - Unknown: 5
2026-01-13 10:42:54,935 [INFO] GateNode:   Gate opens: 2
2026-01-13 10:42:54,936 [INFO] GateNode:     - Authorized: 2
2026-01-13 10:42:54,936 [INFO] GateNode:     - Wanted: 0
2026-01-13 10:42:54,937 [INFO] GateNode:     - Rejected: 0
2026-01-13 10:42:54,938 [INFO] GateNode: ==================================================
2026-01-13 10:42:54,939 [INFO] GateNode: Gate Node shutting down...
2026-01-13 10:42:54,940 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 10:42:54,940 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 10:42:54,941 [INFO] GateNode: Recognition executor shutdown
2026-01-13 10:42:54,942 [INFO] storage.logs: Access logger closed
2026-01-13 10:42:54,943 [INFO] GateNode: Gate Node stopped
2026-01-13 10:42:54,949 [INFO] GateNode: ==================================================
2026-01-13 10:42:54,950 [INFO] GateNode: Session Statistics:
2026-01-13 10:42:54,951 [INFO] GateNode:   Runtime: 100.5s
2026-01-13 10:42:54,951 [INFO] GateNode:   Frames processed (AI): 95
2026-01-13 10:42:54,952 [INFO] GateNode:   Average AI FPS: 0.9
2026-01-13 10:42:54,952 [INFO] GateNode:   Camera capture:
2026-01-13 10:42:54,953 [INFO] GateNode:     - Frames captured: 2790
2026-01-13 10:42:54,953 [INFO] GateNode:     - Capture FPS: 28.8
2026-01-13 10:42:54,954 [INFO] GateNode:     - Frames dropped (AI queue): 2693
2026-01-13 10:42:54,954 [INFO] GateNode:     - Frames dropped (stream): 26
2026-01-13 10:42:54,955 [INFO] GateNode:   Detection optimization:
2026-01-13 10:42:54,955 [INFO] GateNode:     - Detections run: 94
2026-01-13 10:42:54,956 [INFO] GateNode:     - Detections skipped: 0
2026-01-13 10:42:54,956 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-13 10:42:54,957 [INFO] GateNode:   Unique tracks created: 12
2026-01-13 10:42:54,957 [INFO] GateNode:   Tracks confirmed: 6
2026-01-13 10:42:54,957 [INFO] GateNode:   Tracks recognized: 7
2026-01-13 10:42:54,958 [INFO] GateNode:   People counts:
2026-01-13 10:42:54,959 [INFO] GateNode:     - Authorized: 2
2026-01-13 10:42:54,959 [INFO] GateNode:     - Wanted: 0
2026-01-13 10:42:54,960 [INFO] GateNode:     - Unknown: 5
2026-01-13 10:42:54,960 [INFO] GateNode:   Gate opens: 2
2026-01-13 10:42:54,961 [INFO] GateNode:     - Authorized: 2
2026-01-13 10:42:54,961 [INFO] GateNode:     - Wanted: 0
2026-01-13 10:42:54,961 [INFO] GateNode:     - Rejected: 0
2026-01-13 10:42:54,962 [INFO] GateNode: ==================================================
2026-01-13 10:50:01,797 [INFO] GateNode: ==================================================
2026-01-13 10:50:01,797 [INFO] GateNode: Gate Node starting: gate-001
2026-01-13 10:50:01,798 [INFO] GateNode: Organization: DKUT
2026-01-13 10:50:01,798 [INFO] GateNode: ==================================================
2026-01-13 10:50:01,799 [INFO] GateNode: Initializing storage...
2026-01-13 10:50:01,804 [INFO] storage.face_db: Loaded 9 face records from metadata
2026-01-13 10:50:01,809 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-13 10:50:01,811 [INFO] storage.face_db: Current sync version: 2026-01-10T07:09:47.970077+00:00
2026-01-13 10:50:01,816 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-13 10:50:01,816 [INFO] GateNode: Storage initialized: 9 faces in database
2026-01-13 10:50:01,817 [INFO] GateNode: Initializing vision pipeline...
2026-01-13 10:50:02,265 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-13 10:50:02,266 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-13 10:50:05,708 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-13 10:50:05,708 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-13 10:50:05,709 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=1, max_age=30, max_emb_dist=1.0
2026-01-13 10:50:05,709 [INFO] GateNode: Vision pipeline initialized
2026-01-13 10:50:05,710 [INFO] GateNode: Initializing gate controller...
2026-01-13 10:50:05,710 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-13 10:50:05,711 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-13 10:50:05,711 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-13 10:50:05,713 [INFO] threads.capture: Capture thread starting...
2026-01-13 10:50:06,200 [INFO] threads.capture: Camera opened: 640x480 @ 30.0fps
2026-01-13 10:50:06,201 [INFO] threads.capture: Capture thread running at 30 FPS target
2026-01-13 10:50:06,217 [INFO] GateNode: Camera opened: 640x480 @ 30fps
2026-01-13 10:50:06,221 [INFO] core.alarm: AlarmSystem initialized for platform: windows
2026-01-13 10:50:06,223 [INFO] GateNode: Alarm system initialized
2026-01-13 10:50:06,224 [INFO] GateNode: Initializing worker threads...
2026-01-13 10:50:06,225 [INFO] GateNode: Recognition thread pool initialized (2 workers)
2026-01-13 10:50:06,227 [INFO] GateNode: Streaming disabled (MQTT/LiveKit not configured or unavailable)
2026-01-13 10:50:06,228 [INFO] GateNode: Worker threads initialized
2026-01-13 10:50:06,229 [INFO] threads.sync: Sync thread started
2026-01-13 10:50:06,230 [INFO] GateNode: Sync thread started
2026-01-13 10:50:06,233 [INFO] threads.sync: [INIT] HNSW database: 9 faces, version: 2026-01-10T07:09:47.970077+00:00
2026-01-13 10:50:06,234 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T07:09:47.970077+00:00)
2026-01-13 10:50:06,235 [INFO] threads.ui_v2: UI thread starting in continuous mode
2026-01-13 10:50:06,235 [INFO] GateNode: UI thread started
2026-01-13 10:50:06,237 [INFO] GateNode: Gate Node started successfully
2026-01-13 10:50:06,238 [INFO] GateNode: Starting main vision loop...
2026-01-13 10:50:06,345 [INFO] threads.ui_v2: Display window created: 1280x720
2026-01-13 10:50:08,296 [WARNING] threads.sync: Face sync failed (network): HTTPConnectionPool(host='127.0.0.1', port=8000): Max retries exceeded with url: /api/v1/faces/sync?org_id=DKUT&since=2026-01-10T07%3A09%3A47.970077%2B00%3A00 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001F776680F10>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2026-01-13 10:50:09,733 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.60)
2026-01-13 10:50:09,897 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 10:50:10,435 [INFO] storage.logs: Logged access event #102: AUTHORIZED -> AUTHORIZED
2026-01-13 10:50:10,436 [INFO] GateNode: Track 1 recognized: AUTHORIZED (Stephen Njiu, conf=0.60)
2026-01-13 10:50:16,902 [INFO] core.gate_control: Gate auto-closed
2026-01-13 10:50:18,345 [INFO] GateNode: Track 2 marked UNKNOWN after 3 attempts
2026-01-13 10:50:26,081 [INFO] GateNode: Track 3 marked UNKNOWN after 3 attempts
2026-01-13 10:50:27,410 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-13 10:50:27,412 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 10:50:30,907 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-13 10:50:34,971 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-13 10:50:34,972 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 10:50:38,665 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-13 10:50:47,339 [INFO] GateNode: Track 4 marked UNKNOWN after 3 attempts
2026-01-13 10:50:48,468 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-13 10:50:48,468 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 10:50:52,196 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-13 10:50:55,761 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-13 10:50:55,761 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 10:50:59,565 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-13 10:51:03,177 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-13 10:51:03,183 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 10:51:06,620 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-13 10:51:10,426 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-13 10:51:10,438 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 10:51:14,715 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-13 10:51:18,637 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-13 10:51:18,638 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 10:51:22,052 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-13 10:51:25,662 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-13 10:51:25,662 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 10:51:32,488 [INFO] GateNode: Track 5 marked UNKNOWN after 3 attempts
2026-01-13 10:51:32,739 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 5)
2026-01-13 10:51:32,742 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 10:51:36,346 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 5)
2026-01-13 10:51:39,446 [INFO] GateNode: Received signal 2
2026-01-13 10:51:39,448 [INFO] GateNode: Gate Node shutting down...
2026-01-13 10:51:39,449 [INFO] core.singletons: ONNXSessionManager initialized with providers: ['CPUExecutionProvider']
2026-01-13 10:51:39,449 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 10:51:39,450 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 10:51:39,450 [INFO] GateNode: Recognition executor shutdown
2026-01-13 10:51:39,451 [INFO] threads.sync: Sync thread stopped
2026-01-13 10:51:39,473 [INFO] threads.ui_v2: UI thread stopped
2026-01-13 10:51:39,899 [INFO] threads.capture: Capture thread stopped
2026-01-13 10:51:39,903 [INFO] GateNode: Received signal 2
2026-01-13 10:51:39,904 [INFO] GateNode: Gate Node shutting down...
2026-01-13 10:51:39,906 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 10:51:39,908 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 10:51:39,910 [INFO] GateNode: Recognition executor shutdown
2026-01-13 10:51:41,926 [INFO] storage.logs: Access logger closed
2026-01-13 10:51:41,927 [INFO] GateNode: Gate Node stopped
2026-01-13 10:51:41,929 [INFO] GateNode: ==================================================
2026-01-13 10:51:41,930 [INFO] GateNode: Session Statistics:
2026-01-13 10:51:41,932 [INFO] GateNode:   Runtime: 95.7s
2026-01-13 10:51:41,933 [INFO] GateNode:   Frames processed (AI): 63
2026-01-13 10:51:41,934 [INFO] GateNode:   Average AI FPS: 0.7
2026-01-13 10:51:41,938 [INFO] GateNode:   Camera capture:
2026-01-13 10:51:41,939 [INFO] GateNode:     - Frames captured: 2526
2026-01-13 10:51:41,943 [INFO] GateNode:     - Capture FPS: 25.5
2026-01-13 10:51:41,945 [INFO] GateNode:     - Frames dropped (AI queue): 2461
2026-01-13 10:51:41,946 [INFO] GateNode:     - Frames dropped (stream): 37
2026-01-13 10:51:41,949 [INFO] GateNode:   Detection optimization:
2026-01-13 10:51:41,951 [INFO] GateNode:     - Detections run: 62
2026-01-13 10:51:41,952 [INFO] GateNode:     - Detections skipped: 0
2026-01-13 10:51:41,953 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-13 10:51:41,956 [INFO] GateNode:   Unique tracks created: 5
2026-01-13 10:51:41,958 [INFO] GateNode:   Tracks confirmed: 5
2026-01-13 10:51:41,961 [INFO] GateNode:   Tracks recognized: 5
2026-01-13 10:51:41,963 [INFO] GateNode:   People counts:
2026-01-13 10:51:41,965 [INFO] GateNode:     - Authorized: 1
2026-01-13 10:51:41,966 [INFO] GateNode:     - Wanted: 0
2026-01-13 10:51:41,968 [INFO] GateNode:     - Unknown: 4
2026-01-13 10:51:41,970 [INFO] GateNode:   Gate opens: 1
2026-01-13 10:51:41,972 [INFO] GateNode:     - Authorized: 1
2026-01-13 10:51:41,972 [INFO] GateNode:     - Wanted: 0
2026-01-13 10:51:41,973 [INFO] GateNode:     - Rejected: 0
2026-01-13 10:51:41,974 [INFO] GateNode: ==================================================
2026-01-13 10:51:41,975 [INFO] GateNode: Gate Node shutting down...
2026-01-13 10:51:41,976 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 10:51:41,976 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 10:51:41,977 [INFO] GateNode: Recognition executor shutdown
2026-01-13 10:51:41,983 [INFO] storage.logs: Access logger closed
2026-01-13 10:51:41,984 [INFO] GateNode: Gate Node stopped
2026-01-13 10:51:41,986 [INFO] GateNode: ==================================================
2026-01-13 10:51:41,989 [INFO] GateNode: Session Statistics:
2026-01-13 10:51:41,992 [INFO] GateNode:   Runtime: 95.7s
2026-01-13 10:51:41,993 [INFO] GateNode:   Frames processed (AI): 63
2026-01-13 10:51:41,994 [INFO] GateNode:   Average AI FPS: 0.7
2026-01-13 10:51:41,994 [INFO] GateNode:   Camera capture:
2026-01-13 10:51:41,995 [INFO] GateNode:     - Frames captured: 2526
2026-01-13 10:51:41,995 [INFO] GateNode:     - Capture FPS: 25.5
2026-01-13 10:51:41,997 [INFO] GateNode:     - Frames dropped (AI queue): 2461
2026-01-13 10:51:41,997 [INFO] GateNode:     - Frames dropped (stream): 37
2026-01-13 10:51:41,998 [INFO] GateNode:   Detection optimization:
2026-01-13 10:51:42,000 [INFO] GateNode:     - Detections run: 62
2026-01-13 10:51:42,001 [INFO] GateNode:     - Detections skipped: 0
2026-01-13 10:51:42,002 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-13 10:51:42,002 [INFO] GateNode:   Unique tracks created: 5
2026-01-13 10:51:42,003 [INFO] GateNode:   Tracks confirmed: 5
2026-01-13 10:51:42,003 [INFO] GateNode:   Tracks recognized: 5
2026-01-13 10:51:42,004 [INFO] GateNode:   People counts:
2026-01-13 10:51:42,005 [INFO] GateNode:     - Authorized: 1
2026-01-13 10:51:42,006 [INFO] GateNode:     - Wanted: 0
2026-01-13 10:51:42,007 [INFO] GateNode:     - Unknown: 4
2026-01-13 10:51:42,008 [INFO] GateNode:   Gate opens: 1
2026-01-13 10:51:42,009 [INFO] GateNode:     - Authorized: 1
2026-01-13 10:51:42,009 [INFO] GateNode:     - Wanted: 0
2026-01-13 10:51:42,010 [INFO] GateNode:     - Rejected: 0
2026-01-13 10:51:42,011 [INFO] GateNode: ==================================================
2026-01-13 10:51:54,093 [INFO] GateNode: ==================================================
2026-01-13 10:51:54,094 [INFO] GateNode: Gate Node starting: gate-001
2026-01-13 10:51:54,094 [INFO] GateNode: Organization: DKUT
2026-01-13 10:51:54,094 [INFO] GateNode: ==================================================
2026-01-13 10:51:54,095 [INFO] GateNode: Initializing storage...
2026-01-13 10:51:54,099 [INFO] storage.face_db: Loaded 9 face records from metadata
2026-01-13 10:51:54,104 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-13 10:51:54,106 [INFO] storage.face_db: Current sync version: 2026-01-10T07:09:47.970077+00:00
2026-01-13 10:51:54,112 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-13 10:51:54,112 [INFO] GateNode: Storage initialized: 9 faces in database
2026-01-13 10:51:54,113 [INFO] GateNode: Initializing vision pipeline...
2026-01-13 10:51:54,425 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-13 10:51:54,425 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-13 10:51:57,203 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-13 10:51:57,204 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-13 10:51:57,205 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=1, max_age=30, max_emb_dist=1.0
2026-01-13 10:51:57,205 [INFO] GateNode: Vision pipeline initialized
2026-01-13 10:51:57,206 [INFO] GateNode: Initializing gate controller...
2026-01-13 10:51:57,206 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-13 10:51:57,206 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-13 10:51:57,207 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-13 10:51:57,208 [INFO] threads.capture: Capture thread starting...
2026-01-13 10:51:57,592 [INFO] threads.capture: Camera opened: 640x480 @ 30.0fps
2026-01-13 10:51:57,593 [INFO] threads.capture: Capture thread running at 30 FPS target
2026-01-13 10:51:57,610 [INFO] GateNode: Camera opened: 640x480 @ 30fps
2026-01-13 10:51:57,613 [INFO] core.alarm: AlarmSystem initialized for platform: windows
2026-01-13 10:51:57,614 [INFO] GateNode: Alarm system initialized
2026-01-13 10:51:57,615 [INFO] GateNode: Initializing worker threads...
2026-01-13 10:51:57,615 [INFO] GateNode: Recognition thread pool initialized (2 workers)
2026-01-13 10:51:57,618 [INFO] GateNode: Streaming disabled (MQTT/LiveKit not configured or unavailable)
2026-01-13 10:51:57,619 [INFO] GateNode: Worker threads initialized
2026-01-13 10:51:57,620 [INFO] threads.sync: Sync thread started
2026-01-13 10:51:57,620 [INFO] GateNode: Sync thread started
2026-01-13 10:51:57,621 [INFO] threads.sync: [INIT] HNSW database: 9 faces, version: 2026-01-10T07:09:47.970077+00:00
2026-01-13 10:51:57,622 [INFO] threads.sync: Syncing faces from http://127.0.0.1:8000/api/v1/faces/sync (current version: 2026-01-10T07:09:47.970077+00:00)
2026-01-13 10:51:57,622 [INFO] GateNode: UI thread started
2026-01-13 10:51:57,622 [INFO] threads.ui_v2: UI thread starting in continuous mode
2026-01-13 10:51:57,624 [INFO] GateNode: Gate Node started successfully
2026-01-13 10:51:57,625 [INFO] GateNode: Starting main vision loop...
2026-01-13 10:51:57,673 [INFO] threads.ui_v2: Display window created: 1280x720
2026-01-13 10:51:59,677 [WARNING] threads.sync: Face sync failed (network): HTTPConnectionPool(host='127.0.0.1', port=8000): Max retries exceeded with url: /api/v1/faces/sync?org_id=DKUT&since=2026-01-10T07%3A09%3A47.970077%2B00%3A00 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001D1EEC26790>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2026-01-13 10:52:03,001 [INFO] GateNode: Track 2 marked UNKNOWN after 3 attempts
2026-01-13 10:52:04,087 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.55)
2026-01-13 10:52:04,102 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 10:52:04,258 [INFO] storage.logs: Logged access event #103: AUTHORIZED -> AUTHORIZED
2026-01-13 10:52:04,261 [INFO] GateNode: Track 1 recognized: AUTHORIZED (Stephen Njiu, conf=0.55)
2026-01-13 10:52:11,110 [INFO] core.gate_control: Gate auto-closed
2026-01-13 10:52:15,289 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.56)
2026-01-13 10:52:15,315 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 10:52:15,446 [INFO] storage.logs: Logged access event #104: AUTHORIZED -> AUTHORIZED
2026-01-13 10:52:15,449 [INFO] GateNode: Track 4 recognized: AUTHORIZED (Stephen Njiu, conf=0.56)
2026-01-13 10:52:19,001 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.56)
2026-01-13 10:52:19,006 [INFO] core.gate_control: Gate EXTENDED (will close in 7.0s)
2026-01-13 10:52:19,158 [INFO] storage.logs: Logged access event #105: AUTHORIZED -> AUTHORIZED
2026-01-13 10:52:19,161 [INFO] GateNode: Track 5 recognized: AUTHORIZED (Stephen Njiu, conf=0.56)
2026-01-13 10:52:26,011 [INFO] core.gate_control: Gate auto-closed
2026-01-13 10:53:06,640 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.64)
2026-01-13 10:53:06,661 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 10:53:06,836 [INFO] storage.logs: Logged access event #106: AUTHORIZED -> AUTHORIZED
2026-01-13 10:53:06,837 [INFO] GateNode: Track 6 recognized: AUTHORIZED (Stephen Njiu, conf=0.64)
2026-01-13 10:53:13,670 [INFO] core.gate_control: Gate auto-closed
2026-01-13 10:53:26,744 [INFO] GateNode: Received signal 2
2026-01-13 10:53:26,744 [INFO] GateNode: Gate Node shutting down...
2026-01-13 10:53:26,745 [INFO] core.singletons: ONNXSessionManager initialized with providers: ['CPUExecutionProvider']
2026-01-13 10:53:26,746 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 10:53:26,746 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 10:53:26,747 [INFO] GateNode: Recognition executor shutdown
2026-01-13 10:53:26,748 [INFO] threads.sync: Sync thread stopped
2026-01-13 10:53:26,775 [INFO] threads.ui_v2: UI thread stopped
2026-01-13 10:53:26,862 [INFO] GateNode: Received signal 2
2026-01-13 10:53:26,871 [INFO] GateNode: Gate Node shutting down...
2026-01-13 10:53:26,882 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 10:53:26,901 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 10:53:26,902 [INFO] GateNode: Recognition executor shutdown
2026-01-13 10:53:28,903 [INFO] GateNode: Received signal 2
2026-01-13 10:53:28,903 [INFO] GateNode: Gate Node shutting down...
2026-01-13 10:53:28,904 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 10:53:28,905 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 10:53:28,905 [INFO] GateNode: Recognition executor shutdown
2026-01-13 10:53:31,334 [INFO] threads.capture: Capture thread stopped
2026-01-13 10:53:31,336 [INFO] storage.logs: Access logger closed
2026-01-13 10:53:31,337 [INFO] GateNode: Gate Node stopped
2026-01-13 10:53:31,337 [INFO] GateNode: ==================================================
2026-01-13 10:53:31,338 [INFO] GateNode: Session Statistics:
2026-01-13 10:53:31,339 [INFO] GateNode:   Runtime: 93.7s
2026-01-13 10:53:31,340 [INFO] GateNode:   Frames processed (AI): 83
2026-01-13 10:53:31,341 [INFO] GateNode:   Average AI FPS: 0.9
2026-01-13 10:53:31,343 [INFO] GateNode:   Camera capture:
2026-01-13 10:53:31,344 [INFO] GateNode:     - Frames captured: 2574
2026-01-13 10:53:31,344 [INFO] GateNode:     - Capture FPS: 28.4
2026-01-13 10:53:31,345 [INFO] GateNode:     - Frames dropped (AI queue): 2489
2026-01-13 10:53:31,346 [INFO] GateNode:     - Frames dropped (stream): 130
2026-01-13 10:53:31,346 [INFO] GateNode:   Detection optimization:
2026-01-13 10:53:31,348 [INFO] GateNode:     - Detections run: 82
2026-01-13 10:53:31,348 [INFO] GateNode:     - Detections skipped: 0
2026-01-13 10:53:31,349 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-13 10:53:31,349 [INFO] GateNode:   Unique tracks created: 6
2026-01-13 10:53:31,350 [INFO] GateNode:   Tracks confirmed: 5
2026-01-13 10:53:31,351 [INFO] GateNode:   Tracks recognized: 5
2026-01-13 10:53:31,351 [INFO] GateNode:   People counts:
2026-01-13 10:53:31,352 [INFO] GateNode:     - Authorized: 4
2026-01-13 10:53:31,352 [INFO] GateNode:     - Wanted: 0
2026-01-13 10:53:31,353 [INFO] GateNode:     - Unknown: 1
2026-01-13 10:53:31,354 [INFO] GateNode:   Gate opens: 4
2026-01-13 10:53:31,354 [INFO] GateNode:     - Authorized: 4
2026-01-13 10:53:31,355 [INFO] GateNode:     - Wanted: 0
2026-01-13 10:53:31,355 [INFO] GateNode:     - Rejected: 0
2026-01-13 10:53:31,355 [INFO] GateNode: ==================================================
2026-01-13 10:53:31,356 [INFO] GateNode: Gate Node shutting down...
2026-01-13 10:53:31,357 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 10:53:31,357 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 10:53:31,358 [INFO] GateNode: Recognition executor shutdown
2026-01-13 10:53:31,360 [INFO] storage.logs: Access logger closed
2026-01-13 10:53:31,362 [INFO] GateNode: Gate Node stopped
2026-01-13 10:53:31,363 [INFO] GateNode: ==================================================
2026-01-13 10:53:31,364 [INFO] GateNode: Session Statistics:
2026-01-13 10:53:31,365 [INFO] GateNode:   Runtime: 93.7s
2026-01-13 10:53:31,366 [INFO] GateNode:   Frames processed (AI): 83
2026-01-13 10:53:31,366 [INFO] GateNode:   Average AI FPS: 0.9
2026-01-13 10:53:31,367 [INFO] GateNode:   Camera capture:
2026-01-13 10:53:31,367 [INFO] GateNode:     - Frames captured: 2574
2026-01-13 10:53:31,368 [INFO] GateNode:     - Capture FPS: 28.4
2026-01-13 10:53:31,371 [INFO] GateNode:     - Frames dropped (AI queue): 2489
2026-01-13 10:53:31,371 [INFO] GateNode:     - Frames dropped (stream): 130
2026-01-13 10:53:31,373 [INFO] GateNode:   Detection optimization:
2026-01-13 10:53:31,374 [INFO] GateNode:     - Detections run: 82
2026-01-13 10:53:31,374 [INFO] GateNode:     - Detections skipped: 0
2026-01-13 10:53:31,375 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-13 10:53:31,375 [INFO] GateNode:   Unique tracks created: 6
2026-01-13 10:53:31,377 [INFO] GateNode:   Tracks confirmed: 5
2026-01-13 10:53:31,378 [INFO] GateNode:   Tracks recognized: 5
2026-01-13 10:53:31,378 [INFO] GateNode:   People counts:
2026-01-13 10:53:31,379 [INFO] GateNode:     - Authorized: 4
2026-01-13 10:53:31,379 [INFO] GateNode:     - Wanted: 0
2026-01-13 10:53:31,380 [INFO] GateNode:     - Unknown: 1
2026-01-13 10:53:31,380 [INFO] GateNode:   Gate opens: 4
2026-01-13 10:53:31,380 [INFO] GateNode:     - Authorized: 4
2026-01-13 10:53:31,381 [INFO] GateNode:     - Wanted: 0
2026-01-13 10:53:31,381 [INFO] GateNode:     - Rejected: 0
2026-01-13 10:53:31,382 [INFO] GateNode: ==================================================
2026-01-13 10:53:59,078 [INFO] GateNode: ==================================================
2026-01-13 10:53:59,079 [INFO] GateNode: Gate Node starting: gate-001
2026-01-13 10:53:59,079 [INFO] GateNode: Organization: DKUT
2026-01-13 10:53:59,080 [INFO] GateNode: ==================================================
2026-01-13 10:53:59,080 [INFO] GateNode: Initializing storage...
2026-01-13 10:53:59,084 [INFO] storage.face_db: Loaded 9 face records from metadata
2026-01-13 10:53:59,089 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-13 10:53:59,091 [INFO] storage.face_db: Current sync version: 2026-01-10T07:09:47.970077+00:00
2026-01-13 10:53:59,099 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-13 10:53:59,101 [INFO] GateNode: Storage initialized: 9 faces in database
2026-01-13 10:53:59,101 [INFO] GateNode: Initializing vision pipeline...
2026-01-13 10:53:59,438 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-13 10:53:59,438 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-13 10:54:01,440 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-13 10:54:01,440 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-13 10:54:01,441 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=1, max_age=30, max_emb_dist=1.0
2026-01-13 10:54:01,441 [INFO] GateNode: Vision pipeline initialized
2026-01-13 10:54:01,441 [INFO] GateNode: Initializing gate controller...
2026-01-13 10:54:01,442 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-13 10:54:01,442 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-13 10:54:01,443 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-13 10:54:01,444 [INFO] threads.capture: Capture thread starting...
2026-01-13 10:54:01,912 [INFO] threads.capture: Camera opened: 640x480 @ 30.0fps
2026-01-13 10:54:01,913 [INFO] threads.capture: Capture thread running at 30 FPS target
2026-01-13 10:54:01,949 [INFO] GateNode: Camera opened: 640x480 @ 30fps
2026-01-13 10:54:01,952 [INFO] core.alarm: AlarmSystem initialized for platform: windows
2026-01-13 10:54:01,952 [INFO] GateNode: Alarm system initialized
2026-01-13 10:54:01,953 [INFO] GateNode: Initializing worker threads...
2026-01-13 10:54:01,954 [INFO] GateNode: Recognition thread pool initialized (2 workers)
2026-01-13 10:54:01,954 [INFO] GateNode: Streaming disabled (MQTT/LiveKit not configured or unavailable)
2026-01-13 10:54:01,955 [INFO] GateNode: Worker threads initialized
2026-01-13 10:54:01,958 [INFO] threads.sync: Sync thread started
2026-01-13 10:54:01,958 [INFO] GateNode: Sync thread started
2026-01-13 10:54:01,959 [INFO] threads.sync: [INIT] HNSW database: 9 faces, version: 2026-01-10T07:09:47.970077+00:00
2026-01-13 10:54:01,963 [INFO] threads.sync: Syncing faces from https://gate-backend-production-0141.up.railway.app/api/v1/faces/sync (current version: 2026-01-10T07:09:47.970077+00:00)
2026-01-13 10:54:01,963 [INFO] GateNode: UI thread started
2026-01-13 10:54:01,963 [INFO] threads.ui_v2: UI thread starting in continuous mode
2026-01-13 10:54:01,964 [INFO] GateNode: Gate Node started successfully
2026-01-13 10:54:01,966 [INFO] GateNode: Starting main vision loop...
2026-01-13 10:54:02,004 [INFO] threads.ui_v2: Display window created: 1280x720
2026-01-13 10:54:05,023 [WARNING] threads.sync: Face sync failed (network): 404 Client Error: Not Found for url: https://gate-backend-production-0141.up.railway.app/api/v1/faces/sync?org_id=DKUT&since=2026-01-10T07%3A09%3A47.970077%2B00%3A00
2026-01-13 10:54:07,601 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.59)
2026-01-13 10:54:07,621 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 10:54:07,850 [INFO] storage.logs: Logged access event #107: AUTHORIZED -> AUTHORIZED
2026-01-13 10:54:07,852 [INFO] GateNode: Track 1 recognized: AUTHORIZED (Stephen Njiu, conf=0.59)
2026-01-13 10:54:14,637 [INFO] core.gate_control: Gate auto-closed
2026-01-13 10:54:29,365 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.53)
2026-01-13 10:54:29,371 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 10:54:29,563 [INFO] storage.logs: Logged access event #108: AUTHORIZED -> AUTHORIZED
2026-01-13 10:54:29,564 [INFO] GateNode: Track 3 recognized: AUTHORIZED (Stephen Njiu, conf=0.53)
2026-01-13 10:54:36,372 [INFO] core.gate_control: Gate auto-closed
2026-01-13 10:54:45,636 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.60)
2026-01-13 10:54:45,674 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 10:54:45,890 [INFO] storage.logs: Logged access event #109: AUTHORIZED -> AUTHORIZED
2026-01-13 10:54:45,951 [INFO] GateNode: Track 4 recognized: AUTHORIZED (Stephen Njiu, conf=0.60)
2026-01-13 10:54:51,513 [INFO] GateNode: Received signal 2
2026-01-13 10:54:51,514 [INFO] GateNode: Gate Node shutting down...
2026-01-13 10:54:51,515 [INFO] core.singletons: ONNXSessionManager initialized with providers: ['CPUExecutionProvider']
2026-01-13 10:54:51,518 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 10:54:51,521 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 10:54:51,523 [INFO] GateNode: Recognition executor shutdown
2026-01-13 10:54:51,525 [INFO] threads.sync: Sync thread stopped
2026-01-13 10:54:51,562 [INFO] threads.ui_v2: UI thread stopped
2026-01-13 10:54:51,992 [INFO] threads.capture: Capture thread stopped
2026-01-13 10:54:51,998 [INFO] GateNode: Received signal 2
2026-01-13 10:54:52,008 [INFO] GateNode: Gate Node shutting down...
2026-01-13 10:54:52,011 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 10:54:52,012 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 10:54:52,014 [INFO] GateNode: Recognition executor shutdown
2026-01-13 10:54:52,674 [INFO] core.gate_control: Gate auto-closed
2026-01-13 10:54:54,033 [INFO] storage.logs: Access logger closed
2026-01-13 10:54:54,039 [INFO] GateNode: Gate Node stopped
2026-01-13 10:54:54,053 [INFO] GateNode: ==================================================
2026-01-13 10:54:54,079 [INFO] GateNode: Session Statistics:
2026-01-13 10:54:54,098 [INFO] GateNode:   Runtime: 52.1s
2026-01-13 10:54:54,105 [INFO] GateNode:   Frames processed (AI): 49
2026-01-13 10:54:54,127 [INFO] GateNode:   Average AI FPS: 0.9
2026-01-13 10:54:54,134 [INFO] GateNode:   Camera capture:
2026-01-13 10:54:54,155 [INFO] GateNode:     - Frames captured: 1344
2026-01-13 10:54:54,172 [INFO] GateNode:     - Capture FPS: 27.3
2026-01-13 10:54:54,183 [INFO] GateNode:     - Frames dropped (AI queue): 1293
2026-01-13 10:54:54,192 [INFO] GateNode:     - Frames dropped (stream): 0
2026-01-13 10:54:54,201 [INFO] GateNode:   Detection optimization:
2026-01-13 10:54:54,203 [INFO] GateNode:     - Detections run: 48
2026-01-13 10:54:54,210 [INFO] GateNode:     - Detections skipped: 0
2026-01-13 10:54:54,223 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-13 10:54:54,227 [INFO] GateNode:   Unique tracks created: 4
2026-01-13 10:54:54,229 [INFO] GateNode:   Tracks confirmed: 3
2026-01-13 10:54:54,231 [INFO] GateNode:   Tracks recognized: 3
2026-01-13 10:54:54,233 [INFO] GateNode:   People counts:
2026-01-13 10:54:54,235 [INFO] GateNode:     - Authorized: 3
2026-01-13 10:54:54,242 [INFO] GateNode:     - Wanted: 0
2026-01-13 10:54:54,244 [INFO] GateNode:     - Unknown: 0
2026-01-13 10:54:54,246 [INFO] GateNode:   Gate opens: 3
2026-01-13 10:54:54,249 [INFO] GateNode:     - Authorized: 3
2026-01-13 10:54:54,251 [INFO] GateNode:     - Wanted: 0
2026-01-13 10:54:54,252 [INFO] GateNode:     - Rejected: 0
2026-01-13 10:54:54,254 [INFO] GateNode: ==================================================
2026-01-13 10:54:54,260 [INFO] GateNode: Gate Node shutting down...
2026-01-13 10:54:54,267 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 10:54:54,271 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 10:54:54,274 [INFO] GateNode: Recognition executor shutdown
2026-01-13 10:54:54,275 [INFO] storage.logs: Access logger closed
2026-01-13 10:54:54,276 [INFO] GateNode: Gate Node stopped
2026-01-13 10:54:54,285 [INFO] GateNode: ==================================================
2026-01-13 10:54:54,288 [INFO] GateNode: Session Statistics:
2026-01-13 10:54:54,290 [INFO] GateNode:   Runtime: 52.3s
2026-01-13 10:54:54,290 [INFO] GateNode:   Frames processed (AI): 49
2026-01-13 10:54:54,291 [INFO] GateNode:   Average AI FPS: 0.9
2026-01-13 10:54:54,295 [INFO] GateNode:   Camera capture:
2026-01-13 10:54:54,297 [INFO] GateNode:     - Frames captured: 1344
2026-01-13 10:54:54,301 [INFO] GateNode:     - Capture FPS: 27.3
2026-01-13 10:54:54,303 [INFO] GateNode:     - Frames dropped (AI queue): 1293
2026-01-13 10:54:54,304 [INFO] GateNode:     - Frames dropped (stream): 0
2026-01-13 10:54:54,305 [INFO] GateNode:   Detection optimization:
2026-01-13 10:54:54,306 [INFO] GateNode:     - Detections run: 48
2026-01-13 10:54:54,307 [INFO] GateNode:     - Detections skipped: 0
2026-01-13 10:54:54,308 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-13 10:54:54,308 [INFO] GateNode:   Unique tracks created: 4
2026-01-13 10:54:54,309 [INFO] GateNode:   Tracks confirmed: 3
2026-01-13 10:54:54,310 [INFO] GateNode:   Tracks recognized: 3
2026-01-13 10:54:54,310 [INFO] GateNode:   People counts:
2026-01-13 10:54:54,310 [INFO] GateNode:     - Authorized: 3
2026-01-13 10:54:54,311 [INFO] GateNode:     - Wanted: 0
2026-01-13 10:54:54,311 [INFO] GateNode:     - Unknown: 0
2026-01-13 10:54:54,312 [INFO] GateNode:   Gate opens: 3
2026-01-13 10:54:54,313 [INFO] GateNode:     - Authorized: 3
2026-01-13 10:54:54,314 [INFO] GateNode:     - Wanted: 0
2026-01-13 10:54:54,315 [INFO] GateNode:     - Rejected: 0
2026-01-13 10:54:54,315 [INFO] GateNode: ==================================================
2026-01-13 10:54:58,424 [INFO] GateNode: ==================================================
2026-01-13 10:54:58,424 [INFO] GateNode: Gate Node starting: gate-001
2026-01-13 10:54:58,425 [INFO] GateNode: Organization: DKUT
2026-01-13 10:54:58,425 [INFO] GateNode: ==================================================
2026-01-13 10:54:58,426 [INFO] GateNode: Initializing storage...
2026-01-13 10:54:58,429 [INFO] storage.face_db: Loaded 9 face records from metadata
2026-01-13 10:54:58,434 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-13 10:54:58,436 [INFO] storage.face_db: Current sync version: 2026-01-10T07:09:47.970077+00:00
2026-01-13 10:54:58,441 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-13 10:54:58,441 [INFO] GateNode: Storage initialized: 9 faces in database
2026-01-13 10:54:58,442 [INFO] GateNode: Initializing vision pipeline...
2026-01-13 10:54:58,602 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-13 10:54:58,602 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-13 10:54:59,692 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-13 10:54:59,698 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-13 10:54:59,715 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=1, max_age=30, max_emb_dist=1.0
2026-01-13 10:54:59,727 [INFO] GateNode: Vision pipeline initialized
2026-01-13 10:54:59,730 [INFO] GateNode: Initializing gate controller...
2026-01-13 10:54:59,732 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-13 10:54:59,734 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-13 10:54:59,735 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-13 10:54:59,737 [INFO] threads.capture: Capture thread starting...
2026-01-13 10:55:00,149 [INFO] threads.capture: Camera opened: 640x480 @ 30.0fps
2026-01-13 10:55:00,150 [INFO] threads.capture: Capture thread running at 30 FPS target
2026-01-13 10:55:00,241 [INFO] GateNode: Camera opened: 640x480 @ 30fps
2026-01-13 10:55:00,244 [INFO] core.alarm: AlarmSystem initialized for platform: windows
2026-01-13 10:55:00,245 [INFO] GateNode: Alarm system initialized
2026-01-13 10:55:00,245 [INFO] GateNode: Initializing worker threads...
2026-01-13 10:55:00,246 [INFO] GateNode: Recognition thread pool initialized (2 workers)
2026-01-13 10:55:00,247 [INFO] GateNode: Streaming disabled (MQTT/LiveKit not configured or unavailable)
2026-01-13 10:55:00,248 [INFO] GateNode: Worker threads initialized
2026-01-13 10:55:00,249 [INFO] threads.sync: Sync thread started
2026-01-13 10:55:00,250 [INFO] threads.sync: [INIT] HNSW database: 9 faces, version: 2026-01-10T07:09:47.970077+00:00
2026-01-13 10:55:00,250 [INFO] GateNode: Sync thread started
2026-01-13 10:55:00,252 [INFO] threads.sync: Syncing faces from https://gate-backend-production-3b50.up.railway.app/api/v1/faces/sync (current version: 2026-01-10T07:09:47.970077+00:00)
2026-01-13 10:55:00,254 [INFO] threads.ui_v2: UI thread starting in continuous mode
2026-01-13 10:55:00,255 [INFO] GateNode: UI thread started
2026-01-13 10:55:00,272 [INFO] GateNode: Gate Node started successfully
2026-01-13 10:55:00,286 [INFO] GateNode: Starting main vision loop...
2026-01-13 10:55:00,302 [INFO] threads.ui_v2: Display window created: 1280x720
2026-01-13 10:55:03,569 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-13T07:55:02.790049+00:00
2026-01-13 10:55:03,574 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-13 10:55:13,080 [INFO] core.gate_control: ACCESS GRANTED: 25079658-9b13-472c-bee5-27f4649ff4ed (confidence: 0.61)
2026-01-13 10:55:13,101 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 10:55:13,272 [INFO] storage.logs: Logged access event #110: AUTHORIZED -> AUTHORIZED
2026-01-13 10:55:13,277 [INFO] GateNode: Track 1 recognized: AUTHORIZED (Stephen Njiu, conf=0.61)
2026-01-13 10:55:20,116 [INFO] core.gate_control: Gate auto-closed
2026-01-13 10:56:13,769 [INFO] GateNode: Track 4 marked UNKNOWN after 3 attempts
2026-01-13 10:56:15,377 [INFO] core.gate_control: ACCESS GRANTED: 25079658-9b13-472c-bee5-27f4649ff4ed (confidence: 0.56)
2026-01-13 10:56:15,393 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 10:56:15,554 [INFO] storage.logs: Logged access event #111: AUTHORIZED -> AUTHORIZED
2026-01-13 10:56:15,560 [INFO] GateNode: Track 5 recognized: AUTHORIZED (Stephen Njiu, conf=0.56)
2026-01-13 10:56:22,399 [INFO] core.gate_control: Gate auto-closed
2026-01-13 10:56:39,964 [INFO] core.gate_control: ACCESS GRANTED: 25079658-9b13-472c-bee5-27f4649ff4ed (confidence: 0.52)
2026-01-13 10:56:39,971 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 10:56:40,122 [INFO] storage.logs: Logged access event #112: AUTHORIZED -> AUTHORIZED
2026-01-13 10:56:40,126 [INFO] GateNode: Track 6 recognized: AUTHORIZED (Stephen Njiu, conf=0.52)
2026-01-13 10:56:46,977 [INFO] core.gate_control: Gate auto-closed
2026-01-13 10:57:03,738 [INFO] threads.sync: Syncing faces from https://gate-backend-production-3b50.up.railway.app/api/v1/faces/sync (current version: 2026-01-10T07:09:47.970077+00:00)
2026-01-13 10:57:06,629 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-13T07:57:06.427681+00:00
2026-01-13 10:57:06,636 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-13 10:57:13,551 [INFO] core.gate_control: ACCESS GRANTED: 25079658-9b13-472c-bee5-27f4649ff4ed (confidence: 0.50)
2026-01-13 10:57:13,554 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 10:57:13,726 [INFO] storage.logs: Logged access event #113: AUTHORIZED -> AUTHORIZED
2026-01-13 10:57:13,731 [INFO] GateNode: Track 8 recognized: AUTHORIZED (Stephen Njiu, conf=0.50)
2026-01-13 10:57:20,558 [INFO] core.gate_control: Gate auto-closed
2026-01-13 10:57:33,660 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.56)
2026-01-13 10:57:33,667 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 10:57:33,849 [INFO] storage.logs: Logged access event #114: AUTHORIZED -> AUTHORIZED
2026-01-13 10:57:33,858 [INFO] GateNode: Track 9 recognized: AUTHORIZED (Stephen Njiu, conf=0.56)
2026-01-13 10:57:34,704 [INFO] threads.ui_v2: UI thread stopped
2026-01-13 10:57:38,858 [INFO] GateNode: Received signal 2
2026-01-13 10:57:38,859 [INFO] GateNode: Gate Node shutting down...
2026-01-13 10:57:38,859 [INFO] core.singletons: ONNXSessionManager initialized with providers: ['CPUExecutionProvider']
2026-01-13 10:57:38,860 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 10:57:38,861 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 10:57:38,861 [INFO] GateNode: Recognition executor shutdown
2026-01-13 10:57:38,862 [INFO] threads.sync: Sync thread stopped
2026-01-13 10:57:39,298 [INFO] threads.capture: Capture thread stopped
2026-01-13 10:57:39,302 [INFO] storage.logs: Access logger closed
2026-01-13 10:57:39,308 [INFO] GateNode: Gate Node stopped
2026-01-13 10:57:39,316 [INFO] GateNode: ==================================================
2026-01-13 10:57:39,317 [INFO] GateNode: Session Statistics:
2026-01-13 10:57:39,318 [INFO] GateNode:   Runtime: 159.0s
2026-01-13 10:57:39,319 [INFO] GateNode:   Frames processed (AI): 122
2026-01-13 10:57:39,320 [INFO] GateNode:   Average AI FPS: 0.8
2026-01-13 10:57:39,322 [INFO] GateNode:   Camera capture:
2026-01-13 10:57:39,323 [INFO] GateNode:     - Frames captured: 4516
2026-01-13 10:57:39,324 [INFO] GateNode:     - Capture FPS: 29.3
2026-01-13 10:57:39,324 [INFO] GateNode:     - Frames dropped (AI queue): 4392
2026-01-13 10:57:39,325 [INFO] GateNode:     - Frames dropped (stream): 137
2026-01-13 10:57:39,326 [INFO] GateNode:   Detection optimization:
2026-01-13 10:57:39,326 [INFO] GateNode:     - Detections run: 121
2026-01-13 10:57:39,327 [INFO] GateNode:     - Detections skipped: 0
2026-01-13 10:57:39,328 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-13 10:57:39,329 [INFO] GateNode:   Unique tracks created: 9
2026-01-13 10:57:39,330 [INFO] GateNode:   Tracks confirmed: 6
2026-01-13 10:57:39,331 [INFO] GateNode:   Tracks recognized: 6
2026-01-13 10:57:39,331 [INFO] GateNode:   People counts:
2026-01-13 10:57:39,332 [INFO] GateNode:     - Authorized: 5
2026-01-13 10:57:39,334 [INFO] GateNode:     - Wanted: 0
2026-01-13 10:57:39,334 [INFO] GateNode:     - Unknown: 1
2026-01-13 10:57:39,335 [INFO] GateNode:   Gate opens: 5
2026-01-13 10:57:39,336 [INFO] GateNode:     - Authorized: 5
2026-01-13 10:57:39,337 [INFO] GateNode:     - Wanted: 0
2026-01-13 10:57:39,338 [INFO] GateNode:     - Rejected: 0
2026-01-13 10:57:39,340 [INFO] GateNode: ==================================================
2026-01-13 10:57:39,340 [INFO] GateNode: Gate Node shutting down...
2026-01-13 10:57:39,342 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 10:57:39,343 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 10:57:39,344 [INFO] GateNode: Recognition executor shutdown
2026-01-13 10:57:39,346 [INFO] storage.logs: Access logger closed
2026-01-13 10:57:39,346 [INFO] GateNode: Gate Node stopped
2026-01-13 10:57:39,347 [INFO] GateNode: ==================================================
2026-01-13 10:57:39,347 [INFO] GateNode: Session Statistics:
2026-01-13 10:57:39,347 [INFO] GateNode:   Runtime: 159.1s
2026-01-13 10:57:39,348 [INFO] GateNode:   Frames processed (AI): 122
2026-01-13 10:57:39,348 [INFO] GateNode:   Average AI FPS: 0.8
2026-01-13 10:57:39,349 [INFO] GateNode:   Camera capture:
2026-01-13 10:57:39,350 [INFO] GateNode:     - Frames captured: 4516
2026-01-13 10:57:39,355 [INFO] GateNode:     - Capture FPS: 29.3
2026-01-13 10:57:39,356 [INFO] GateNode:     - Frames dropped (AI queue): 4392
2026-01-13 10:57:39,357 [INFO] GateNode:     - Frames dropped (stream): 137
2026-01-13 10:57:39,357 [INFO] GateNode:   Detection optimization:
2026-01-13 10:57:39,358 [INFO] GateNode:     - Detections run: 121
2026-01-13 10:57:39,358 [INFO] GateNode:     - Detections skipped: 0
2026-01-13 10:57:39,359 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-13 10:57:39,359 [INFO] GateNode:   Unique tracks created: 9
2026-01-13 10:57:39,360 [INFO] GateNode:   Tracks confirmed: 6
2026-01-13 10:57:39,360 [INFO] GateNode:   Tracks recognized: 6
2026-01-13 10:57:39,360 [INFO] GateNode:   People counts:
2026-01-13 10:57:39,361 [INFO] GateNode:     - Authorized: 5
2026-01-13 10:57:39,362 [INFO] GateNode:     - Wanted: 0
2026-01-13 10:57:39,362 [INFO] GateNode:     - Unknown: 1
2026-01-13 10:57:39,363 [INFO] GateNode:   Gate opens: 5
2026-01-13 10:57:39,363 [INFO] GateNode:     - Authorized: 5
2026-01-13 10:57:39,364 [INFO] GateNode:     - Wanted: 0
2026-01-13 10:57:39,364 [INFO] GateNode:     - Rejected: 0
2026-01-13 10:57:39,364 [INFO] GateNode: ==================================================
2026-01-13 10:59:13,836 [INFO] GateNode: ==================================================
2026-01-13 10:59:13,837 [INFO] GateNode: Gate Node starting: gate-001
2026-01-13 10:59:13,837 [INFO] GateNode: Organization: DKUT
2026-01-13 10:59:13,837 [INFO] GateNode: ==================================================
2026-01-13 10:59:13,838 [INFO] GateNode: Initializing storage...
2026-01-13 10:59:13,842 [INFO] storage.face_db: Loaded 9 face records from metadata
2026-01-13 10:59:13,848 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-13 10:59:13,849 [INFO] storage.face_db: Current sync version: 2026-01-10T07:09:47.970077+00:00
2026-01-13 10:59:13,854 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-13 10:59:13,854 [INFO] GateNode: Storage initialized: 9 faces in database
2026-01-13 10:59:13,854 [INFO] GateNode: Initializing vision pipeline...
2026-01-13 10:59:14,147 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-13 10:59:14,147 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-13 10:59:15,102 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-13 10:59:15,102 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-13 10:59:15,103 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=1, max_age=30, max_emb_dist=1.0
2026-01-13 10:59:15,103 [INFO] GateNode: Vision pipeline initialized
2026-01-13 10:59:15,104 [INFO] GateNode: Initializing gate controller...
2026-01-13 10:59:15,104 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-13 10:59:15,104 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-13 10:59:15,105 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-13 10:59:15,106 [INFO] threads.capture: Capture thread starting...
2026-01-13 10:59:15,614 [INFO] threads.capture: Camera opened: 640x480 @ 30.0fps
2026-01-13 10:59:15,614 [INFO] threads.capture: Capture thread running at 30 FPS target
2026-01-13 10:59:15,713 [INFO] GateNode: Camera opened: 640x480 @ 30fps
2026-01-13 10:59:15,716 [INFO] core.alarm: AlarmSystem initialized for platform: windows
2026-01-13 10:59:15,717 [INFO] GateNode: Alarm system initialized
2026-01-13 10:59:15,717 [INFO] GateNode: Initializing worker threads...
2026-01-13 10:59:15,718 [INFO] GateNode: Recognition thread pool initialized (2 workers)
2026-01-13 10:59:15,719 [INFO] GateNode: Streaming disabled (MQTT/LiveKit not configured or unavailable)
2026-01-13 10:59:15,720 [INFO] GateNode: Worker threads initialized
2026-01-13 10:59:15,721 [INFO] threads.sync: Sync thread started
2026-01-13 10:59:15,722 [INFO] GateNode: Sync thread started
2026-01-13 10:59:15,722 [INFO] threads.sync: [INIT] HNSW database: 9 faces, version: 2026-01-10T07:09:47.970077+00:00
2026-01-13 10:59:15,724 [INFO] threads.sync: Syncing faces from https://gate-backend-production-3b50.up.railway.app/api/v1/faces/sync (current version: 2026-01-10T07:09:47.970077+00:00)
2026-01-13 10:59:15,725 [INFO] threads.ui_v2: UI thread starting in continuous mode
2026-01-13 10:59:15,726 [INFO] GateNode: UI thread started
2026-01-13 10:59:15,727 [INFO] GateNode: Gate Node started successfully
2026-01-13 10:59:15,727 [INFO] GateNode: Starting main vision loop...
2026-01-13 10:59:15,790 [INFO] threads.ui_v2: Display window created: 1280x720
2026-01-13 10:59:18,048 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-13T07:59:17.889420+00:00
2026-01-13 10:59:18,049 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-13 10:59:29,826 [INFO] core.gate_control: ACCESS GRANTED: 3a88d549-655c-491e-a207-cba58728cb48 (confidence: 0.58)
2026-01-13 10:59:29,839 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 10:59:30,036 [INFO] storage.logs: Logged access event #115: AUTHORIZED -> AUTHORIZED
2026-01-13 10:59:30,038 [INFO] GateNode: Track 1 recognized: AUTHORIZED (Stephen Njiu, conf=0.58)
2026-01-13 10:59:36,846 [INFO] core.gate_control: Gate auto-closed
2026-01-13 10:59:44,245 [INFO] threads.ui_v2: UI thread stopped
2026-01-13 11:00:24,211 [INFO] GateNode: Received signal 2
2026-01-13 11:00:24,211 [INFO] GateNode: Gate Node shutting down...
2026-01-13 11:00:24,212 [INFO] core.singletons: ONNXSessionManager initialized with providers: ['CPUExecutionProvider']
2026-01-13 11:00:24,213 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 11:00:24,213 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 11:00:24,215 [INFO] GateNode: Recognition executor shutdown
2026-01-13 11:00:24,216 [INFO] threads.sync: Sync thread stopped
2026-01-13 11:00:24,677 [INFO] threads.capture: Capture thread stopped
2026-01-13 11:00:24,681 [INFO] storage.logs: Access logger closed
2026-01-13 11:00:24,682 [INFO] GateNode: Gate Node stopped
2026-01-13 11:00:24,686 [INFO] GateNode: ==================================================
2026-01-13 11:00:24,690 [INFO] GateNode: Session Statistics:
2026-01-13 11:00:24,691 [INFO] GateNode:   Runtime: 69.0s
2026-01-13 11:00:24,692 [INFO] GateNode:   Frames processed (AI): 70
2026-01-13 11:00:24,696 [INFO] GateNode:   Average AI FPS: 1.0
2026-01-13 11:00:24,697 [INFO] GateNode:   Camera capture:
2026-01-13 11:00:24,698 [INFO] GateNode:     - Frames captured: 1927
2026-01-13 11:00:24,699 [INFO] GateNode:     - Capture FPS: 28.9
2026-01-13 11:00:24,701 [INFO] GateNode:     - Frames dropped (AI queue): 1855
2026-01-13 11:00:24,702 [INFO] GateNode:     - Frames dropped (stream): 1129
2026-01-13 11:00:24,703 [INFO] GateNode:   Detection optimization:
2026-01-13 11:00:24,704 [INFO] GateNode:     - Detections run: 69
2026-01-13 11:00:24,705 [INFO] GateNode:     - Detections skipped: 0
2026-01-13 11:00:24,706 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-13 11:00:24,711 [INFO] GateNode:   Unique tracks created: 1
2026-01-13 11:00:24,712 [INFO] GateNode:   Tracks confirmed: 1
2026-01-13 11:00:24,712 [INFO] GateNode:   Tracks recognized: 1
2026-01-13 11:00:24,713 [INFO] GateNode:   People counts:
2026-01-13 11:00:24,713 [INFO] GateNode:     - Authorized: 1
2026-01-13 11:00:24,714 [INFO] GateNode:     - Wanted: 0
2026-01-13 11:00:24,714 [INFO] GateNode:     - Unknown: 0
2026-01-13 11:00:24,717 [INFO] GateNode:   Gate opens: 1
2026-01-13 11:00:24,721 [INFO] GateNode:     - Authorized: 1
2026-01-13 11:00:24,723 [INFO] GateNode:     - Wanted: 0
2026-01-13 11:00:24,723 [INFO] GateNode:     - Rejected: 0
2026-01-13 11:00:24,724 [INFO] GateNode: ==================================================
2026-01-13 11:00:24,724 [INFO] GateNode: Gate Node shutting down...
2026-01-13 11:00:24,725 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 11:00:24,725 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 11:00:24,726 [INFO] GateNode: Recognition executor shutdown
2026-01-13 11:00:24,726 [INFO] storage.logs: Access logger closed
2026-01-13 11:00:24,726 [INFO] GateNode: Gate Node stopped
2026-01-13 11:00:24,727 [INFO] GateNode: ==================================================
2026-01-13 11:00:24,728 [INFO] GateNode: Session Statistics:
2026-01-13 11:00:24,729 [INFO] GateNode:   Runtime: 69.0s
2026-01-13 11:00:24,733 [INFO] GateNode:   Frames processed (AI): 70
2026-01-13 11:00:24,733 [INFO] GateNode:   Average AI FPS: 1.0
2026-01-13 11:00:24,734 [INFO] GateNode:   Camera capture:
2026-01-13 11:00:24,734 [INFO] GateNode:     - Frames captured: 1927
2026-01-13 11:00:24,735 [INFO] GateNode:     - Capture FPS: 28.9
2026-01-13 11:00:24,735 [INFO] GateNode:     - Frames dropped (AI queue): 1855
2026-01-13 11:00:24,735 [INFO] GateNode:     - Frames dropped (stream): 1129
2026-01-13 11:00:24,736 [INFO] GateNode:   Detection optimization:
2026-01-13 11:00:24,736 [INFO] GateNode:     - Detections run: 69
2026-01-13 11:00:24,737 [INFO] GateNode:     - Detections skipped: 0
2026-01-13 11:00:24,737 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-13 11:00:24,738 [INFO] GateNode:   Unique tracks created: 1
2026-01-13 11:00:24,738 [INFO] GateNode:   Tracks confirmed: 1
2026-01-13 11:00:24,739 [INFO] GateNode:   Tracks recognized: 1
2026-01-13 11:00:24,740 [INFO] GateNode:   People counts:
2026-01-13 11:00:24,740 [INFO] GateNode:     - Authorized: 1
2026-01-13 11:00:24,740 [INFO] GateNode:     - Wanted: 0
2026-01-13 11:00:24,741 [INFO] GateNode:     - Unknown: 0
2026-01-13 11:00:24,741 [INFO] GateNode:   Gate opens: 1
2026-01-13 11:00:24,742 [INFO] GateNode:     - Authorized: 1
2026-01-13 11:00:24,742 [INFO] GateNode:     - Wanted: 0
2026-01-13 11:00:24,743 [INFO] GateNode:     - Rejected: 0
2026-01-13 11:00:24,743 [INFO] GateNode: ==================================================
2026-01-13 11:03:19,782 [INFO] GateNode: ==================================================
2026-01-13 11:03:19,782 [INFO] GateNode: Gate Node starting: gate-001
2026-01-13 11:03:19,783 [INFO] GateNode: Organization: DKUT
2026-01-13 11:03:19,783 [INFO] GateNode: ==================================================
2026-01-13 11:03:19,783 [INFO] GateNode: Initializing storage...
2026-01-13 11:03:20,396 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-13 11:03:20,396 [INFO] GateNode: Storage initialized: 0 faces in database
2026-01-13 11:03:20,397 [INFO] GateNode: Initializing vision pipeline...
2026-01-13 11:03:20,553 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-13 11:03:20,553 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-13 11:03:21,451 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-13 11:03:21,452 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-13 11:03:21,452 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=1, max_age=30, max_emb_dist=1.0
2026-01-13 11:03:21,453 [INFO] GateNode: Vision pipeline initialized
2026-01-13 11:03:21,453 [INFO] GateNode: Initializing gate controller...
2026-01-13 11:03:21,454 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-13 11:03:21,454 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-13 11:03:21,455 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-13 11:03:21,456 [INFO] threads.capture: Capture thread starting...
2026-01-13 11:03:22,330 [INFO] threads.capture: Camera opened: 640x480 @ 30.0fps
2026-01-13 11:03:22,331 [INFO] threads.capture: Capture thread running at 30 FPS target
2026-01-13 11:03:22,421 [INFO] GateNode: Camera opened: 640x480 @ 30fps
2026-01-13 11:03:22,424 [INFO] core.alarm: AlarmSystem initialized for platform: windows
2026-01-13 11:03:22,425 [INFO] GateNode: Alarm system initialized
2026-01-13 11:03:22,427 [INFO] GateNode: Initializing worker threads...
2026-01-13 11:03:22,428 [INFO] GateNode: Recognition thread pool initialized (2 workers)
2026-01-13 11:03:22,429 [INFO] GateNode: Streaming disabled (MQTT/LiveKit not configured or unavailable)
2026-01-13 11:03:22,430 [INFO] GateNode: Worker threads initialized
2026-01-13 11:03:22,432 [INFO] threads.sync: Sync thread started
2026-01-13 11:03:22,432 [INFO] GateNode: Sync thread started
2026-01-13 11:03:22,432 [INFO] threads.sync: [INIT] HNSW database: 0 faces, version: 0
2026-01-13 11:03:22,434 [INFO] threads.sync: Syncing faces from https://gate-backend-production-3b50.up.railway.app/api/v1/faces/sync (current version: 0)
2026-01-13 11:03:22,435 [INFO] threads.ui_v2: UI thread starting in continuous mode
2026-01-13 11:03:22,435 [INFO] GateNode: UI thread started
2026-01-13 11:03:22,437 [INFO] GateNode: Gate Node started successfully
2026-01-13 11:03:22,442 [INFO] GateNode: Starting main vision loop...
2026-01-13 11:03:22,492 [INFO] threads.ui_v2: Display window created: 1280x720
2026-01-13 11:03:25,540 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-13T08:03:25.024295+00:00
2026-01-13 11:03:25,541 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-13 11:03:33,211 [INFO] GateNode: Track 1 marked UNKNOWN after 3 attempts
2026-01-13 11:03:33,980 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-13 11:03:33,981 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:03:37,330 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-13 11:03:38,581 [INFO] threads.ui_v2: UI thread stopped
2026-01-13 11:03:40,580 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-13 11:03:40,580 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:03:46,372 [INFO] GateNode: Track 2 marked UNKNOWN after 3 attempts
2026-01-13 11:03:47,041 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 2)
2026-01-13 11:03:47,042 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:03:50,552 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 2)
2026-01-13 11:03:51,217 [INFO] GateNode: Track 3 marked UNKNOWN after 3 attempts
2026-01-13 11:03:54,360 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 2)
2026-01-13 11:03:54,361 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:03:58,211 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 2)
2026-01-13 11:04:01,518 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 2)
2026-01-13 11:04:01,518 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:04:09,932 [INFO] GateNode: Track 4 marked UNKNOWN after 3 attempts
2026-01-13 11:04:15,582 [INFO] GateNode: Track 5 marked UNKNOWN after 3 attempts
2026-01-13 11:04:16,441 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 5)
2026-01-13 11:04:16,443 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:04:20,632 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 5)
2026-01-13 11:04:21,555 [INFO] GateNode: Track 6 marked UNKNOWN after 3 attempts
2026-01-13 11:04:22,743 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 6)
2026-01-13 11:04:22,744 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:04:24,582 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 5)
2026-01-13 11:04:26,099 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 6)
2026-01-13 11:04:27,942 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 5)
2026-01-13 11:04:27,943 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:04:29,242 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 6)
2026-01-13 11:04:31,718 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 5)
2026-01-13 11:04:33,091 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 6)
2026-01-13 11:04:33,092 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:04:35,071 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 5)
2026-01-13 11:04:36,301 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 6)
2026-01-13 11:04:38,856 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 5)
2026-01-13 11:04:38,857 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:04:40,200 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 6)
2026-01-13 11:04:44,249 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 6)
2026-01-13 11:04:44,250 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:04:47,579 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 6)
2026-01-13 11:04:48,382 [INFO] GateNode: Track 7 marked UNKNOWN after 3 attempts
2026-01-13 11:04:49,698 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 7)
2026-01-13 11:04:49,698 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:04:52,665 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 6)
2026-01-13 11:04:54,038 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 7)
2026-01-13 11:04:58,192 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 7)
2026-01-13 11:04:58,193 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:05:03,367 [INFO] GateNode: Track 8 marked UNKNOWN after 3 attempts
2026-01-13 11:05:04,096 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 8)
2026-01-13 11:05:04,097 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:05:04,954 [INFO] GateNode: Received signal 2
2026-01-13 11:05:04,954 [INFO] GateNode: Gate Node shutting down...
2026-01-13 11:05:04,955 [INFO] core.singletons: ONNXSessionManager initialized with providers: ['CPUExecutionProvider']
2026-01-13 11:05:04,956 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 11:05:04,956 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 11:05:04,957 [INFO] GateNode: Recognition executor shutdown
2026-01-13 11:05:04,958 [INFO] threads.sync: Sync thread stopped
2026-01-13 11:05:05,378 [INFO] threads.capture: Capture thread stopped
2026-01-13 11:05:05,383 [INFO] storage.logs: Access logger closed
2026-01-13 11:05:05,385 [INFO] GateNode: Gate Node stopped
2026-01-13 11:05:05,386 [INFO] GateNode: ==================================================
2026-01-13 11:05:05,388 [INFO] GateNode: Session Statistics:
2026-01-13 11:05:05,391 [INFO] GateNode:   Runtime: 102.9s
2026-01-13 11:05:05,392 [INFO] GateNode:   Frames processed (AI): 97
2026-01-13 11:05:05,394 [INFO] GateNode:   Average AI FPS: 0.9
2026-01-13 11:05:05,395 [INFO] GateNode:   Camera capture:
2026-01-13 11:05:05,396 [INFO] GateNode:     - Frames captured: 2835
2026-01-13 11:05:05,398 [INFO] GateNode:     - Capture FPS: 27.7
2026-01-13 11:05:05,399 [INFO] GateNode:     - Frames dropped (AI queue): 2736
2026-01-13 11:05:05,400 [INFO] GateNode:     - Frames dropped (stream): 2404
2026-01-13 11:05:05,401 [INFO] GateNode:   Detection optimization:
2026-01-13 11:05:05,402 [INFO] GateNode:     - Detections run: 96
2026-01-13 11:05:05,403 [INFO] GateNode:     - Detections skipped: 0
2026-01-13 11:05:05,404 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-13 11:05:05,405 [INFO] GateNode:   Unique tracks created: 8
2026-01-13 11:05:05,406 [INFO] GateNode:   Tracks confirmed: 8
2026-01-13 11:05:05,407 [INFO] GateNode:   Tracks recognized: 8
2026-01-13 11:05:05,408 [INFO] GateNode:   People counts:
2026-01-13 11:05:05,408 [INFO] GateNode:     - Authorized: 0
2026-01-13 11:05:05,410 [INFO] GateNode:     - Wanted: 0
2026-01-13 11:05:05,416 [INFO] GateNode:     - Unknown: 8
2026-01-13 11:05:05,418 [INFO] GateNode:   Gate opens: 0
2026-01-13 11:05:05,419 [INFO] GateNode:     - Authorized: 0
2026-01-13 11:05:05,421 [INFO] GateNode:     - Wanted: 0
2026-01-13 11:05:05,421 [INFO] GateNode:     - Rejected: 0
2026-01-13 11:05:05,424 [INFO] GateNode: ==================================================
2026-01-13 11:05:05,426 [INFO] GateNode: Gate Node shutting down...
2026-01-13 11:05:05,426 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 11:05:05,427 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 11:05:05,428 [INFO] GateNode: Recognition executor shutdown
2026-01-13 11:05:05,428 [INFO] storage.logs: Access logger closed
2026-01-13 11:05:05,429 [INFO] GateNode: Gate Node stopped
2026-01-13 11:05:05,430 [INFO] GateNode: ==================================================
2026-01-13 11:05:05,430 [INFO] GateNode: Session Statistics:
2026-01-13 11:05:05,432 [INFO] GateNode:   Runtime: 103.0s
2026-01-13 11:05:05,432 [INFO] GateNode:   Frames processed (AI): 97
2026-01-13 11:05:05,433 [INFO] GateNode:   Average AI FPS: 0.9
2026-01-13 11:05:05,434 [INFO] GateNode:   Camera capture:
2026-01-13 11:05:05,434 [INFO] GateNode:     - Frames captured: 2835
2026-01-13 11:05:05,435 [INFO] GateNode:     - Capture FPS: 27.7
2026-01-13 11:05:05,435 [INFO] GateNode:     - Frames dropped (AI queue): 2736
2026-01-13 11:05:05,436 [INFO] GateNode:     - Frames dropped (stream): 2404
2026-01-13 11:05:05,436 [INFO] GateNode:   Detection optimization:
2026-01-13 11:05:05,437 [INFO] GateNode:     - Detections run: 96
2026-01-13 11:05:05,438 [INFO] GateNode:     - Detections skipped: 0
2026-01-13 11:05:05,438 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-13 11:05:05,439 [INFO] GateNode:   Unique tracks created: 8
2026-01-13 11:05:05,439 [INFO] GateNode:   Tracks confirmed: 8
2026-01-13 11:05:05,440 [INFO] GateNode:   Tracks recognized: 8
2026-01-13 11:05:05,440 [INFO] GateNode:   People counts:
2026-01-13 11:05:05,442 [INFO] GateNode:     - Authorized: 0
2026-01-13 11:05:05,445 [INFO] GateNode:     - Wanted: 0
2026-01-13 11:05:05,447 [INFO] GateNode:     - Unknown: 8
2026-01-13 11:05:05,449 [INFO] GateNode:   Gate opens: 0
2026-01-13 11:05:05,449 [INFO] GateNode:     - Authorized: 0
2026-01-13 11:05:05,450 [INFO] GateNode:     - Wanted: 0
2026-01-13 11:05:05,451 [INFO] GateNode:     - Rejected: 0
2026-01-13 11:05:05,451 [INFO] GateNode: ==================================================
2026-01-13 11:11:38,460 [INFO] GateNode: ==================================================
2026-01-13 11:11:38,460 [INFO] GateNode: Gate Node starting: gate-001
2026-01-13 11:11:38,461 [INFO] GateNode: Organization: DKUT
2026-01-13 11:11:38,461 [INFO] GateNode: ==================================================
2026-01-13 11:11:38,462 [INFO] GateNode: Initializing storage...
2026-01-13 11:11:38,469 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-13 11:11:38,470 [INFO] GateNode: Storage initialized: 0 faces in database
2026-01-13 11:11:38,470 [INFO] GateNode: Initializing vision pipeline...
2026-01-13 11:11:38,826 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-13 11:11:38,827 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-13 11:11:42,212 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-13 11:11:42,213 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-13 11:11:42,213 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=1, max_age=30, max_emb_dist=1.0
2026-01-13 11:11:42,214 [INFO] GateNode: Vision pipeline initialized
2026-01-13 11:11:42,214 [INFO] GateNode: Initializing gate controller...
2026-01-13 11:11:42,215 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-13 11:11:42,215 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-13 11:11:42,215 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-13 11:11:42,216 [INFO] threads.capture: Capture thread starting...
2026-01-13 11:11:42,617 [INFO] threads.capture: Camera opened: 640x480 @ 30.0fps
2026-01-13 11:11:42,618 [INFO] threads.capture: Capture thread running at 30 FPS target
2026-01-13 11:11:42,620 [INFO] GateNode: Camera opened: 640x480 @ 30fps
2026-01-13 11:11:42,622 [INFO] core.alarm: AlarmSystem initialized for platform: windows
2026-01-13 11:11:42,623 [INFO] GateNode: Alarm system initialized
2026-01-13 11:11:42,627 [INFO] GateNode: Initializing worker threads...
2026-01-13 11:11:42,627 [INFO] GateNode: Recognition thread pool initialized (2 workers)
2026-01-13 11:11:42,628 [INFO] GateNode: Streaming disabled (MQTT/LiveKit not configured or unavailable)
2026-01-13 11:11:42,629 [INFO] GateNode: Worker threads initialized
2026-01-13 11:11:42,630 [INFO] threads.sync: Sync thread started
2026-01-13 11:11:42,630 [INFO] GateNode: Sync thread started
2026-01-13 11:11:42,631 [INFO] threads.sync: [INIT] HNSW database: 0 faces, version: 0
2026-01-13 11:11:42,633 [INFO] threads.ui_v2: UI thread starting in continuous mode
2026-01-13 11:11:42,634 [INFO] threads.sync: Syncing faces from https://gate-backend-production-3b50.up.railway.app/api/v1/faces/sync (current version: 0)
2026-01-13 11:11:42,634 [INFO] GateNode: UI thread started
2026-01-13 11:11:42,636 [INFO] GateNode: Gate Node started successfully
2026-01-13 11:11:42,636 [INFO] GateNode: Starting main vision loop...
2026-01-13 11:11:42,697 [INFO] threads.ui_v2: Display window created: 1280x720
2026-01-13 11:11:45,499 [INFO] threads.sync: API returned: 5 upserts, 0 deletes, version: 2026-01-13T08:11:44.554197+00:00
2026-01-13 11:11:45,542 [INFO] storage.face_db: Added face ad50e2cb-0c61-44aa-ab72-3056a3b309f5 (Meshack Ngari Muriithi) with status WANTED
2026-01-13 11:11:45,549 [INFO] storage.face_db: Added face 31aeff9d-bf39-4e74-b580-2ed7293c67ed (Meshack Ngari Muriithi) with status WANTED
2026-01-13 11:11:45,552 [INFO] storage.face_db: Added face ebc9dfa4-ffed-4620-8632-1022320f6cb5 (Meshack Ngari Muriithi) with status WANTED
2026-01-13 11:11:45,555 [INFO] storage.face_db: Added face 3859e9fb-3453-4bc5-856f-13212e37c171 (Meshack Ngari Muriithi) with status WANTED
2026-01-13 11:11:45,557 [INFO] storage.face_db: Added face 93c6599c-79a4-4509-bfc8-b14ae0441534 (Meshack Ngari Muriithi) with status WANTED
2026-01-13 11:11:45,558 [INFO] threads.sync: Added/updated 5/5 faces
2026-01-13 11:11:45,565 [INFO] threads.sync: [SYNC OK] 5 upserts, 0 deletes -> 5 faces in DB, version 2026-01-13T08:11:44.554197+00:00
2026-01-13 11:11:47,743 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 11:11:47,920 [INFO] storage.logs: Logged access event #1: WANTED -> WANTED
2026-01-13 11:11:47,920 [INFO] GateNode: Track 1 recognized: WANTED (Meshack Ngari Muriithi, conf=0.85)
2026-01-13 11:11:48,269 [INFO] threads.ui_v2: Alert shown: WANTED - Meshack Ngari Muriithi (track 1)
2026-01-13 11:11:48,269 [WARNING] core.alarm: ALARM TRIGGERED: WANTED (Meshack Ngari Muriithi)
2026-01-13 11:11:51,932 [INFO] threads.ui_v2: Alert shown: WANTED - Meshack Ngari Muriithi (track 1)
2026-01-13 11:11:54,748 [INFO] core.gate_control: Gate auto-closed
2026-01-13 11:11:55,488 [INFO] threads.ui_v2: Alert shown: WANTED - Meshack Ngari Muriithi (track 1)
2026-01-13 11:11:55,492 [WARNING] core.alarm: ALARM TRIGGERED: WANTED (Meshack Ngari Muriithi)
2026-01-13 11:11:58,798 [INFO] threads.ui_v2: Alert shown: WANTED - Meshack Ngari Muriithi (track 1)
2026-01-13 11:12:15,137 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 11:12:15,299 [INFO] storage.logs: Logged access event #2: WANTED -> WANTED
2026-01-13 11:12:15,301 [INFO] GateNode: Track 2 recognized: WANTED (Meshack Ngari Muriithi, conf=0.81)
2026-01-13 11:12:15,726 [INFO] threads.ui_v2: Alert shown: WANTED - Meshack Ngari Muriithi (track 2)
2026-01-13 11:12:15,727 [WARNING] core.alarm: ALARM TRIGGERED: WANTED (Meshack Ngari Muriithi)
2026-01-13 11:12:19,605 [INFO] threads.ui_v2: Alert shown: WANTED - Meshack Ngari Muriithi (track 2)
2026-01-13 11:12:22,150 [INFO] core.gate_control: Gate auto-closed
2026-01-13 11:12:23,932 [INFO] core.gate_control: Low confidence wanted match: ad50e2cb-0c61-44aa-ab72-3056a3b309f5 (0.69)
2026-01-13 11:12:23,943 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 11:12:24,168 [INFO] storage.logs: Logged access event #3: UNKNOWN -> UNKNOWN
2026-01-13 11:12:24,171 [INFO] GateNode: Track 3 recognized: UNKNOWN (Meshack Ngari Muriithi, conf=0.69)
2026-01-13 11:12:26,711 [INFO] core.gate_control: Gate EXTENDED (will close in 7.0s)
2026-01-13 11:12:26,901 [INFO] storage.logs: Logged access event #4: WANTED -> WANTED
2026-01-13 11:12:26,905 [INFO] GateNode: Track 4 recognized: WANTED (Meshack Ngari Muriithi, conf=0.71)
2026-01-13 11:12:27,409 [INFO] threads.ui_v2: Alert shown: WANTED - Meshack Ngari Muriithi (track 4)
2026-01-13 11:12:27,410 [WARNING] core.alarm: ALARM TRIGGERED: WANTED (Meshack Ngari Muriithi)
2026-01-13 11:12:31,120 [INFO] threads.ui_v2: Alert shown: WANTED - Meshack Ngari Muriithi (track 4)
2026-01-13 11:12:33,712 [INFO] core.gate_control: Gate auto-closed
2026-01-13 11:12:40,661 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 11:12:40,833 [INFO] storage.logs: Logged access event #5: WANTED -> WANTED
2026-01-13 11:12:40,834 [INFO] GateNode: Track 6 recognized: WANTED (Meshack Ngari Muriithi, conf=0.71)
2026-01-13 11:12:41,549 [INFO] threads.ui_v2: Alert shown: WANTED - Meshack Ngari Muriithi (track 6)
2026-01-13 11:12:41,550 [WARNING] core.alarm: ALARM TRIGGERED: WANTED (Meshack Ngari Muriithi)
2026-01-13 11:12:47,674 [INFO] core.gate_control: Gate auto-closed
2026-01-13 11:13:12,561 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 11:13:12,771 [INFO] storage.logs: Logged access event #6: WANTED -> WANTED
2026-01-13 11:13:12,777 [INFO] GateNode: Track 8 recognized: WANTED (Meshack Ngari Muriithi, conf=0.71)
2026-01-13 11:13:13,549 [INFO] threads.ui_v2: Alert shown: WANTED - Meshack Ngari Muriithi (track 8)
2026-01-13 11:13:13,550 [WARNING] core.alarm: ALARM TRIGGERED: WANTED (Meshack Ngari Muriithi)
2026-01-13 11:13:19,574 [INFO] core.gate_control: Gate auto-closed
2026-01-13 11:13:21,009 [INFO] GateNode: Track 9 marked UNKNOWN after 3 attempts
2026-01-13 11:13:21,769 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 9)
2026-01-13 11:13:21,769 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:13:25,987 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 9)
2026-01-13 11:13:34,799 [INFO] GateNode: Track 10 marked UNKNOWN after 3 attempts
2026-01-13 11:13:35,865 [INFO] GateNode: Track 11 marked UNKNOWN after 3 attempts
2026-01-13 11:13:37,263 [INFO] vision.tracker: Track 9: Appearance changed significantly (distance=0.93). Resetting for re-recognition.
2026-01-13 11:13:37,268 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 11)
2026-01-13 11:13:37,268 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:13:40,752 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 11)
2026-01-13 11:13:41,752 [INFO] GateNode: Track 9 marked UNKNOWN after 3 attempts
2026-01-13 11:13:43,736 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 9)
2026-01-13 11:13:43,737 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:13:45,747 [INFO] threads.sync: Syncing faces from https://gate-backend-production-3b50.up.railway.app/api/v1/faces/sync (current version: 2026-01-13T08:11:44.554197+00:00)
2026-01-13 11:13:47,159 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 9)
2026-01-13 11:13:47,161 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 11)
2026-01-13 11:13:48,318 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-13T08:13:48.051531+00:00
2026-01-13 11:13:48,320 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-13 11:13:51,504 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 9)
2026-01-13 11:13:51,506 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:13:55,796 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 9)
2026-01-13 11:14:01,968 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 9)
2026-01-13 11:14:01,969 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:14:06,277 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 9)
2026-01-13 11:14:10,509 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 9)
2026-01-13 11:14:10,510 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:14:11,614 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 11:14:11,795 [INFO] storage.logs: Logged access event #7: WANTED -> WANTED
2026-01-13 11:14:11,801 [INFO] GateNode: Track 14 recognized: WANTED (Meshack Ngari Muriithi, conf=0.82)
2026-01-13 11:14:12,488 [INFO] threads.ui_v2: Alert shown: WANTED - Meshack Ngari Muriithi (track 14)
2026-01-13 11:14:12,488 [WARNING] core.alarm: ALARM TRIGGERED: WANTED (Meshack Ngari Muriithi)
2026-01-13 11:14:15,979 [INFO] threads.ui_v2: Alert shown: WANTED - Meshack Ngari Muriithi (track 14)
2026-01-13 11:14:15,980 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 9)
2026-01-13 11:14:15,981 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:14:18,618 [INFO] core.gate_control: Gate auto-closed
2026-01-13 11:14:19,603 [INFO] threads.ui_v2: Alert shown: WANTED - Meshack Ngari Muriithi (track 14)
2026-01-13 11:14:19,615 [WARNING] core.alarm: ALARM TRIGGERED: WANTED (Meshack Ngari Muriithi)
2026-01-13 11:14:21,932 [INFO] GateNode: Track 15 marked UNKNOWN after 3 attempts
2026-01-13 11:14:26,031 [INFO] GateNode: Track 16 marked UNKNOWN after 3 attempts
2026-01-13 11:14:26,980 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 16)
2026-01-13 11:14:26,980 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:14:32,390 [INFO] GateNode: Track 17 marked UNKNOWN after 3 attempts
2026-01-13 11:14:33,254 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 17)
2026-01-13 11:14:33,254 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:14:33,306 [INFO] threads.ui_v2: UI thread stopped
2026-01-13 11:14:37,038 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 17)
2026-01-13 11:14:40,386 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 17)
2026-01-13 11:14:40,387 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:14:51,662 [INFO] GateNode: Track 18 marked UNKNOWN after 3 attempts
2026-01-13 11:14:52,007 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 18)
2026-01-13 11:14:52,008 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:14:59,163 [INFO] GateNode: Track 19 marked UNKNOWN after 3 attempts
2026-01-13 11:14:59,946 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 19)
2026-01-13 11:14:59,947 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:15:03,165 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 19)
2026-01-13 11:15:08,634 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 19)
2026-01-13 11:15:08,635 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:15:13,769 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 19)
2026-01-13 11:15:13,771 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:15:16,978 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 19)
2026-01-13 11:15:21,035 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 19)
2026-01-13 11:15:21,037 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:15:24,115 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 19)
2026-01-13 11:15:27,729 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 19)
2026-01-13 11:15:27,730 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:15:48,504 [INFO] threads.sync: Syncing faces from https://gate-backend-production-3b50.up.railway.app/api/v1/faces/sync (current version: 2026-01-13T08:11:44.554197+00:00)
2026-01-13 11:15:51,079 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-13T08:15:50.841267+00:00
2026-01-13 11:15:51,083 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-13 11:16:10,387 [INFO] GateNode: Track 20 marked UNKNOWN after 3 attempts
2026-01-13 11:16:11,162 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 20)
2026-01-13 11:16:11,163 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:16:14,381 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 20)
2026-01-13 11:16:24,934 [INFO] GateNode: Track 21 marked UNKNOWN after 3 attempts
2026-01-13 11:16:27,617 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 21)
2026-01-13 11:16:27,620 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:16:44,999 [INFO] GateNode: Track 22 marked UNKNOWN after 3 attempts
2026-01-13 11:16:45,790 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 22)
2026-01-13 11:16:45,791 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:16:49,995 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 22)
2026-01-13 11:16:53,791 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 22)
2026-01-13 11:16:53,793 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:16:57,768 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 22)
2026-01-13 11:17:01,454 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 22)
2026-01-13 11:17:01,455 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:17:05,333 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 22)
2026-01-13 11:17:09,291 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 22)
2026-01-13 11:17:09,292 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:17:13,498 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 22)
2026-01-13 11:17:17,361 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 22)
2026-01-13 11:17:17,362 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:17:21,202 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 22)
2026-01-13 11:17:25,321 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 22)
2026-01-13 11:17:25,322 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:17:28,976 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 22)
2026-01-13 11:17:36,889 [INFO] GateNode: Track 23 marked UNKNOWN after 3 attempts
2026-01-13 11:17:37,202 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 23)
2026-01-13 11:17:37,203 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:17:46,413 [INFO] GateNode: Track 24 marked UNKNOWN after 3 attempts
2026-01-13 11:17:46,699 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 24)
2026-01-13 11:17:46,700 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:17:51,314 [INFO] threads.sync: Syncing faces from https://gate-backend-production-3b50.up.railway.app/api/v1/faces/sync (current version: 2026-01-13T08:11:44.554197+00:00)
2026-01-13 11:17:54,192 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-13T08:17:53.951861+00:00
2026-01-13 11:17:54,199 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-13 11:17:56,131 [INFO] GateNode: Track 26 marked UNKNOWN after 3 attempts
2026-01-13 11:17:56,942 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 26)
2026-01-13 11:17:56,944 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:18:02,853 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 26)
2026-01-13 11:18:02,853 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:18:22,520 [INFO] GateNode: Track 27 marked UNKNOWN after 3 attempts
2026-01-13 11:18:22,986 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 27)
2026-01-13 11:18:22,988 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:18:26,188 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 27)
2026-01-13 11:19:29,279 [INFO] GateNode: Track 28 marked UNKNOWN after 3 attempts
2026-01-13 11:19:30,071 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 28)
2026-01-13 11:19:30,072 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:19:34,151 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 28)
2026-01-13 11:19:38,330 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 28)
2026-01-13 11:19:38,331 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:19:41,790 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 28)
2026-01-13 11:19:44,792 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 28)
2026-01-13 11:19:44,792 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:19:52,797 [INFO] GateNode: Track 29 marked UNKNOWN after 3 attempts
2026-01-13 11:19:53,078 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 29)
2026-01-13 11:19:53,079 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:19:54,488 [INFO] threads.sync: Syncing faces from https://gate-backend-production-3b50.up.railway.app/api/v1/faces/sync (current version: 2026-01-13T08:11:44.554197+00:00)
2026-01-13 11:19:57,776 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-13T08:19:57.395797+00:00
2026-01-13 11:19:57,790 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-13 11:20:08,702 [INFO] GateNode: Track 30 marked UNKNOWN after 3 attempts
2026-01-13 11:20:09,541 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 30)
2026-01-13 11:20:09,542 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:20:12,576 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 30)
2026-01-13 11:20:16,551 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 30)
2026-01-13 11:20:16,552 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:20:20,838 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 30)
2026-01-13 11:20:24,207 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 30)
2026-01-13 11:20:24,208 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:20:32,689 [INFO] GateNode: Track 32 marked UNKNOWN after 3 attempts
2026-01-13 11:20:33,494 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 32)
2026-01-13 11:20:33,495 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:20:36,691 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 32)
2026-01-13 11:20:51,106 [INFO] GateNode: Track 33 marked UNKNOWN after 3 attempts
2026-01-13 11:20:51,916 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 33)
2026-01-13 11:20:51,920 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:20:55,230 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 33)
2026-01-13 11:20:58,681 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 33)
2026-01-13 11:20:58,682 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:21:18,628 [INFO] GateNode: Track 34 marked UNKNOWN after 3 attempts
2026-01-13 11:21:18,893 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 34)
2026-01-13 11:21:18,895 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:21:50,501 [INFO] GateNode: Track 35 marked UNKNOWN after 3 attempts
2026-01-13 11:21:51,629 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 35)
2026-01-13 11:21:51,629 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:21:55,929 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 35)
2026-01-13 11:21:58,018 [INFO] threads.sync: Syncing faces from https://gate-backend-production-3b50.up.railway.app/api/v1/faces/sync (current version: 2026-01-13T08:11:44.554197+00:00)
2026-01-13 11:22:00,128 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 35)
2026-01-13 11:22:00,129 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:22:01,559 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-13T08:22:01.215545+00:00
2026-01-13 11:22:01,562 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-13 11:22:04,403 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 35)
2026-01-13 11:22:16,495 [INFO] GateNode: Track 36 marked UNKNOWN after 3 attempts
2026-01-13 11:22:17,478 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 36)
2026-01-13 11:22:17,479 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:22:20,836 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 36)
2026-01-13 11:22:24,062 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 36)
2026-01-13 11:22:24,062 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:22:27,366 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 36)
2026-01-13 11:24:01,772 [INFO] threads.sync: Syncing faces from https://gate-backend-production-3b50.up.railway.app/api/v1/faces/sync (current version: 2026-01-13T08:11:44.554197+00:00)
2026-01-13 11:24:06,543 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-13T08:24:06.134668+00:00
2026-01-13 11:24:06,544 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-13 11:24:46,631 [INFO] GateNode: Track 37 marked UNKNOWN after 3 attempts
2026-01-13 11:24:47,052 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 37)
2026-01-13 11:24:47,053 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:25:14,326 [INFO] GateNode: Track 38 marked UNKNOWN after 3 attempts
2026-01-13 11:25:20,822 [INFO] GateNode: Received signal 2
2026-01-13 11:25:20,823 [INFO] GateNode: Gate Node shutting down...
2026-01-13 11:25:20,824 [INFO] core.singletons: ONNXSessionManager initialized with providers: ['CPUExecutionProvider']
2026-01-13 11:25:20,824 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 11:25:20,825 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 11:25:20,825 [INFO] GateNode: Recognition executor shutdown
2026-01-13 11:25:20,826 [INFO] threads.sync: Sync thread stopped
2026-01-13 11:25:21,267 [INFO] threads.capture: Capture thread stopped
2026-01-13 11:25:21,271 [INFO] storage.logs: Access logger closed
2026-01-13 11:25:21,277 [INFO] GateNode: Gate Node stopped
2026-01-13 11:25:21,283 [INFO] GateNode: ==================================================
2026-01-13 11:25:21,285 [INFO] GateNode: Session Statistics:
2026-01-13 11:25:21,288 [INFO] GateNode:   Runtime: 818.6s
2026-01-13 11:25:21,289 [INFO] GateNode:   Frames processed (AI): 861
2026-01-13 11:25:21,291 [INFO] GateNode:   Average AI FPS: 1.1
2026-01-13 11:25:21,291 [INFO] GateNode:   Camera capture:
2026-01-13 11:25:21,293 [INFO] GateNode:     - Frames captured: 22889
2026-01-13 11:25:21,294 [INFO] GateNode:     - Capture FPS: 28.9
2026-01-13 11:25:21,295 [INFO] GateNode:     - Frames dropped (AI queue): 22026
2026-01-13 11:25:21,295 [INFO] GateNode:     - Frames dropped (stream): 18136
2026-01-13 11:25:21,296 [INFO] GateNode:   Detection optimization:
2026-01-13 11:25:21,297 [INFO] GateNode:     - Detections run: 860
2026-01-13 11:25:21,298 [INFO] GateNode:     - Detections skipped: 0
2026-01-13 11:25:21,298 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-13 11:25:21,300 [INFO] GateNode:   Unique tracks created: 38
2026-01-13 11:25:21,300 [INFO] GateNode:   Tracks confirmed: 32
2026-01-13 11:25:21,301 [INFO] GateNode:   Tracks recognized: 33
2026-01-13 11:25:21,302 [INFO] GateNode:   People counts:
2026-01-13 11:25:21,303 [INFO] GateNode:     - Authorized: 0
2026-01-13 11:25:21,305 [INFO] GateNode:     - Wanted: 6
2026-01-13 11:25:21,306 [INFO] GateNode:     - Unknown: 27
2026-01-13 11:25:21,307 [INFO] GateNode:   Gate opens: 7
2026-01-13 11:25:21,308 [INFO] GateNode:     - Authorized: 0
2026-01-13 11:25:21,311 [INFO] GateNode:     - Wanted: 6
2026-01-13 11:25:21,313 [INFO] GateNode:     - Rejected: 0
2026-01-13 11:25:21,314 [INFO] GateNode: ==================================================
2026-01-13 11:25:21,315 [INFO] GateNode: Gate Node shutting down...
2026-01-13 11:25:21,316 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 11:25:21,318 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 11:25:21,318 [INFO] GateNode: Recognition executor shutdown
2026-01-13 11:25:21,318 [INFO] storage.logs: Access logger closed
2026-01-13 11:25:21,320 [INFO] GateNode: Gate Node stopped
2026-01-13 11:25:21,320 [INFO] GateNode: ==================================================
2026-01-13 11:25:21,322 [INFO] GateNode: Session Statistics:
2026-01-13 11:25:21,323 [INFO] GateNode:   Runtime: 818.7s
2026-01-13 11:25:21,325 [INFO] GateNode:   Frames processed (AI): 861
2026-01-13 11:25:21,325 [INFO] GateNode:   Average AI FPS: 1.1
2026-01-13 11:25:21,325 [INFO] GateNode:   Camera capture:
2026-01-13 11:25:21,326 [INFO] GateNode:     - Frames captured: 22889
2026-01-13 11:25:21,326 [INFO] GateNode:     - Capture FPS: 28.9
2026-01-13 11:25:21,327 [INFO] GateNode:     - Frames dropped (AI queue): 22026
2026-01-13 11:25:21,327 [INFO] GateNode:     - Frames dropped (stream): 18136
2026-01-13 11:25:21,328 [INFO] GateNode:   Detection optimization:
2026-01-13 11:25:21,330 [INFO] GateNode:     - Detections run: 860
2026-01-13 11:25:21,330 [INFO] GateNode:     - Detections skipped: 0
2026-01-13 11:25:21,330 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-13 11:25:21,330 [INFO] GateNode:   Unique tracks created: 38
2026-01-13 11:25:21,331 [INFO] GateNode:   Tracks confirmed: 32
2026-01-13 11:25:21,331 [INFO] GateNode:   Tracks recognized: 33
2026-01-13 11:25:21,331 [INFO] GateNode:   People counts:
2026-01-13 11:25:21,332 [INFO] GateNode:     - Authorized: 0
2026-01-13 11:25:21,332 [INFO] GateNode:     - Wanted: 6
2026-01-13 11:25:21,332 [INFO] GateNode:     - Unknown: 27
2026-01-13 11:25:21,333 [INFO] GateNode:   Gate opens: 7
2026-01-13 11:25:21,333 [INFO] GateNode:     - Authorized: 0
2026-01-13 11:25:21,334 [INFO] GateNode:     - Wanted: 6
2026-01-13 11:25:21,334 [INFO] GateNode:     - Rejected: 0
2026-01-13 11:25:21,335 [INFO] GateNode: ==================================================
2026-01-13 11:25:31,756 [INFO] GateNode: ==================================================
2026-01-13 11:25:31,757 [INFO] GateNode: Gate Node starting: gate-001
2026-01-13 11:25:31,758 [INFO] GateNode: Organization: DKUT
2026-01-13 11:25:31,758 [INFO] GateNode: ==================================================
2026-01-13 11:25:31,759 [INFO] GateNode: Initializing storage...
2026-01-13 11:25:31,763 [INFO] storage.face_db: Loaded 5 face records from metadata
2026-01-13 11:25:31,770 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-13 11:25:31,771 [INFO] storage.face_db: Current sync version: 2026-01-13T08:11:44.554197+00:00
2026-01-13 11:25:31,774 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-13 11:25:31,775 [INFO] GateNode: Storage initialized: 5 faces in database
2026-01-13 11:25:31,775 [INFO] GateNode: Initializing vision pipeline...
2026-01-13 11:25:32,097 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-13 11:25:32,097 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-13 11:25:35,393 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-13 11:25:35,402 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-13 11:25:35,417 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=1, max_age=30, max_emb_dist=1.0
2026-01-13 11:25:35,418 [INFO] GateNode: Vision pipeline initialized
2026-01-13 11:25:35,419 [INFO] GateNode: Initializing gate controller...
2026-01-13 11:25:35,420 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-13 11:25:35,426 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-13 11:25:35,429 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-13 11:25:35,435 [INFO] threads.capture: Capture thread starting...
2026-01-13 11:25:35,903 [INFO] threads.capture: Camera opened: 640x480 @ 30.0fps
2026-01-13 11:25:35,904 [INFO] threads.capture: Capture thread running at 30 FPS target
2026-01-13 11:25:35,941 [INFO] GateNode: Camera opened: 640x480 @ 30fps
2026-01-13 11:25:35,944 [INFO] core.alarm: AlarmSystem initialized for platform: windows
2026-01-13 11:25:35,944 [INFO] GateNode: Alarm system initialized
2026-01-13 11:25:35,945 [INFO] GateNode: Initializing worker threads...
2026-01-13 11:25:35,945 [INFO] GateNode: Recognition thread pool initialized (2 workers)
2026-01-13 11:25:35,946 [INFO] GateNode: Streaming disabled (MQTT/LiveKit not configured or unavailable)
2026-01-13 11:25:35,946 [INFO] GateNode: Worker threads initialized
2026-01-13 11:25:35,948 [INFO] threads.sync: Sync thread started
2026-01-13 11:25:35,948 [INFO] GateNode: Sync thread started
2026-01-13 11:25:35,948 [INFO] threads.sync: [INIT] HNSW database: 5 faces, version: 2026-01-13T08:11:44.554197+00:00
2026-01-13 11:25:35,951 [INFO] threads.sync: Syncing faces from https://gate-backend-production-3b50.up.railway.app/api/v1/faces/sync (current version: 2026-01-13T08:11:44.554197+00:00)
2026-01-13 11:25:35,955 [INFO] threads.ui_v2: UI thread starting in continuous mode
2026-01-13 11:25:35,957 [INFO] GateNode: UI thread started
2026-01-13 11:25:35,990 [INFO] GateNode: Gate Node started successfully
2026-01-13 11:25:36,008 [INFO] GateNode: Starting main vision loop...
2026-01-13 11:25:36,054 [INFO] threads.ui_v2: Display window created: 1280x720
2026-01-13 11:25:38,682 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-13T08:25:38.328272+00:00
2026-01-13 11:25:38,717 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-13 11:25:42,266 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 11:25:42,857 [INFO] storage.logs: Logged access event #8: WANTED -> WANTED
2026-01-13 11:25:42,932 [INFO] GateNode: Track 2 recognized: WANTED (Meshack Ngari Muriithi, conf=0.80)
2026-01-13 11:25:44,003 [INFO] threads.ui_v2: Alert shown: WANTED - Meshack Ngari Muriithi (track 2)
2026-01-13 11:25:44,048 [WARNING] core.alarm: ALARM TRIGGERED: WANTED (Meshack Ngari Muriithi)
2026-01-13 11:25:45,037 [INFO] GateNode: Track 1 marked UNKNOWN after 3 attempts
2026-01-13 11:25:48,749 [INFO] threads.ui_v2: Alert shown: WANTED - Meshack Ngari Muriithi (track 2)
2026-01-13 11:25:49,280 [INFO] core.gate_control: Gate auto-closed
2026-01-13 11:25:52,575 [INFO] threads.ui_v2: Alert shown: WANTED - Meshack Ngari Muriithi (track 2)
2026-01-13 11:25:52,578 [WARNING] core.alarm: ALARM TRIGGERED: WANTED (Meshack Ngari Muriithi)
2026-01-13 11:25:56,758 [INFO] threads.ui_v2: Alert shown: WANTED - Meshack Ngari Muriithi (track 2)
2026-01-13 11:26:00,125 [INFO] threads.ui_v2: Alert shown: WANTED - Meshack Ngari Muriithi (track 2)
2026-01-13 11:26:00,125 [WARNING] core.alarm: ALARM TRIGGERED: WANTED (Meshack Ngari Muriithi)
2026-01-13 11:26:03,533 [INFO] threads.ui_v2: Alert shown: WANTED - Meshack Ngari Muriithi (track 2)
2026-01-13 11:26:09,504 [INFO] GateNode: Track 3 marked UNKNOWN after 3 attempts
2026-01-13 11:26:10,436 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-13 11:26:10,438 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:26:13,719 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-13 11:26:16,966 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-13 11:26:16,966 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:26:17,383 [INFO] threads.ui_v2: UI thread stopped
2026-01-13 11:26:20,937 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-13 11:26:24,417 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-13 11:26:24,418 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:26:30,052 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-13 11:26:30,053 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:26:33,160 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-13 11:26:37,241 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-13 11:26:37,242 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:26:41,292 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-13 11:26:44,481 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-13 11:26:44,481 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:26:48,717 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-13 11:26:52,016 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-13 11:26:52,017 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:26:56,134 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-13 11:26:59,148 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-13 11:26:59,148 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:27:02,597 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-13 11:27:39,029 [INFO] threads.sync: Syncing faces from https://gate-backend-production-3b50.up.railway.app/api/v1/faces/sync (current version: 2026-01-13T08:11:44.554197+00:00)
2026-01-13 11:27:41,595 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-13T08:27:41.344565+00:00
2026-01-13 11:27:41,596 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-13 11:27:53,009 [INFO] GateNode: Track 4 marked UNKNOWN after 3 attempts
2026-01-13 11:27:53,762 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-13 11:27:53,763 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:27:57,309 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-13 11:28:01,362 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-13 11:28:01,362 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:28:05,546 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-13 11:28:09,568 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-13 11:28:09,569 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:28:13,571 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-13 11:28:17,449 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-13 11:28:17,450 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:28:21,429 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-13 11:28:25,467 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-13 11:28:25,468 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:28:29,495 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-13 11:28:32,595 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-13 11:28:32,596 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:28:36,847 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-13 11:28:40,969 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-13 11:28:40,970 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:28:44,955 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-13 11:28:48,852 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-13 11:28:48,853 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:28:52,947 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-13 11:28:56,631 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-13 11:28:56,631 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:29:00,551 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-13 11:29:04,620 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-13 11:29:04,620 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:29:09,017 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-13 11:29:13,359 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-13 11:29:13,359 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:29:14,929 [INFO] GateNode: Received signal 2
2026-01-13 11:29:14,929 [INFO] GateNode: Gate Node shutting down...
2026-01-13 11:29:14,929 [INFO] core.singletons: ONNXSessionManager initialized with providers: ['CPUExecutionProvider']
2026-01-13 11:29:14,931 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 11:29:14,932 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 11:29:14,932 [INFO] GateNode: Recognition executor shutdown
2026-01-13 11:29:14,933 [INFO] threads.sync: Sync thread stopped
2026-01-13 11:29:15,389 [INFO] threads.capture: Capture thread stopped
2026-01-13 11:29:15,394 [INFO] storage.logs: Access logger closed
2026-01-13 11:29:15,399 [INFO] GateNode: Gate Node stopped
2026-01-13 11:29:15,403 [INFO] GateNode: ==================================================
2026-01-13 11:29:15,405 [INFO] GateNode: Session Statistics:
2026-01-13 11:29:15,406 [INFO] GateNode:   Runtime: 219.4s
2026-01-13 11:29:15,407 [INFO] GateNode:   Frames processed (AI): 172
2026-01-13 11:29:15,409 [INFO] GateNode:   Average AI FPS: 0.8
2026-01-13 11:29:15,411 [INFO] GateNode:   Camera capture:
2026-01-13 11:29:15,412 [INFO] GateNode:     - Frames captured: 6136
2026-01-13 11:29:15,413 [INFO] GateNode:     - Capture FPS: 26.3
2026-01-13 11:29:15,414 [INFO] GateNode:     - Frames dropped (AI queue): 5962
2026-01-13 11:29:15,415 [INFO] GateNode:     - Frames dropped (stream): 5206
2026-01-13 11:29:15,416 [INFO] GateNode:   Detection optimization:
2026-01-13 11:29:15,417 [INFO] GateNode:     - Detections run: 171
2026-01-13 11:29:15,417 [INFO] GateNode:     - Detections skipped: 0
2026-01-13 11:29:15,418 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-13 11:29:15,421 [INFO] GateNode:   Unique tracks created: 4
2026-01-13 11:29:15,421 [INFO] GateNode:   Tracks confirmed: 4
2026-01-13 11:29:15,422 [INFO] GateNode:   Tracks recognized: 4
2026-01-13 11:29:15,423 [INFO] GateNode:   People counts:
2026-01-13 11:29:15,427 [INFO] GateNode:     - Authorized: 0
2026-01-13 11:29:15,432 [INFO] GateNode:     - Wanted: 1
2026-01-13 11:29:15,434 [INFO] GateNode:     - Unknown: 3
2026-01-13 11:29:15,435 [INFO] GateNode:   Gate opens: 1
2026-01-13 11:29:15,436 [INFO] GateNode:     - Authorized: 0
2026-01-13 11:29:15,437 [INFO] GateNode:     - Wanted: 1
2026-01-13 11:29:15,438 [INFO] GateNode:     - Rejected: 0
2026-01-13 11:29:15,438 [INFO] GateNode: ==================================================
2026-01-13 11:29:15,439 [INFO] GateNode: Gate Node shutting down...
2026-01-13 11:29:15,439 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 11:29:15,440 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 11:29:15,441 [INFO] GateNode: Recognition executor shutdown
2026-01-13 11:29:15,442 [INFO] storage.logs: Access logger closed
2026-01-13 11:29:15,443 [INFO] GateNode: Gate Node stopped
2026-01-13 11:29:15,443 [INFO] GateNode: ==================================================
2026-01-13 11:29:15,444 [INFO] GateNode: Session Statistics:
2026-01-13 11:29:15,444 [INFO] GateNode:   Runtime: 219.5s
2026-01-13 11:29:15,446 [INFO] GateNode:   Frames processed (AI): 172
2026-01-13 11:29:15,447 [INFO] GateNode:   Average AI FPS: 0.8
2026-01-13 11:29:15,448 [INFO] GateNode:   Camera capture:
2026-01-13 11:29:15,448 [INFO] GateNode:     - Frames captured: 6136
2026-01-13 11:29:15,449 [INFO] GateNode:     - Capture FPS: 26.3
2026-01-13 11:29:15,449 [INFO] GateNode:     - Frames dropped (AI queue): 5962
2026-01-13 11:29:15,450 [INFO] GateNode:     - Frames dropped (stream): 5206
2026-01-13 11:29:15,450 [INFO] GateNode:   Detection optimization:
2026-01-13 11:29:15,451 [INFO] GateNode:     - Detections run: 171
2026-01-13 11:29:15,451 [INFO] GateNode:     - Detections skipped: 0
2026-01-13 11:29:15,451 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-13 11:29:15,452 [INFO] GateNode:   Unique tracks created: 4
2026-01-13 11:29:15,452 [INFO] GateNode:   Tracks confirmed: 4
2026-01-13 11:29:15,453 [INFO] GateNode:   Tracks recognized: 4
2026-01-13 11:29:15,453 [INFO] GateNode:   People counts:
2026-01-13 11:29:15,454 [INFO] GateNode:     - Authorized: 0
2026-01-13 11:29:15,454 [INFO] GateNode:     - Wanted: 1
2026-01-13 11:29:15,454 [INFO] GateNode:     - Unknown: 3
2026-01-13 11:29:15,455 [INFO] GateNode:   Gate opens: 1
2026-01-13 11:29:15,455 [INFO] GateNode:     - Authorized: 0
2026-01-13 11:29:15,456 [INFO] GateNode:     - Wanted: 1
2026-01-13 11:29:15,456 [INFO] GateNode:     - Rejected: 0
2026-01-13 11:29:15,456 [INFO] GateNode: ==================================================
2026-01-13 11:33:08,341 [INFO] GateNode: ==================================================
2026-01-13 11:33:08,342 [INFO] GateNode: Gate Node starting: gate-001
2026-01-13 11:33:08,342 [INFO] GateNode: Organization: DKUT
2026-01-13 11:33:08,342 [INFO] GateNode: ==================================================
2026-01-13 11:33:08,343 [INFO] GateNode: Initializing storage...
2026-01-13 11:33:08,347 [INFO] storage.face_db: Loaded 5 face records from metadata
2026-01-13 11:33:08,351 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-13 11:33:08,356 [INFO] storage.face_db: Current sync version: 2026-01-13T08:11:44.554197+00:00
2026-01-13 11:33:08,365 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-13 11:33:08,367 [INFO] GateNode: Storage initialized: 5 faces in database
2026-01-13 11:33:08,370 [INFO] GateNode: Initializing vision pipeline...
2026-01-13 11:33:08,745 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-13 11:33:08,745 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-13 11:33:12,547 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-13 11:33:12,584 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-13 11:33:12,628 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=1, max_age=30, max_emb_dist=1.0
2026-01-13 11:33:12,656 [INFO] GateNode: Vision pipeline initialized
2026-01-13 11:33:12,683 [INFO] GateNode: Initializing gate controller...
2026-01-13 11:33:12,707 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-13 11:33:12,744 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-13 11:33:12,808 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-13 11:33:12,894 [INFO] threads.capture: Capture thread starting...
2026-01-13 11:33:13,591 [INFO] threads.capture: Camera opened: 640x480 @ 30.0fps
2026-01-13 11:33:13,592 [INFO] threads.capture: Capture thread running at 30 FPS target
2026-01-13 11:33:13,612 [INFO] GateNode: Camera opened: 640x480 @ 30fps
2026-01-13 11:33:13,616 [INFO] core.alarm: AlarmSystem initialized for platform: windows
2026-01-13 11:33:13,618 [INFO] GateNode: Alarm system initialized
2026-01-13 11:33:13,620 [INFO] GateNode: Initializing worker threads...
2026-01-13 11:33:13,621 [INFO] GateNode: Recognition thread pool initialized (2 workers)
2026-01-13 11:33:13,622 [INFO] GateNode: Streaming disabled (MQTT/LiveKit not configured or unavailable)
2026-01-13 11:33:13,630 [INFO] GateNode: Worker threads initialized
2026-01-13 11:33:13,633 [INFO] threads.sync: Sync thread started
2026-01-13 11:33:13,633 [INFO] GateNode: Sync thread started
2026-01-13 11:33:13,634 [INFO] threads.sync: [INIT] HNSW database: 5 faces, version: 2026-01-13T08:11:44.554197+00:00
2026-01-13 11:33:13,640 [INFO] threads.sync: Syncing faces from https://gate-backend-production-3b50.up.railway.app/api/v1/faces/sync (current version: 2026-01-13T08:11:44.554197+00:00)
2026-01-13 11:33:13,642 [INFO] threads.ui_v2: UI thread starting in continuous mode
2026-01-13 11:33:13,642 [INFO] GateNode: UI thread started
2026-01-13 11:33:13,715 [INFO] GateNode: Gate Node started successfully
2026-01-13 11:33:13,778 [INFO] GateNode: Starting main vision loop...
2026-01-13 11:33:13,865 [INFO] threads.ui_v2: Display window created: 1280x720
2026-01-13 11:33:17,614 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-13T08:33:16.813155+00:00
2026-01-13 11:33:17,768 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-13 11:33:20,287 [INFO] GateNode: Track 1 marked UNKNOWN after 3 attempts
2026-01-13 11:33:23,566 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 11:33:23,809 [INFO] storage.logs: Logged access event #9: WANTED -> WANTED
2026-01-13 11:33:23,924 [INFO] GateNode: Track 3 recognized: WANTED (Meshack Ngari Muriithi, conf=0.88)
2026-01-13 11:33:24,983 [INFO] threads.ui_v2: Alert shown: WANTED - Meshack Ngari Muriithi (track 3)
2026-01-13 11:33:24,984 [WARNING] core.alarm: ALARM TRIGGERED: WANTED (Meshack Ngari Muriithi)
2026-01-13 11:33:29,355 [INFO] threads.ui_v2: Alert shown: WANTED - Meshack Ngari Muriithi (track 3)
2026-01-13 11:33:30,565 [INFO] core.gate_control: Gate auto-closed
2026-01-13 11:33:34,435 [INFO] GateNode: Received signal 2
2026-01-13 11:33:34,437 [INFO] GateNode: Gate Node shutting down...
2026-01-13 11:33:34,438 [INFO] core.singletons: ONNXSessionManager initialized with providers: ['CPUExecutionProvider']
2026-01-13 11:33:34,439 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 11:33:34,439 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 11:33:34,440 [INFO] GateNode: Recognition executor shutdown
2026-01-13 11:33:34,441 [INFO] threads.sync: Sync thread stopped
2026-01-13 11:33:34,469 [INFO] threads.ui_v2: UI thread stopped
2026-01-13 11:33:34,942 [INFO] threads.capture: Capture thread stopped
2026-01-13 11:33:34,945 [INFO] storage.logs: Access logger closed
2026-01-13 11:33:34,947 [INFO] GateNode: Gate Node stopped
2026-01-13 11:33:34,949 [INFO] GateNode: ==================================================
2026-01-13 11:33:34,953 [INFO] GateNode: Session Statistics:
2026-01-13 11:33:34,954 [INFO] GateNode:   Runtime: 21.2s
2026-01-13 11:33:34,955 [INFO] GateNode:   Frames processed (AI): 14
2026-01-13 11:33:34,956 [INFO] GateNode:   Average AI FPS: 0.7
2026-01-13 11:33:34,958 [INFO] GateNode:   Camera capture:
2026-01-13 11:33:34,960 [INFO] GateNode:     - Frames captured: 535
2026-01-13 11:33:34,962 [INFO] GateNode:     - Capture FPS: 28.8
2026-01-13 11:33:34,963 [INFO] GateNode:     - Frames dropped (AI queue): 519
2026-01-13 11:33:34,964 [INFO] GateNode:     - Frames dropped (stream): 65
2026-01-13 11:33:34,968 [INFO] GateNode:   Detection optimization:
2026-01-13 11:33:34,969 [INFO] GateNode:     - Detections run: 13
2026-01-13 11:33:34,971 [INFO] GateNode:     - Detections skipped: 0
2026-01-13 11:33:34,972 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-13 11:33:34,973 [INFO] GateNode:   Unique tracks created: 4
2026-01-13 11:33:34,974 [INFO] GateNode:   Tracks confirmed: 2
2026-01-13 11:33:34,974 [INFO] GateNode:   Tracks recognized: 2
2026-01-13 11:33:34,975 [INFO] GateNode:   People counts:
2026-01-13 11:33:34,977 [INFO] GateNode:     - Authorized: 0
2026-01-13 11:33:34,986 [INFO] GateNode:     - Wanted: 1
2026-01-13 11:33:34,986 [INFO] GateNode:     - Unknown: 1
2026-01-13 11:33:34,986 [INFO] GateNode:   Gate opens: 1
2026-01-13 11:33:34,987 [INFO] GateNode:     - Authorized: 0
2026-01-13 11:33:34,987 [INFO] GateNode:     - Wanted: 1
2026-01-13 11:33:34,987 [INFO] GateNode:     - Rejected: 0
2026-01-13 11:33:34,988 [INFO] GateNode: ==================================================
2026-01-13 11:33:34,988 [INFO] GateNode: Gate Node shutting down...
2026-01-13 11:33:34,989 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 11:33:34,989 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 11:33:34,989 [INFO] GateNode: Recognition executor shutdown
2026-01-13 11:33:34,990 [INFO] storage.logs: Access logger closed
2026-01-13 11:33:34,990 [INFO] GateNode: Gate Node stopped
2026-01-13 11:33:34,990 [INFO] GateNode: ==================================================
2026-01-13 11:33:34,991 [INFO] GateNode: Session Statistics:
2026-01-13 11:33:34,991 [INFO] GateNode:   Runtime: 21.3s
2026-01-13 11:33:34,992 [INFO] GateNode:   Frames processed (AI): 14
2026-01-13 11:33:34,992 [INFO] GateNode:   Average AI FPS: 0.7
2026-01-13 11:33:34,993 [INFO] GateNode:   Camera capture:
2026-01-13 11:33:34,993 [INFO] GateNode:     - Frames captured: 535
2026-01-13 11:33:34,993 [INFO] GateNode:     - Capture FPS: 28.8
2026-01-13 11:33:34,993 [INFO] GateNode:     - Frames dropped (AI queue): 519
2026-01-13 11:33:34,994 [INFO] GateNode:     - Frames dropped (stream): 65
2026-01-13 11:33:34,994 [INFO] GateNode:   Detection optimization:
2026-01-13 11:33:34,994 [INFO] GateNode:     - Detections run: 13
2026-01-13 11:33:34,995 [INFO] GateNode:     - Detections skipped: 0
2026-01-13 11:33:34,995 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-13 11:33:34,995 [INFO] GateNode:   Unique tracks created: 4
2026-01-13 11:33:34,996 [INFO] GateNode:   Tracks confirmed: 2
2026-01-13 11:33:34,996 [INFO] GateNode:   Tracks recognized: 2
2026-01-13 11:33:34,997 [INFO] GateNode:   People counts:
2026-01-13 11:33:34,997 [INFO] GateNode:     - Authorized: 0
2026-01-13 11:33:34,998 [INFO] GateNode:     - Wanted: 1
2026-01-13 11:33:34,998 [INFO] GateNode:     - Unknown: 1
2026-01-13 11:33:34,998 [INFO] GateNode:   Gate opens: 1
2026-01-13 11:33:34,999 [INFO] GateNode:     - Authorized: 0
2026-01-13 11:33:34,999 [INFO] GateNode:     - Wanted: 1
2026-01-13 11:33:34,999 [INFO] GateNode:     - Rejected: 0
2026-01-13 11:33:35,000 [INFO] GateNode: ==================================================
2026-01-13 11:36:28,021 [INFO] GateNode: ==================================================
2026-01-13 11:36:28,021 [INFO] GateNode: Gate Node starting: gate-001
2026-01-13 11:36:28,022 [INFO] GateNode: Organization: DKUT
2026-01-13 11:36:28,022 [INFO] GateNode: ==================================================
2026-01-13 11:36:28,022 [INFO] GateNode: Initializing storage...
2026-01-13 11:36:28,026 [INFO] storage.face_db: Loaded 5 face records from metadata
2026-01-13 11:36:28,029 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-13 11:36:28,030 [INFO] storage.face_db: Current sync version: 2026-01-13T08:11:44.554197+00:00
2026-01-13 11:36:28,034 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-13 11:36:28,034 [INFO] GateNode: Storage initialized: 5 faces in database
2026-01-13 11:36:28,034 [INFO] GateNode: Initializing vision pipeline...
2026-01-13 11:36:28,401 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-13 11:36:28,402 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-13 11:36:31,486 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-13 11:36:31,487 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-13 11:36:31,487 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=1, max_age=30, max_emb_dist=1.0
2026-01-13 11:36:31,488 [INFO] GateNode: Vision pipeline initialized
2026-01-13 11:36:31,488 [INFO] GateNode: Initializing gate controller...
2026-01-13 11:36:31,488 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-13 11:36:31,489 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-13 11:36:31,489 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-13 11:36:31,490 [INFO] threads.capture: Capture thread starting...
2026-01-13 11:36:31,954 [INFO] threads.capture: Camera opened: 640x480 @ 30.0fps
2026-01-13 11:36:31,954 [INFO] threads.capture: Capture thread running at 30 FPS target
2026-01-13 11:36:31,994 [INFO] GateNode: Camera opened: 640x480 @ 30fps
2026-01-13 11:36:31,996 [INFO] core.alarm: AlarmSystem initialized for platform: windows
2026-01-13 11:36:31,997 [INFO] GateNode: Alarm system initialized
2026-01-13 11:36:31,997 [INFO] GateNode: Initializing worker threads...
2026-01-13 11:36:31,998 [INFO] GateNode: Recognition thread pool initialized (2 workers)
2026-01-13 11:36:31,999 [INFO] GateNode: Streaming disabled (MQTT/LiveKit not configured or unavailable)
2026-01-13 11:36:32,002 [INFO] GateNode: Worker threads initialized
2026-01-13 11:36:32,003 [INFO] threads.sync: Sync thread started
2026-01-13 11:36:32,003 [INFO] GateNode: Sync thread started
2026-01-13 11:36:32,004 [INFO] threads.sync: [INIT] HNSW database: 5 faces, version: 2026-01-13T08:11:44.554197+00:00
2026-01-13 11:36:32,005 [INFO] threads.sync: Syncing faces from https://gate-backend-production-3b50.up.railway.app/api/v1/faces/sync (current version: 2026-01-13T08:11:44.554197+00:00)
2026-01-13 11:36:32,005 [INFO] threads.ui_v2: UI thread starting in continuous mode
2026-01-13 11:36:32,005 [INFO] GateNode: UI thread started
2026-01-13 11:36:32,009 [INFO] GateNode: Gate Node started successfully
2026-01-13 11:36:32,010 [INFO] GateNode: Starting main vision loop...
2026-01-13 11:36:32,075 [INFO] threads.ui_v2: Display window created: 1280x720
2026-01-13 11:36:36,337 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 11:36:36,512 [INFO] storage.logs: Logged access event #10: WANTED -> WANTED
2026-01-13 11:36:36,514 [INFO] GateNode: Track 1 recognized: WANTED (Meshack Ngari Muriithi, conf=0.83)
2026-01-13 11:36:36,518 [INFO] threads.ui_v2: Alert shown: WANTED - Meshack Ngari Muriithi (track 1)
2026-01-13 11:36:36,518 [WARNING] core.alarm: ALARM TRIGGERED: WANTED (Meshack Ngari Muriithi)
2026-01-13 11:36:38,624 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-13T08:36:38.328410+00:00
2026-01-13 11:36:38,625 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-13 11:36:40,276 [INFO] threads.ui_v2: Alert shown: WANTED - Meshack Ngari Muriithi (track 1)
2026-01-13 11:36:43,339 [INFO] core.gate_control: Gate auto-closed
2026-01-13 11:36:43,715 [INFO] threads.ui_v2: Alert shown: WANTED - Meshack Ngari Muriithi (track 1)
2026-01-13 11:36:43,718 [WARNING] core.alarm: ALARM TRIGGERED: WANTED (Meshack Ngari Muriithi)
2026-01-13 11:36:47,421 [INFO] threads.ui_v2: Alert shown: WANTED - Meshack Ngari Muriithi (track 1)
2026-01-13 11:36:54,834 [INFO] GateNode: Track 2 marked UNKNOWN after 3 attempts
2026-01-13 11:36:55,486 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 2)
2026-01-13 11:36:55,486 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:36:59,142 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 2)
2026-01-13 11:37:04,651 [INFO] threads.ui_v2: UI thread stopped
2026-01-13 11:37:06,691 [INFO] GateNode: Track 3 marked UNKNOWN after 3 attempts
2026-01-13 11:37:07,356 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 3)
2026-01-13 11:37:07,357 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:37:09,501 [INFO] GateNode: Received signal 2
2026-01-13 11:37:09,502 [INFO] GateNode: Gate Node shutting down...
2026-01-13 11:37:09,503 [INFO] core.singletons: ONNXSessionManager initialized with providers: ['CPUExecutionProvider']
2026-01-13 11:37:09,503 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 11:37:09,504 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 11:37:09,504 [INFO] GateNode: Recognition executor shutdown
2026-01-13 11:37:09,505 [INFO] threads.sync: Sync thread stopped
2026-01-13 11:37:09,937 [INFO] threads.capture: Capture thread stopped
2026-01-13 11:37:09,942 [INFO] GateNode: Received signal 2
2026-01-13 11:37:09,945 [INFO] GateNode: Gate Node shutting down...
2026-01-13 11:37:09,949 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 11:37:09,951 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 11:37:09,952 [INFO] GateNode: Recognition executor shutdown
2026-01-13 11:37:11,965 [INFO] GateNode: Received signal 2
2026-01-13 11:37:11,966 [INFO] GateNode: Gate Node shutting down...
2026-01-13 11:37:11,967 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 11:37:11,969 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 11:37:11,970 [INFO] GateNode: Recognition executor shutdown
2026-01-13 11:37:13,980 [INFO] storage.logs: Access logger closed
2026-01-13 11:37:13,984 [INFO] GateNode: Gate Node stopped
2026-01-13 11:37:13,986 [INFO] GateNode: ==================================================
2026-01-13 11:37:13,987 [INFO] GateNode: Session Statistics:
2026-01-13 11:37:13,991 [INFO] GateNode:   Runtime: 42.0s
2026-01-13 11:37:13,993 [INFO] GateNode:   Frames processed (AI): 36
2026-01-13 11:37:13,999 [INFO] GateNode:   Average AI FPS: 0.9
2026-01-13 11:37:14,002 [INFO] GateNode:   Camera capture:
2026-01-13 11:37:14,005 [INFO] GateNode:     - Frames captured: 1041
2026-01-13 11:37:14,007 [INFO] GateNode:     - Capture FPS: 29.0
2026-01-13 11:37:14,008 [INFO] GateNode:     - Frames dropped (AI queue): 1003
2026-01-13 11:37:14,010 [INFO] GateNode:     - Frames dropped (stream): 137
2026-01-13 11:37:14,014 [INFO] GateNode:   Detection optimization:
2026-01-13 11:37:14,015 [INFO] GateNode:     - Detections run: 35
2026-01-13 11:37:14,016 [INFO] GateNode:     - Detections skipped: 0
2026-01-13 11:37:14,016 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-13 11:37:14,017 [INFO] GateNode:   Unique tracks created: 3
2026-01-13 11:37:14,018 [INFO] GateNode:   Tracks confirmed: 3
2026-01-13 11:37:14,018 [INFO] GateNode:   Tracks recognized: 3
2026-01-13 11:37:14,021 [INFO] GateNode:   People counts:
2026-01-13 11:37:14,022 [INFO] GateNode:     - Authorized: 0
2026-01-13 11:37:14,023 [INFO] GateNode:     - Wanted: 1
2026-01-13 11:37:14,029 [INFO] GateNode:     - Unknown: 2
2026-01-13 11:37:14,031 [INFO] GateNode:   Gate opens: 1
2026-01-13 11:37:14,032 [INFO] GateNode:     - Authorized: 0
2026-01-13 11:37:14,035 [INFO] GateNode:     - Wanted: 1
2026-01-13 11:37:14,037 [INFO] GateNode:     - Rejected: 0
2026-01-13 11:37:14,039 [INFO] GateNode: ==================================================
2026-01-13 11:37:14,041 [INFO] GateNode: Gate Node shutting down...
2026-01-13 11:37:14,041 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 11:37:14,042 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 11:37:14,043 [INFO] GateNode: Recognition executor shutdown
2026-01-13 11:37:14,043 [INFO] storage.logs: Access logger closed
2026-01-13 11:37:14,044 [INFO] GateNode: Gate Node stopped
2026-01-13 11:37:14,045 [INFO] GateNode: ==================================================
2026-01-13 11:37:14,046 [INFO] GateNode: Session Statistics:
2026-01-13 11:37:14,046 [INFO] GateNode:   Runtime: 42.0s
2026-01-13 11:37:14,047 [INFO] GateNode:   Frames processed (AI): 36
2026-01-13 11:37:14,047 [INFO] GateNode:   Average AI FPS: 0.9
2026-01-13 11:37:14,048 [INFO] GateNode:   Camera capture:
2026-01-13 11:37:14,048 [INFO] GateNode:     - Frames captured: 1041
2026-01-13 11:37:14,048 [INFO] GateNode:     - Capture FPS: 29.0
2026-01-13 11:37:14,049 [INFO] GateNode:     - Frames dropped (AI queue): 1003
2026-01-13 11:37:14,049 [INFO] GateNode:     - Frames dropped (stream): 137
2026-01-13 11:37:14,051 [INFO] GateNode:   Detection optimization:
2026-01-13 11:37:14,051 [INFO] GateNode:     - Detections run: 35
2026-01-13 11:37:14,052 [INFO] GateNode:     - Detections skipped: 0
2026-01-13 11:37:14,053 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-13 11:37:14,053 [INFO] GateNode:   Unique tracks created: 3
2026-01-13 11:37:14,054 [INFO] GateNode:   Tracks confirmed: 3
2026-01-13 11:37:14,054 [INFO] GateNode:   Tracks recognized: 3
2026-01-13 11:37:14,055 [INFO] GateNode:   People counts:
2026-01-13 11:37:14,055 [INFO] GateNode:     - Authorized: 0
2026-01-13 11:37:14,058 [INFO] GateNode:     - Wanted: 1
2026-01-13 11:37:14,060 [INFO] GateNode:     - Unknown: 2
2026-01-13 11:37:14,060 [INFO] GateNode:   Gate opens: 1
2026-01-13 11:37:14,061 [INFO] GateNode:     - Authorized: 0
2026-01-13 11:37:14,061 [INFO] GateNode:     - Wanted: 1
2026-01-13 11:37:14,062 [INFO] GateNode:     - Rejected: 0
2026-01-13 11:37:14,062 [INFO] GateNode: ==================================================
2026-01-13 11:39:21,238 [INFO] GateNode: ==================================================
2026-01-13 11:39:21,238 [INFO] GateNode: Gate Node starting: gate-001
2026-01-13 11:39:21,239 [INFO] GateNode: Organization: DKUT
2026-01-13 11:39:21,239 [INFO] GateNode: ==================================================
2026-01-13 11:39:21,239 [INFO] GateNode: Initializing storage...
2026-01-13 11:39:21,243 [INFO] storage.face_db: Loaded 5 face records from metadata
2026-01-13 11:39:21,247 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-13 11:39:21,248 [INFO] storage.face_db: Current sync version: 2026-01-13T08:11:44.554197+00:00
2026-01-13 11:39:21,252 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-13 11:39:21,252 [INFO] GateNode: Storage initialized: 5 faces in database
2026-01-13 11:39:21,253 [INFO] GateNode: Initializing vision pipeline...
2026-01-13 11:39:21,595 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-13 11:39:21,596 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-13 11:39:23,658 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-13 11:39:23,658 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-13 11:39:23,659 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=1, max_age=30, max_emb_dist=1.0
2026-01-13 11:39:23,659 [INFO] GateNode: Vision pipeline initialized
2026-01-13 11:39:23,660 [INFO] GateNode: Initializing gate controller...
2026-01-13 11:39:23,660 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-13 11:39:23,661 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-13 11:39:23,661 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-13 11:39:23,662 [INFO] threads.capture: Capture thread starting...
2026-01-13 11:39:24,099 [INFO] threads.capture: Camera opened: 640x480 @ 30.0fps
2026-01-13 11:39:24,100 [INFO] threads.capture: Capture thread running at 30 FPS target
2026-01-13 11:39:24,167 [INFO] GateNode: Camera opened: 640x480 @ 30fps
2026-01-13 11:39:24,181 [INFO] core.alarm: AlarmSystem initialized for platform: windows
2026-01-13 11:39:24,183 [INFO] GateNode: Alarm system initialized
2026-01-13 11:39:24,184 [INFO] GateNode: Initializing worker threads...
2026-01-13 11:39:24,184 [INFO] GateNode: Recognition thread pool initialized (2 workers)
2026-01-13 11:39:24,185 [INFO] GateNode: Streaming disabled (MQTT/LiveKit not configured or unavailable)
2026-01-13 11:39:24,186 [INFO] GateNode: Worker threads initialized
2026-01-13 11:39:24,189 [INFO] threads.sync: Sync thread started
2026-01-13 11:39:24,190 [INFO] GateNode: Sync thread started
2026-01-13 11:39:24,190 [INFO] threads.sync: [INIT] HNSW database: 5 faces, version: 2026-01-13T08:11:44.554197+00:00
2026-01-13 11:39:24,191 [INFO] threads.sync: Syncing faces from https://gate-backend-production-3b50.up.railway.app/api/v1/faces/sync (current version: 2026-01-13T08:11:44.554197+00:00)
2026-01-13 11:39:24,192 [INFO] threads.ui_v2: UI thread starting in continuous mode
2026-01-13 11:39:24,192 [INFO] GateNode: UI thread started
2026-01-13 11:39:24,195 [INFO] GateNode: Gate Node started successfully
2026-01-13 11:39:24,197 [INFO] GateNode: Starting main vision loop...
2026-01-13 11:39:24,243 [INFO] threads.ui_v2: Display window created: 1280x720
2026-01-13 11:39:26,714 [INFO] threads.sync: API returned: 5 upserts, 0 deletes, version: 2026-01-13T08:39:25.783660+00:00
2026-01-13 11:39:26,717 [INFO] storage.face_db: Added face 9c8ff4fe-6326-4886-90ce-61bfdabd6bb7 (Stephen Njiu) with status AUTHORIZED
2026-01-13 11:39:26,722 [INFO] storage.face_db: Added face 0314847c-43af-4f06-9d5d-2f4c9a20182a (Stephen Njiu) with status AUTHORIZED
2026-01-13 11:39:26,724 [INFO] storage.face_db: Added face fb82c4b7-35b2-43ed-b7f9-f0425e88c47c (Stephen Njiu) with status AUTHORIZED
2026-01-13 11:39:26,727 [INFO] storage.face_db: Added face 2fcab2ad-684e-4c9d-942f-32c6268c8dbb (Stephen Njiu) with status AUTHORIZED
2026-01-13 11:39:26,732 [INFO] storage.face_db: Added face ee6ec557-8786-4ff1-ac3a-77f12854e63d (Stephen Njiu) with status AUTHORIZED
2026-01-13 11:39:26,737 [INFO] threads.sync: Added/updated 5/5 faces
2026-01-13 11:39:26,746 [INFO] threads.sync: [SYNC OK] 5 upserts, 0 deletes -> 10 faces in DB, version 2026-01-13T08:39:25.783660+00:00
2026-01-13 11:39:33,185 [INFO] core.gate_control: ACCESS GRANTED: 9c8ff4fe-6326-4886-90ce-61bfdabd6bb7 (confidence: 0.82)
2026-01-13 11:39:33,209 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 11:39:33,366 [INFO] storage.logs: Logged access event #11: AUTHORIZED -> AUTHORIZED
2026-01-13 11:39:33,376 [INFO] GateNode: Track 1 recognized: AUTHORIZED (Stephen Njiu, conf=0.82)
2026-01-13 11:39:40,221 [INFO] core.gate_control: Gate auto-closed
2026-01-13 11:39:42,475 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 11:39:42,632 [INFO] storage.logs: Logged access event #12: WANTED -> WANTED
2026-01-13 11:39:42,636 [INFO] GateNode: Track 2 recognized: WANTED (Meshack Ngari Muriithi, conf=0.87)
2026-01-13 11:39:43,674 [INFO] threads.ui_v2: Alert shown: WANTED - Meshack Ngari Muriithi (track 2)
2026-01-13 11:39:43,675 [WARNING] core.alarm: ALARM TRIGGERED: WANTED (Meshack Ngari Muriithi)
2026-01-13 11:39:47,156 [INFO] threads.ui_v2: Alert shown: WANTED - Meshack Ngari Muriithi (track 2)
2026-01-13 11:39:49,475 [INFO] core.gate_control: Gate auto-closed
2026-01-13 11:39:57,728 [INFO] vision.tracker: Track 1: Appearance changed significantly (distance=0.92). Resetting for re-recognition.
2026-01-13 11:39:58,990 [INFO] core.gate_control: ACCESS GRANTED: ee6ec557-8786-4ff1-ac3a-77f12854e63d (confidence: 0.57)
2026-01-13 11:39:59,001 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 11:39:59,168 [INFO] storage.logs: Logged access event #13: AUTHORIZED -> AUTHORIZED
2026-01-13 11:39:59,204 [INFO] GateNode: Track 5 recognized: AUTHORIZED (Stephen Njiu, conf=0.57)
2026-01-13 11:40:00,388 [INFO] core.gate_control: ACCESS GRANTED: 9c8ff4fe-6326-4886-90ce-61bfdabd6bb7 (confidence: 0.83)
2026-01-13 11:40:00,409 [INFO] core.gate_control: Gate EXTENDED (will close in 7.0s)
2026-01-13 11:40:00,577 [INFO] storage.logs: Logged access event #14: AUTHORIZED -> AUTHORIZED
2026-01-13 11:40:00,617 [INFO] GateNode: Track 3 recognized: AUTHORIZED (Stephen Njiu, conf=0.83)
2026-01-13 11:40:01,306 [INFO] GateNode: Track 1 marked UNKNOWN after 3 attempts
2026-01-13 11:40:02,020 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-13 11:40:02,021 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-13 11:40:05,842 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 1)
2026-01-13 11:40:07,416 [INFO] core.gate_control: Gate auto-closed
2026-01-13 11:40:10,077 [INFO] core.gate_control: ACCESS GRANTED: 9c8ff4fe-6326-4886-90ce-61bfdabd6bb7 (confidence: 0.89)
2026-01-13 11:40:10,082 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 11:40:10,257 [INFO] storage.logs: Logged access event #15: AUTHORIZED -> AUTHORIZED
2026-01-13 11:40:10,258 [INFO] GateNode: Track 6 recognized: AUTHORIZED (Stephen Njiu, conf=0.89)
2026-01-13 11:40:12,915 [INFO] core.gate_control: ACCESS GRANTED: 0314847c-43af-4f06-9d5d-2f4c9a20182a (confidence: 0.78)
2026-01-13 11:40:12,919 [INFO] core.gate_control: Gate EXTENDED (will close in 7.0s)
2026-01-13 11:40:13,067 [INFO] storage.logs: Logged access event #16: AUTHORIZED -> AUTHORIZED
2026-01-13 11:40:13,072 [INFO] GateNode: Track 7 recognized: AUTHORIZED (Stephen Njiu, conf=0.78)
2026-01-13 11:40:19,921 [INFO] core.gate_control: Gate auto-closed
2026-01-13 11:40:29,945 [INFO] core.gate_control: ACCESS GRANTED: fb82c4b7-35b2-43ed-b7f9-f0425e88c47c (confidence: 0.73)
2026-01-13 11:40:29,952 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 11:40:30,111 [INFO] storage.logs: Logged access event #17: AUTHORIZED -> AUTHORIZED
2026-01-13 11:40:30,112 [INFO] GateNode: Track 9 recognized: AUTHORIZED (Stephen Njiu, conf=0.73)
2026-01-13 11:40:36,056 [INFO] core.gate_control: Gate EXTENDED (will close in 7.0s)
2026-01-13 11:40:36,225 [INFO] storage.logs: Logged access event #18: WANTED -> WANTED
2026-01-13 11:40:36,227 [INFO] GateNode: Track 10 recognized: WANTED (Meshack Ngari Muriithi, conf=0.71)
2026-01-13 11:40:36,813 [INFO] threads.ui_v2: Alert shown: WANTED - Meshack Ngari Muriithi (track 10)
2026-01-13 11:40:36,814 [WARNING] core.alarm: ALARM TRIGGERED: WANTED (Meshack Ngari Muriithi)
2026-01-13 11:40:43,067 [INFO] core.gate_control: Gate auto-closed
2026-01-13 11:40:48,571 [INFO] core.gate_control: ACCESS GRANTED: ee6ec557-8786-4ff1-ac3a-77f12854e63d (confidence: 0.67)
2026-01-13 11:40:48,576 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 11:40:48,736 [INFO] storage.logs: Logged access event #19: AUTHORIZED -> AUTHORIZED
2026-01-13 11:40:48,738 [INFO] GateNode: Track 11 recognized: AUTHORIZED (Stephen Njiu, conf=0.67)
2026-01-13 11:40:54,351 [INFO] core.gate_control: ACCESS GRANTED: 0314847c-43af-4f06-9d5d-2f4c9a20182a (confidence: 0.79)
2026-01-13 11:40:54,362 [INFO] core.gate_control: Gate EXTENDED (will close in 7.0s)
2026-01-13 11:40:54,526 [INFO] storage.logs: Logged access event #20: AUTHORIZED -> AUTHORIZED
2026-01-13 11:40:54,526 [INFO] GateNode: Track 12 recognized: AUTHORIZED (Stephen Njiu, conf=0.79)
2026-01-13 11:41:01,376 [INFO] core.gate_control: Gate auto-closed
2026-01-13 11:41:26,914 [INFO] threads.sync: Syncing faces from https://gate-backend-production-3b50.up.railway.app/api/v1/faces/sync (current version: 2026-01-13T08:39:25.783660+00:00)
2026-01-13 11:41:29,412 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-13T08:41:29.173711+00:00
2026-01-13 11:41:29,412 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-13 11:41:37,649 [INFO] core.gate_control: ACCESS GRANTED: ee6ec557-8786-4ff1-ac3a-77f12854e63d (confidence: 0.53)
2026-01-13 11:41:37,696 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 11:41:37,862 [INFO] storage.logs: Logged access event #21: AUTHORIZED -> AUTHORIZED
2026-01-13 11:41:37,864 [INFO] GateNode: Track 14 recognized: AUTHORIZED (Stephen Njiu, conf=0.53)
2026-01-13 11:41:44,698 [INFO] core.gate_control: Gate auto-closed
2026-01-13 11:42:01,464 [INFO] GateNode: Received signal 2
2026-01-13 11:42:01,465 [INFO] GateNode: Gate Node shutting down...
2026-01-13 11:42:01,466 [INFO] core.singletons: ONNXSessionManager initialized with providers: ['CPUExecutionProvider']
2026-01-13 11:42:01,467 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 11:42:01,467 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 11:42:01,468 [INFO] GateNode: Recognition executor shutdown
2026-01-13 11:42:01,468 [INFO] threads.sync: Sync thread stopped
2026-01-13 11:42:01,481 [INFO] threads.ui_v2: UI thread stopped
2026-01-13 11:42:01,976 [INFO] threads.capture: Capture thread stopped
2026-01-13 11:42:01,982 [INFO] storage.logs: Access logger closed
2026-01-13 11:42:01,986 [INFO] GateNode: Gate Node stopped
2026-01-13 11:42:01,992 [INFO] GateNode: ==================================================
2026-01-13 11:42:01,995 [INFO] GateNode: Session Statistics:
2026-01-13 11:42:01,996 [INFO] GateNode:   Runtime: 157.8s
2026-01-13 11:42:01,998 [INFO] GateNode:   Frames processed (AI): 137
2026-01-13 11:42:01,999 [INFO] GateNode:   Average AI FPS: 0.9
2026-01-13 11:42:02,000 [INFO] GateNode:   Camera capture:
2026-01-13 11:42:02,001 [INFO] GateNode:     - Frames captured: 4490
2026-01-13 11:42:02,002 [INFO] GateNode:     - Capture FPS: 29.1
2026-01-13 11:42:02,003 [INFO] GateNode:     - Frames dropped (AI queue): 4351
2026-01-13 11:42:02,004 [INFO] GateNode:     - Frames dropped (stream): 42
2026-01-13 11:42:02,005 [INFO] GateNode:   Detection optimization:
2026-01-13 11:42:02,006 [INFO] GateNode:     - Detections run: 136
2026-01-13 11:42:02,006 [INFO] GateNode:     - Detections skipped: 0
2026-01-13 11:42:02,007 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-13 11:42:02,008 [INFO] GateNode:   Unique tracks created: 14
2026-01-13 11:42:02,008 [INFO] GateNode:   Tracks confirmed: 11
2026-01-13 11:42:02,010 [INFO] GateNode:   Tracks recognized: 12
2026-01-13 11:42:02,010 [INFO] GateNode:   People counts:
2026-01-13 11:42:02,011 [INFO] GateNode:     - Authorized: 9
2026-01-13 11:42:02,012 [INFO] GateNode:     - Wanted: 2
2026-01-13 11:42:02,015 [INFO] GateNode:     - Unknown: 1
2026-01-13 11:42:02,021 [INFO] GateNode:   Gate opens: 11
2026-01-13 11:42:02,023 [INFO] GateNode:     - Authorized: 9
2026-01-13 11:42:02,025 [INFO] GateNode:     - Wanted: 2
2026-01-13 11:42:02,026 [INFO] GateNode:     - Rejected: 0
2026-01-13 11:42:02,027 [INFO] GateNode: ==================================================
2026-01-13 11:42:02,028 [INFO] GateNode: Gate Node shutting down...
2026-01-13 11:42:02,028 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 11:42:02,029 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 11:42:02,029 [INFO] GateNode: Recognition executor shutdown
2026-01-13 11:42:02,030 [INFO] storage.logs: Access logger closed
2026-01-13 11:42:02,030 [INFO] GateNode: Gate Node stopped
2026-01-13 11:42:02,030 [INFO] GateNode: ==================================================
2026-01-13 11:42:02,031 [INFO] GateNode: Session Statistics:
2026-01-13 11:42:02,031 [INFO] GateNode:   Runtime: 157.8s
2026-01-13 11:42:02,031 [INFO] GateNode:   Frames processed (AI): 137
2026-01-13 11:42:02,032 [INFO] GateNode:   Average AI FPS: 0.9
2026-01-13 11:42:02,032 [INFO] GateNode:   Camera capture:
2026-01-13 11:42:02,033 [INFO] GateNode:     - Frames captured: 4490
2026-01-13 11:42:02,033 [INFO] GateNode:     - Capture FPS: 29.1
2026-01-13 11:42:02,034 [INFO] GateNode:     - Frames dropped (AI queue): 4351
2026-01-13 11:42:02,034 [INFO] GateNode:     - Frames dropped (stream): 42
2026-01-13 11:42:02,034 [INFO] GateNode:   Detection optimization:
2026-01-13 11:42:02,035 [INFO] GateNode:     - Detections run: 136
2026-01-13 11:42:02,035 [INFO] GateNode:     - Detections skipped: 0
2026-01-13 11:42:02,036 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-13 11:42:02,037 [INFO] GateNode:   Unique tracks created: 14
2026-01-13 11:42:02,039 [INFO] GateNode:   Tracks confirmed: 11
2026-01-13 11:42:02,041 [INFO] GateNode:   Tracks recognized: 12
2026-01-13 11:42:02,042 [INFO] GateNode:   People counts:
2026-01-13 11:42:02,042 [INFO] GateNode:     - Authorized: 9
2026-01-13 11:42:02,043 [INFO] GateNode:     - Wanted: 2
2026-01-13 11:42:02,043 [INFO] GateNode:     - Unknown: 1
2026-01-13 11:42:02,044 [INFO] GateNode:   Gate opens: 11
2026-01-13 11:42:02,044 [INFO] GateNode:     - Authorized: 9
2026-01-13 11:42:02,045 [INFO] GateNode:     - Wanted: 2
2026-01-13 11:42:02,045 [INFO] GateNode:     - Rejected: 0
2026-01-13 11:42:02,046 [INFO] GateNode: ==================================================
2026-01-13 11:44:06,733 [INFO] GateNode: ==================================================
2026-01-13 11:44:06,733 [INFO] GateNode: Gate Node starting: gate-001
2026-01-13 11:44:06,734 [INFO] GateNode: Organization: DKUT
2026-01-13 11:44:06,734 [INFO] GateNode: ==================================================
2026-01-13 11:44:06,735 [INFO] GateNode: Initializing storage...
2026-01-13 11:44:06,757 [INFO] storage.face_db: Loaded 10 face records from metadata
2026-01-13 11:44:06,785 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-13 11:44:06,811 [INFO] storage.face_db: Current sync version: 2026-01-13T08:39:25.783660+00:00
2026-01-13 11:44:06,816 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-13 11:44:06,832 [INFO] GateNode: Storage initialized: 10 faces in database
2026-01-13 11:44:06,833 [INFO] GateNode: Initializing vision pipeline...
2026-01-13 11:44:07,350 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-13 11:44:07,350 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-13 11:44:08,883 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-13 11:44:08,884 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-13 11:44:08,884 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=1, max_age=30, max_emb_dist=1.0
2026-01-13 11:44:08,885 [INFO] GateNode: Vision pipeline initialized
2026-01-13 11:44:08,885 [INFO] GateNode: Initializing gate controller...
2026-01-13 11:44:08,886 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-13 11:44:08,886 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-13 11:44:08,887 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-13 11:44:08,888 [INFO] threads.capture: Capture thread starting...
2026-01-13 11:44:09,356 [INFO] threads.capture: Camera opened: 640x480 @ 30.0fps
2026-01-13 11:44:09,356 [INFO] threads.capture: Capture thread running at 30 FPS target
2026-01-13 11:44:09,400 [INFO] GateNode: Camera opened: 640x480 @ 30fps
2026-01-13 11:44:09,447 [INFO] core.alarm: AlarmSystem initialized for platform: windows
2026-01-13 11:44:09,458 [INFO] GateNode: Alarm system initialized
2026-01-13 11:44:09,459 [INFO] GateNode: Initializing worker threads...
2026-01-13 11:44:09,459 [INFO] GateNode: Recognition thread pool initialized (2 workers)
2026-01-13 11:44:09,460 [INFO] GateNode: Streaming disabled (MQTT/LiveKit not configured or unavailable)
2026-01-13 11:44:09,469 [INFO] GateNode: Worker threads initialized
2026-01-13 11:44:09,544 [INFO] GateNode: Sync thread started
2026-01-13 11:44:09,511 [INFO] threads.sync: Sync thread started
2026-01-13 11:44:09,554 [INFO] threads.sync: [INIT] HNSW database: 10 faces, version: 2026-01-13T08:39:25.783660+00:00
2026-01-13 11:44:09,561 [INFO] threads.sync: Syncing faces from https://gate-backend-production-3b50.up.railway.app/api/v1/faces/sync (current version: 2026-01-13T08:39:25.783660+00:00)
2026-01-13 11:44:09,575 [INFO] GateNode: UI thread started
2026-01-13 11:44:09,575 [INFO] threads.ui_v2: UI thread starting in continuous mode
2026-01-13 11:44:09,611 [INFO] GateNode: Gate Node started successfully
2026-01-13 11:44:09,623 [INFO] GateNode: Starting main vision loop...
2026-01-13 11:44:09,745 [INFO] threads.ui_v2: Display window created: 1280x720
2026-01-13 11:44:12,857 [INFO] threads.sync: API returned: 5 upserts, 0 deletes, version: 2026-01-13T08:44:11.380946+00:00
2026-01-13 11:44:12,858 [INFO] storage.face_db: Added face 1dc33103-f648-44ae-b628-9e479e6ef7c4 (Onesmus Mosoti) with status AUTHORIZED
2026-01-13 11:44:12,859 [INFO] storage.face_db: Added face aed7a31f-c2ac-48bc-b9ab-fcb8d2bc3a9b (Onesmus Mosoti) with status AUTHORIZED
2026-01-13 11:44:12,860 [INFO] storage.face_db: Added face 493d5463-20e2-49db-a245-5c99d3c79c7f (Onesmus Mosoti) with status AUTHORIZED
2026-01-13 11:44:12,864 [INFO] storage.face_db: Added face fbb7ea15-e27d-4d83-a93a-22c2325d45d6 (Onesmus Mosoti) with status AUTHORIZED
2026-01-13 11:44:12,868 [INFO] storage.face_db: Added face 24ce706e-870d-44c5-97a1-d65533087086 (Onesmus Mosoti) with status AUTHORIZED
2026-01-13 11:44:12,872 [INFO] threads.sync: Added/updated 5/5 faces
2026-01-13 11:44:12,886 [INFO] threads.sync: [SYNC OK] 5 upserts, 0 deletes -> 15 faces in DB, version 2026-01-13T08:44:11.380946+00:00
2026-01-13 11:44:14,939 [INFO] core.gate_control: ACCESS GRANTED: 0314847c-43af-4f06-9d5d-2f4c9a20182a (confidence: 0.90)
2026-01-13 11:44:14,941 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 11:44:15,113 [INFO] storage.logs: Logged access event #22: AUTHORIZED -> AUTHORIZED
2026-01-13 11:44:15,113 [INFO] GateNode: Track 1 recognized: AUTHORIZED (Stephen Njiu, conf=0.90)
2026-01-13 11:44:21,947 [INFO] core.gate_control: Gate auto-closed
2026-01-13 11:44:24,499 [INFO] core.gate_control: ACCESS GRANTED: 9c8ff4fe-6326-4886-90ce-61bfdabd6bb7 (confidence: 0.83)
2026-01-13 11:44:24,732 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 11:44:24,884 [INFO] core.gate_control: Gate EXTENDED (will close in 7.0s)
2026-01-13 11:44:24,990 [INFO] storage.logs: Logged access event #23: AUTHORIZED -> AUTHORIZED
2026-01-13 11:44:25,002 [INFO] GateNode: Track 2 recognized: AUTHORIZED (Stephen Njiu, conf=0.83)
2026-01-13 11:44:25,156 [INFO] storage.logs: Logged access event #24: WANTED -> WANTED
2026-01-13 11:44:25,157 [INFO] GateNode: Track 3 recognized: WANTED (Meshack Ngari Muriithi, conf=0.84)
2026-01-13 11:44:27,928 [INFO] vision.tracker: Track 1: Appearance changed significantly (distance=0.95). Resetting for re-recognition.
2026-01-13 11:44:28,788 [INFO] core.gate_control: Gate EXTENDED (will close in 7.0s)
2026-01-13 11:44:28,970 [INFO] storage.logs: Logged access event #25: WANTED -> WANTED
2026-01-13 11:44:28,971 [INFO] GateNode: Track 1 recognized: WANTED (Meshack Ngari Muriithi, conf=0.83)
2026-01-13 11:44:29,912 [INFO] threads.ui_v2: Alert shown: WANTED - Meshack Ngari Muriithi (track 1)
2026-01-13 11:44:29,913 [WARNING] core.alarm: ALARM TRIGGERED: WANTED (Meshack Ngari Muriithi)
2026-01-13 11:44:33,295 [INFO] threads.ui_v2: Alert shown: WANTED - Meshack Ngari Muriithi (track 1)
2026-01-13 11:44:35,803 [INFO] core.gate_control: Gate auto-closed
2026-01-13 11:44:36,584 [INFO] threads.ui_v2: Alert shown: WANTED - Meshack Ngari Muriithi (track 1)
2026-01-13 11:44:36,585 [WARNING] core.alarm: ALARM TRIGGERED: WANTED (Meshack Ngari Muriithi)
2026-01-13 11:44:39,518 [INFO] vision.tracker: Track 2: Appearance changed significantly (distance=0.96). Resetting for re-recognition.
2026-01-13 11:44:40,310 [INFO] core.gate_control: ACCESS GRANTED: 1dc33103-f648-44ae-b628-9e479e6ef7c4 (confidence: 0.87)
2026-01-13 11:44:40,315 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 11:44:40,502 [INFO] storage.logs: Logged access event #26: AUTHORIZED -> AUTHORIZED
2026-01-13 11:44:40,505 [INFO] GateNode: Track 2 recognized: AUTHORIZED (Onesmus Mosoti, conf=0.87)
2026-01-13 11:44:47,329 [INFO] core.gate_control: Gate auto-closed
2026-01-13 11:44:49,279 [INFO] core.gate_control: ACCESS GRANTED: 9c8ff4fe-6326-4886-90ce-61bfdabd6bb7 (confidence: 0.89)
2026-01-13 11:44:49,283 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 11:44:49,447 [INFO] storage.logs: Logged access event #27: AUTHORIZED -> AUTHORIZED
2026-01-13 11:44:49,448 [INFO] GateNode: Track 4 recognized: AUTHORIZED (Stephen Njiu, conf=0.89)
2026-01-13 11:44:52,023 [INFO] threads.ui_v2: UI thread stopped
2026-01-13 11:44:56,291 [INFO] core.gate_control: Gate auto-closed
2026-01-13 11:45:00,926 [INFO] core.gate_control: ACCESS GRANTED: 9c8ff4fe-6326-4886-90ce-61bfdabd6bb7 (confidence: 0.72)
2026-01-13 11:45:00,931 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-13 11:45:01,115 [INFO] storage.logs: Logged access event #28: AUTHORIZED -> AUTHORIZED
2026-01-13 11:45:01,117 [INFO] GateNode: Track 5 recognized: AUTHORIZED (Stephen Njiu, conf=0.72)
2026-01-13 11:45:05,516 [INFO] GateNode: Received signal 2
2026-01-13 11:45:05,516 [INFO] GateNode: Gate Node shutting down...
2026-01-13 11:45:05,517 [INFO] core.singletons: ONNXSessionManager initialized with providers: ['CPUExecutionProvider']
2026-01-13 11:45:05,517 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 11:45:05,518 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 11:45:05,518 [INFO] GateNode: Recognition executor shutdown
2026-01-13 11:45:05,519 [INFO] threads.sync: Sync thread stopped
2026-01-13 11:45:05,972 [INFO] threads.capture: Capture thread stopped
2026-01-13 11:45:05,975 [INFO] GateNode: Received signal 2
2026-01-13 11:45:05,977 [INFO] GateNode: Gate Node shutting down...
2026-01-13 11:45:05,981 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 11:45:05,990 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 11:45:05,991 [INFO] GateNode: Recognition executor shutdown
2026-01-13 11:45:07,939 [INFO] core.gate_control: Gate auto-closed
2026-01-13 11:45:08,002 [INFO] GateNode: Received signal 2
2026-01-13 11:45:08,002 [INFO] GateNode: Gate Node shutting down...
2026-01-13 11:45:08,003 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 11:45:08,003 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 11:45:08,004 [INFO] GateNode: Recognition executor shutdown
2026-01-13 11:45:10,017 [INFO] storage.logs: Access logger closed
2026-01-13 11:45:10,019 [INFO] GateNode: Gate Node stopped
2026-01-13 11:45:10,020 [INFO] GateNode: ==================================================
2026-01-13 11:45:10,021 [INFO] GateNode: Session Statistics:
2026-01-13 11:45:10,023 [INFO] GateNode:   Runtime: 60.4s
2026-01-13 11:45:10,024 [INFO] GateNode:   Frames processed (AI): 51
2026-01-13 11:45:10,025 [INFO] GateNode:   Average AI FPS: 0.8
2026-01-13 11:45:10,027 [INFO] GateNode:   Camera capture:
2026-01-13 11:45:10,029 [INFO] GateNode:     - Frames captured: 1565
2026-01-13 11:45:10,031 [INFO] GateNode:     - Capture FPS: 26.6
2026-01-13 11:45:10,034 [INFO] GateNode:     - Frames dropped (AI queue): 1512
2026-01-13 11:45:10,036 [INFO] GateNode:     - Frames dropped (stream): 383
2026-01-13 11:45:10,037 [INFO] GateNode:   Detection optimization:
2026-01-13 11:45:10,039 [INFO] GateNode:     - Detections run: 50
2026-01-13 11:45:10,040 [INFO] GateNode:     - Detections skipped: 0
2026-01-13 11:45:10,041 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-13 11:45:10,042 [INFO] GateNode:   Unique tracks created: 5
2026-01-13 11:45:10,042 [INFO] GateNode:   Tracks confirmed: 5
2026-01-13 11:45:10,043 [INFO] GateNode:   Tracks recognized: 7
2026-01-13 11:45:10,044 [INFO] GateNode:   People counts:
2026-01-13 11:45:10,045 [INFO] GateNode:     - Authorized: 5
2026-01-13 11:45:10,046 [INFO] GateNode:     - Wanted: 2
2026-01-13 11:45:10,047 [INFO] GateNode:     - Unknown: 0
2026-01-13 11:45:10,048 [INFO] GateNode:   Gate opens: 7
2026-01-13 11:45:10,048 [INFO] GateNode:     - Authorized: 5
2026-01-13 11:45:10,050 [INFO] GateNode:     - Wanted: 2
2026-01-13 11:45:10,053 [INFO] GateNode:     - Rejected: 0
2026-01-13 11:45:10,054 [INFO] GateNode: ==================================================
2026-01-13 11:45:10,055 [INFO] GateNode: Gate Node shutting down...
2026-01-13 11:45:10,063 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-13 11:45:10,064 [INFO] core.singletons: All singleton resources cleaned up
2026-01-13 11:45:10,068 [INFO] GateNode: Recognition executor shutdown
2026-01-13 11:45:10,069 [INFO] storage.logs: Access logger closed
2026-01-13 11:45:10,072 [INFO] GateNode: Gate Node stopped
2026-01-13 11:45:10,073 [INFO] GateNode: ==================================================
2026-01-13 11:45:10,074 [INFO] GateNode: Session Statistics:
2026-01-13 11:45:10,074 [INFO] GateNode:   Runtime: 60.5s
2026-01-13 11:45:10,074 [INFO] GateNode:   Frames processed (AI): 51
2026-01-13 11:45:10,075 [INFO] GateNode:   Average AI FPS: 0.8
2026-01-13 11:45:10,075 [INFO] GateNode:   Camera capture:
2026-01-13 11:45:10,076 [INFO] GateNode:     - Frames captured: 1565
2026-01-13 11:45:10,076 [INFO] GateNode:     - Capture FPS: 26.6
2026-01-13 11:45:10,077 [INFO] GateNode:     - Frames dropped (AI queue): 1512
2026-01-13 11:45:10,077 [INFO] GateNode:     - Frames dropped (stream): 383
2026-01-13 11:45:10,078 [INFO] GateNode:   Detection optimization:
2026-01-13 11:45:10,078 [INFO] GateNode:     - Detections run: 50
2026-01-13 11:45:10,079 [INFO] GateNode:     - Detections skipped: 0
2026-01-13 11:45:10,080 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-13 11:45:10,081 [INFO] GateNode:   Unique tracks created: 5
2026-01-13 11:45:10,082 [INFO] GateNode:   Tracks confirmed: 5
2026-01-13 11:45:10,082 [INFO] GateNode:   Tracks recognized: 7
2026-01-13 11:45:10,082 [INFO] GateNode:   People counts:
2026-01-13 11:45:10,083 [INFO] GateNode:     - Authorized: 5
2026-01-13 11:45:10,083 [INFO] GateNode:     - Wanted: 2
2026-01-13 11:45:10,085 [INFO] GateNode:     - Unknown: 0
2026-01-13 11:45:10,085 [INFO] GateNode:   Gate opens: 7
2026-01-13 11:45:10,086 [INFO] GateNode:     - Authorized: 5
2026-01-13 11:45:10,086 [INFO] GateNode:     - Wanted: 2
2026-01-13 11:45:10,087 [INFO] GateNode:     - Rejected: 0
2026-01-13 11:45:10,087 [INFO] GateNode: ==================================================
2026-01-16 13:35:17,271 [INFO] GateNode: ==================================================
2026-01-16 13:35:17,287 [INFO] GateNode: Gate Node starting: gate-001
2026-01-16 13:35:17,306 [INFO] GateNode: Organization: DKUT
2026-01-16 13:35:17,308 [INFO] GateNode: ==================================================
2026-01-16 13:35:17,310 [INFO] GateNode: Initializing storage...
2026-01-16 13:35:17,403 [INFO] storage.face_db: Loaded 15 face records from metadata
2026-01-16 13:35:17,443 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-16 13:35:17,472 [INFO] storage.face_db: Current sync version: 2026-01-13T08:44:11.380946+00:00
2026-01-16 13:35:17,594 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-16 13:35:17,595 [INFO] GateNode: Storage initialized: 15 faces in database
2026-01-16 13:35:17,600 [INFO] GateNode: Initializing vision pipeline...
2026-01-16 13:35:19,514 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-16 13:35:19,514 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-16 13:35:22,916 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-16 13:35:22,917 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-16 13:35:22,919 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=1, max_age=30, max_emb_dist=1.0
2026-01-16 13:35:22,919 [INFO] GateNode: Vision pipeline initialized
2026-01-16 13:35:22,922 [INFO] GateNode: Initializing gate controller...
2026-01-16 13:35:22,923 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-16 13:35:22,923 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-16 13:35:22,924 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-16 13:35:22,926 [INFO] threads.capture: Capture thread starting...
2026-01-16 13:35:24,496 [INFO] threads.capture: Camera opened: 640x480 @ 30.0fps
2026-01-16 13:35:24,497 [INFO] threads.capture: Capture thread running at 30 FPS target
2026-01-16 13:35:24,541 [INFO] GateNode: Camera opened: 640x480 @ 30fps
2026-01-16 13:35:24,614 [INFO] core.alarm: AlarmSystem initialized for platform: windows
2026-01-16 13:35:24,615 [INFO] GateNode: Alarm system initialized
2026-01-16 13:35:24,618 [INFO] GateNode: Initializing worker threads...
2026-01-16 13:35:24,641 [INFO] GateNode: Recognition thread pool initialized (2 workers)
2026-01-16 13:35:24,642 [INFO] GateNode: Streaming disabled (MQTT/LiveKit not configured or unavailable)
2026-01-16 13:35:24,642 [INFO] GateNode: Worker threads initialized
2026-01-16 13:35:24,646 [INFO] threads.sync: Sync thread started
2026-01-16 13:35:24,646 [INFO] GateNode: Sync thread started
2026-01-16 13:35:24,647 [INFO] threads.sync: [INIT] HNSW database: 15 faces, version: 2026-01-13T08:44:11.380946+00:00
2026-01-16 13:35:24,648 [INFO] threads.ui_v2: UI thread starting in continuous mode
2026-01-16 13:35:24,648 [INFO] GateNode: UI thread started
2026-01-16 13:35:24,650 [INFO] threads.sync: Syncing faces from https://gate-backend-production-3b50.up.railway.app/api/v1/faces/sync (current version: 2026-01-13T08:44:11.380946+00:00)
2026-01-16 13:35:24,652 [INFO] GateNode: Gate Node started successfully
2026-01-16 13:35:24,654 [INFO] GateNode: Starting main vision loop...
2026-01-16 13:35:25,086 [INFO] threads.ui_v2: Display window created: 1280x720
2026-01-16 13:35:30,942 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-16T10:35:30.008766+00:00
2026-01-16 13:35:30,943 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-16 13:35:40,933 [INFO] core.gate_control: ACCESS GRANTED: ee6ec557-8786-4ff1-ac3a-77f12854e63d (confidence: 0.60)
2026-01-16 13:35:40,940 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-16 13:35:41,089 [INFO] storage.logs: Logged access event #29: AUTHORIZED -> AUTHORIZED
2026-01-16 13:35:41,092 [INFO] GateNode: Track 1 recognized: AUTHORIZED (Stephen Njiu, conf=0.60)
2026-01-16 13:35:47,940 [INFO] core.gate_control: Gate auto-closed
2026-01-16 13:35:56,083 [INFO] core.gate_control: ACCESS GRANTED: ee6ec557-8786-4ff1-ac3a-77f12854e63d (confidence: 0.52)
2026-01-16 13:35:56,096 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-16 13:35:56,215 [INFO] storage.logs: Logged access event #30: AUTHORIZED -> AUTHORIZED
2026-01-16 13:35:56,216 [INFO] GateNode: Track 2 recognized: AUTHORIZED (Stephen Njiu, conf=0.52)
2026-01-16 13:36:03,098 [INFO] core.gate_control: Gate auto-closed
2026-01-16 13:36:14,533 [INFO] GateNode: Track 4 marked UNKNOWN after 3 attempts
2026-01-16 13:36:15,286 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-16 13:36:15,287 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-16 13:36:18,413 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 4)
2026-01-16 13:36:28,884 [INFO] core.gate_control: ACCESS GRANTED: ee6ec557-8786-4ff1-ac3a-77f12854e63d (confidence: 0.51)
2026-01-16 13:36:28,901 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-16 13:36:29,038 [INFO] storage.logs: Logged access event #31: AUTHORIZED -> AUTHORIZED
2026-01-16 13:36:29,042 [INFO] GateNode: Track 5 recognized: AUTHORIZED (Stephen Njiu, conf=0.51)
2026-01-16 13:36:35,910 [INFO] core.gate_control: Gate auto-closed
2026-01-16 13:36:51,126 [INFO] GateNode: Track 6 marked UNKNOWN after 3 attempts
2026-01-16 13:36:52,289 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 6)
2026-01-16 13:36:52,289 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-16 13:37:26,144 [INFO] threads.sync: Syncing faces from https://gate-backend-production-3b50.up.railway.app/api/v1/faces/sync (current version: 2026-01-13T08:44:11.380946+00:00)
2026-01-16 13:37:28,986 [INFO] core.gate_control: ACCESS GRANTED: ee6ec557-8786-4ff1-ac3a-77f12854e63d (confidence: 0.60)
2026-01-16 13:37:29,024 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-16 13:37:29,147 [INFO] storage.logs: Logged access event #32: AUTHORIZED -> AUTHORIZED
2026-01-16 13:37:29,151 [INFO] GateNode: Track 7 recognized: AUTHORIZED (Stephen Njiu, conf=0.60)
2026-01-16 13:37:29,420 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-16T10:37:29.132822+00:00
2026-01-16 13:37:29,420 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-16 13:37:36,039 [INFO] core.gate_control: Gate auto-closed
2026-01-16 13:37:47,612 [INFO] core.gate_control: ACCESS GRANTED: 9c8ff4fe-6326-4886-90ce-61bfdabd6bb7 (confidence: 0.63)
2026-01-16 13:37:47,623 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-16 13:37:48,582 [INFO] storage.logs: Logged access event #33: AUTHORIZED -> AUTHORIZED
2026-01-16 13:37:48,588 [INFO] GateNode: Track 9 recognized: AUTHORIZED (Stephen Njiu, conf=0.63)
2026-01-16 13:37:54,624 [INFO] core.gate_control: Gate auto-closed
2026-01-16 13:38:17,472 [INFO] GateNode: Track 11 marked UNKNOWN after 3 attempts
2026-01-16 13:38:18,565 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 11)
2026-01-16 13:38:18,583 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-16 13:38:22,139 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 11)
2026-01-16 13:38:25,793 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 11)
2026-01-16 13:38:25,794 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-16 13:38:28,915 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 11)
2026-01-16 13:38:46,378 [INFO] core.gate_control: ACCESS GRANTED: fb82c4b7-35b2-43ed-b7f9-f0425e88c47c (confidence: 0.51)
2026-01-16 13:38:46,419 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-16 13:38:46,560 [INFO] storage.logs: Logged access event #34: AUTHORIZED -> AUTHORIZED
2026-01-16 13:38:46,563 [INFO] GateNode: Track 12 recognized: AUTHORIZED (Stephen Njiu, conf=0.51)
2026-01-16 13:38:53,423 [INFO] core.gate_control: Gate auto-closed
2026-01-16 13:38:57,716 [INFO] core.gate_control: ACCESS GRANTED: 0314847c-43af-4f06-9d5d-2f4c9a20182a (confidence: 0.62)
2026-01-16 13:38:57,742 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-16 13:38:57,883 [INFO] storage.logs: Logged access event #35: AUTHORIZED -> AUTHORIZED
2026-01-16 13:38:57,885 [INFO] GateNode: Track 13 recognized: AUTHORIZED (Stephen Njiu, conf=0.62)
2026-01-16 13:39:04,758 [INFO] core.gate_control: Gate auto-closed
2026-01-16 13:39:23,725 [INFO] core.gate_control: ACCESS GRANTED: 0314847c-43af-4f06-9d5d-2f4c9a20182a (confidence: 0.57)
2026-01-16 13:39:23,748 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-16 13:39:23,883 [INFO] storage.logs: Logged access event #36: AUTHORIZED -> AUTHORIZED
2026-01-16 13:39:23,884 [INFO] GateNode: Track 14 recognized: AUTHORIZED (Stephen Njiu, conf=0.57)
2026-01-16 13:39:29,716 [INFO] threads.sync: Syncing faces from https://gate-backend-production-3b50.up.railway.app/api/v1/faces/sync (current version: 2026-01-13T08:44:11.380946+00:00)
2026-01-16 13:39:30,751 [INFO] core.gate_control: Gate auto-closed
2026-01-16 13:39:30,871 [INFO] threads.ui_v2: Display mode changed to: streaming
2026-01-16 13:39:32,298 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-16T10:39:32.010011+00:00
2026-01-16 13:39:32,300 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-16 13:39:32,333 [INFO] threads.ui_v2: Display mode changed to: alert_only
2026-01-16 13:39:39,424 [INFO] threads.ui_v2: UI thread stopped
2026-01-16 13:39:50,398 [INFO] GateNode: Received signal 2
2026-01-16 13:39:50,399 [INFO] GateNode: Gate Node shutting down...
2026-01-16 13:39:50,399 [INFO] core.singletons: ONNXSessionManager initialized with providers: ['CPUExecutionProvider']
2026-01-16 13:39:50,399 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-16 13:39:50,400 [INFO] core.singletons: All singleton resources cleaned up
2026-01-16 13:39:50,400 [INFO] GateNode: Recognition executor shutdown
2026-01-16 13:39:50,400 [INFO] threads.sync: Sync thread stopped
2026-01-16 13:39:50,955 [INFO] threads.capture: Capture thread stopped
2026-01-16 13:39:50,957 [INFO] GateNode: Received signal 2
2026-01-16 13:39:50,957 [INFO] GateNode: Gate Node shutting down...
2026-01-16 13:39:50,958 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-16 13:39:50,959 [INFO] core.singletons: All singleton resources cleaned up
2026-01-16 13:39:50,960 [INFO] GateNode: Recognition executor shutdown
2026-01-16 13:39:52,974 [INFO] storage.logs: Access logger closed
2026-01-16 13:39:52,974 [INFO] GateNode: Gate Node stopped
2026-01-16 13:39:52,975 [INFO] GateNode: ==================================================
2026-01-16 13:39:52,975 [INFO] GateNode: Session Statistics:
2026-01-16 13:39:52,976 [INFO] GateNode:   Runtime: 268.3s
2026-01-16 13:39:52,976 [INFO] GateNode:   Frames processed (AI): 253
2026-01-16 13:39:52,976 [INFO] GateNode:   Average AI FPS: 0.9
2026-01-16 13:39:52,977 [INFO] GateNode:   Camera capture:
2026-01-16 13:39:52,977 [INFO] GateNode:     - Frames captured: 7489
2026-01-16 13:39:52,977 [INFO] GateNode:     - Capture FPS: 28.8
2026-01-16 13:39:52,977 [INFO] GateNode:     - Frames dropped (AI queue): 7234
2026-01-16 13:39:52,978 [INFO] GateNode:     - Frames dropped (stream): 531
2026-01-16 13:39:52,978 [INFO] GateNode:   Detection optimization:
2026-01-16 13:39:52,978 [INFO] GateNode:     - Detections run: 252
2026-01-16 13:39:52,979 [INFO] GateNode:     - Detections skipped: 0
2026-01-16 13:39:52,979 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-16 13:39:52,979 [INFO] GateNode:   Unique tracks created: 14
2026-01-16 13:39:52,980 [INFO] GateNode:   Tracks confirmed: 11
2026-01-16 13:39:52,980 [INFO] GateNode:   Tracks recognized: 11
2026-01-16 13:39:52,980 [INFO] GateNode:   People counts:
2026-01-16 13:39:52,981 [INFO] GateNode:     - Authorized: 8
2026-01-16 13:39:52,981 [INFO] GateNode:     - Wanted: 0
2026-01-16 13:39:52,981 [INFO] GateNode:     - Unknown: 3
2026-01-16 13:39:52,982 [INFO] GateNode:   Gate opens: 8
2026-01-16 13:39:52,982 [INFO] GateNode:     - Authorized: 8
2026-01-16 13:39:52,982 [INFO] GateNode:     - Wanted: 0
2026-01-16 13:39:52,982 [INFO] GateNode:     - Rejected: 0
2026-01-16 13:39:52,983 [INFO] GateNode: ==================================================
2026-01-16 13:39:52,983 [INFO] GateNode: Gate Node shutting down...
2026-01-16 13:39:52,983 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-16 13:39:52,984 [INFO] core.singletons: All singleton resources cleaned up
2026-01-16 13:39:52,984 [INFO] GateNode: Recognition executor shutdown
2026-01-16 13:39:52,984 [INFO] storage.logs: Access logger closed
2026-01-16 13:39:52,985 [INFO] GateNode: Gate Node stopped
2026-01-16 13:39:52,985 [INFO] GateNode: ==================================================
2026-01-16 13:39:52,985 [INFO] GateNode: Session Statistics:
2026-01-16 13:39:52,986 [INFO] GateNode:   Runtime: 268.3s
2026-01-16 13:39:52,986 [INFO] GateNode:   Frames processed (AI): 253
2026-01-16 13:39:52,986 [INFO] GateNode:   Average AI FPS: 0.9
2026-01-16 13:39:52,987 [INFO] GateNode:   Camera capture:
2026-01-16 13:39:52,987 [INFO] GateNode:     - Frames captured: 7489
2026-01-16 13:39:52,987 [INFO] GateNode:     - Capture FPS: 28.8
2026-01-16 13:39:52,988 [INFO] GateNode:     - Frames dropped (AI queue): 7234
2026-01-16 13:39:52,988 [INFO] GateNode:     - Frames dropped (stream): 531
2026-01-16 13:39:52,988 [INFO] GateNode:   Detection optimization:
2026-01-16 13:39:52,989 [INFO] GateNode:     - Detections run: 252
2026-01-16 13:39:52,989 [INFO] GateNode:     - Detections skipped: 0
2026-01-16 13:39:52,989 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-16 13:39:52,989 [INFO] GateNode:   Unique tracks created: 14
2026-01-16 13:39:52,990 [INFO] GateNode:   Tracks confirmed: 11
2026-01-16 13:39:52,990 [INFO] GateNode:   Tracks recognized: 11
2026-01-16 13:39:52,991 [INFO] GateNode:   People counts:
2026-01-16 13:39:52,991 [INFO] GateNode:     - Authorized: 8
2026-01-16 13:39:52,991 [INFO] GateNode:     - Wanted: 0
2026-01-16 13:39:52,992 [INFO] GateNode:     - Unknown: 3
2026-01-16 13:39:52,992 [INFO] GateNode:   Gate opens: 8
2026-01-16 13:39:52,992 [INFO] GateNode:     - Authorized: 8
2026-01-16 13:39:52,992 [INFO] GateNode:     - Wanted: 0
2026-01-16 13:39:52,993 [INFO] GateNode:     - Rejected: 0
2026-01-16 13:39:52,993 [INFO] GateNode: ==================================================
2026-01-16 13:41:30,690 [INFO] GateNode: ==================================================
2026-01-16 13:41:30,691 [INFO] GateNode: Gate Node starting: gate-001
2026-01-16 13:41:30,691 [INFO] GateNode: Organization: DKUT
2026-01-16 13:41:30,691 [INFO] GateNode: ==================================================
2026-01-16 13:41:30,692 [INFO] GateNode: Initializing storage...
2026-01-16 13:41:30,696 [INFO] storage.face_db: Loaded 15 face records from metadata
2026-01-16 13:41:30,700 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-16 13:41:30,701 [INFO] storage.face_db: Current sync version: 2026-01-13T08:44:11.380946+00:00
2026-01-16 13:41:30,704 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-16 13:41:30,704 [INFO] GateNode: Storage initialized: 15 faces in database
2026-01-16 13:41:30,705 [INFO] GateNode: Initializing vision pipeline...
2026-01-16 13:41:31,055 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-16 13:41:31,056 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-16 13:41:34,182 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-16 13:41:34,182 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-16 13:41:34,183 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=1, max_age=30, max_emb_dist=1.0
2026-01-16 13:41:34,183 [INFO] GateNode: Vision pipeline initialized
2026-01-16 13:41:34,183 [INFO] GateNode: Initializing gate controller...
2026-01-16 13:41:34,183 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-16 13:41:34,184 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-16 13:41:34,184 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-16 13:41:34,185 [INFO] threads.capture: Capture thread starting...
2026-01-16 13:41:34,668 [INFO] threads.capture: Camera opened: 640x480 @ 30.0fps
2026-01-16 13:41:34,668 [INFO] threads.capture: Capture thread running at 30 FPS target
2026-01-16 13:41:34,689 [INFO] GateNode: Camera opened: 640x480 @ 30fps
2026-01-16 13:41:34,691 [INFO] core.alarm: AlarmSystem initialized for platform: windows
2026-01-16 13:41:34,692 [INFO] GateNode: Alarm system initialized
2026-01-16 13:41:34,693 [INFO] GateNode: Initializing worker threads...
2026-01-16 13:41:34,693 [INFO] GateNode: Recognition thread pool initialized (2 workers)
2026-01-16 13:41:34,694 [INFO] GateNode: Streaming disabled (MQTT/LiveKit not configured or unavailable)
2026-01-16 13:41:34,696 [INFO] GateNode: Worker threads initialized
2026-01-16 13:41:34,700 [INFO] threads.sync: Sync thread started
2026-01-16 13:41:34,700 [INFO] GateNode: Sync thread started
2026-01-16 13:41:34,700 [INFO] threads.sync: [INIT] HNSW database: 15 faces, version: 2026-01-13T08:44:11.380946+00:00
2026-01-16 13:41:34,702 [INFO] threads.ui_v2: UI thread starting in continuous mode
2026-01-16 13:41:34,702 [INFO] GateNode: UI thread started
2026-01-16 13:41:34,702 [INFO] threads.sync: Syncing faces from https://gate-backend-production-3b50.up.railway.app/api/v1/faces/sync (current version: 2026-01-13T08:44:11.380946+00:00)
2026-01-16 13:41:34,704 [INFO] GateNode: Gate Node started successfully
2026-01-16 13:41:34,706 [INFO] GateNode: Starting main vision loop...
2026-01-16 13:41:34,743 [INFO] threads.ui_v2: Display window created: 1280x720
2026-01-16 13:41:37,968 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-16T10:41:37.613852+00:00
2026-01-16 13:41:37,978 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-16 13:41:38,136 [INFO] core.gate_control: ACCESS GRANTED: 0314847c-43af-4f06-9d5d-2f4c9a20182a (confidence: 0.72)
2026-01-16 13:41:38,144 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-16 13:41:38,264 [INFO] storage.logs: Logged access event #37: AUTHORIZED -> AUTHORIZED
2026-01-16 13:41:38,265 [INFO] GateNode: Track 1 recognized: AUTHORIZED (Stephen Njiu, conf=0.72)
2026-01-16 13:41:45,145 [INFO] core.gate_control: Gate auto-closed
2026-01-16 13:41:55,378 [INFO] core.gate_control: ACCESS GRANTED: ee6ec557-8786-4ff1-ac3a-77f12854e63d (confidence: 0.67)
2026-01-16 13:41:55,419 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-16 13:41:55,576 [INFO] storage.logs: Logged access event #38: AUTHORIZED -> AUTHORIZED
2026-01-16 13:41:55,577 [INFO] GateNode: Track 2 recognized: AUTHORIZED (Stephen Njiu, conf=0.67)
2026-01-16 13:42:02,432 [INFO] core.gate_control: Gate auto-closed
2026-01-16 13:42:33,395 [INFO] core.gate_control: ACCESS GRANTED: 9c8ff4fe-6326-4886-90ce-61bfdabd6bb7 (confidence: 0.54)
2026-01-16 13:42:33,401 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-16 13:42:33,554 [INFO] storage.logs: Logged access event #39: AUTHORIZED -> AUTHORIZED
2026-01-16 13:42:33,555 [INFO] GateNode: Track 4 recognized: AUTHORIZED (Stephen Njiu, conf=0.54)
2026-01-16 13:42:40,402 [INFO] core.gate_control: Gate auto-closed
2026-01-16 13:42:54,137 [INFO] GateNode: Track 5 marked UNKNOWN after 3 attempts
2026-01-16 13:42:55,024 [INFO] threads.ui_v2: Alert shown: UNKNOWN - Unknown (track 5)
2026-01-16 13:42:55,024 [WARNING] core.alarm: ALARM TRIGGERED: UNKNOWN
2026-01-16 13:43:20,762 [INFO] core.gate_control: ACCESS GRANTED: 9c8ff4fe-6326-4886-90ce-61bfdabd6bb7 (confidence: 0.56)
2026-01-16 13:43:20,798 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-16 13:43:20,958 [INFO] storage.logs: Logged access event #40: AUTHORIZED -> AUTHORIZED
2026-01-16 13:43:20,960 [INFO] GateNode: Track 6 recognized: AUTHORIZED (Stephen Njiu, conf=0.56)
2026-01-16 13:43:27,798 [INFO] core.gate_control: Gate auto-closed
2026-01-16 13:43:38,117 [INFO] threads.sync: Syncing faces from https://gate-backend-production-3b50.up.railway.app/api/v1/faces/sync (current version: 2026-01-13T08:44:11.380946+00:00)
2026-01-16 13:43:41,723 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-16T10:43:40.923508+00:00
2026-01-16 13:43:41,723 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-16 13:43:48,264 [INFO] core.gate_control: ACCESS GRANTED: ee6ec557-8786-4ff1-ac3a-77f12854e63d (confidence: 0.51)
2026-01-16 13:43:48,275 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-16 13:43:48,423 [INFO] storage.logs: Logged access event #41: AUTHORIZED -> AUTHORIZED
2026-01-16 13:43:48,423 [INFO] GateNode: Track 7 recognized: AUTHORIZED (Stephen Njiu, conf=0.51)
2026-01-16 13:43:49,586 [INFO] threads.ui_v2: UI thread stopped
2026-01-16 13:43:52,661 [INFO] GateNode: Received signal 2
2026-01-16 13:43:52,662 [INFO] GateNode: Gate Node shutting down...
2026-01-16 13:43:52,664 [INFO] core.singletons: ONNXSessionManager initialized with providers: ['CPUExecutionProvider']
2026-01-16 13:43:52,667 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-16 13:43:52,668 [INFO] core.singletons: All singleton resources cleaned up
2026-01-16 13:43:52,669 [INFO] GateNode: Recognition executor shutdown
2026-01-16 13:43:52,670 [INFO] threads.sync: Sync thread stopped
2026-01-16 13:43:53,076 [INFO] threads.capture: Capture thread stopped
2026-01-16 13:43:53,079 [INFO] storage.logs: Access logger closed
2026-01-16 13:43:53,080 [INFO] GateNode: Gate Node stopped
2026-01-16 13:43:53,082 [INFO] GateNode: ==================================================
2026-01-16 13:43:53,085 [INFO] GateNode: Session Statistics:
2026-01-16 13:43:53,086 [INFO] GateNode:   Runtime: 138.4s
2026-01-16 13:43:53,087 [INFO] GateNode:   Frames processed (AI): 140
2026-01-16 13:43:53,088 [INFO] GateNode:   Average AI FPS: 1.0
2026-01-16 13:43:53,089 [INFO] GateNode:   Camera capture:
2026-01-16 13:43:53,089 [INFO] GateNode:     - Frames captured: 3939
2026-01-16 13:43:53,090 [INFO] GateNode:     - Capture FPS: 29.0
2026-01-16 13:43:53,091 [INFO] GateNode:     - Frames dropped (AI queue): 3797
2026-01-16 13:43:53,093 [INFO] GateNode:     - Frames dropped (stream): 104
2026-01-16 13:43:53,094 [INFO] GateNode:   Detection optimization:
2026-01-16 13:43:53,097 [INFO] GateNode:     - Detections run: 139
2026-01-16 13:43:53,098 [INFO] GateNode:     - Detections skipped: 0
2026-01-16 13:43:53,098 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-16 13:43:53,098 [INFO] GateNode:   Unique tracks created: 7
2026-01-16 13:43:53,099 [INFO] GateNode:   Tracks confirmed: 6
2026-01-16 13:43:53,099 [INFO] GateNode:   Tracks recognized: 6
2026-01-16 13:43:53,101 [INFO] GateNode:   People counts:
2026-01-16 13:43:53,102 [INFO] GateNode:     - Authorized: 5
2026-01-16 13:43:53,102 [INFO] GateNode:     - Wanted: 0
2026-01-16 13:43:53,103 [INFO] GateNode:     - Unknown: 1
2026-01-16 13:43:53,104 [INFO] GateNode:   Gate opens: 5
2026-01-16 13:43:53,105 [INFO] GateNode:     - Authorized: 5
2026-01-16 13:43:53,105 [INFO] GateNode:     - Wanted: 0
2026-01-16 13:43:53,107 [INFO] GateNode:     - Rejected: 0
2026-01-16 13:43:53,109 [INFO] GateNode: ==================================================
2026-01-16 13:43:53,109 [INFO] GateNode: Gate Node shutting down...
2026-01-16 13:43:53,111 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-16 13:43:53,111 [INFO] core.singletons: All singleton resources cleaned up
2026-01-16 13:43:53,112 [INFO] GateNode: Recognition executor shutdown
2026-01-16 13:43:53,112 [INFO] storage.logs: Access logger closed
2026-01-16 13:43:53,112 [INFO] GateNode: Gate Node stopped
2026-01-16 13:43:53,113 [INFO] GateNode: ==================================================
2026-01-16 13:43:53,113 [INFO] GateNode: Session Statistics:
2026-01-16 13:43:53,114 [INFO] GateNode:   Runtime: 138.4s
2026-01-16 13:43:53,115 [INFO] GateNode:   Frames processed (AI): 140
2026-01-16 13:43:53,115 [INFO] GateNode:   Average AI FPS: 1.0
2026-01-16 13:43:53,117 [INFO] GateNode:   Camera capture:
2026-01-16 13:43:53,117 [INFO] GateNode:     - Frames captured: 3939
2026-01-16 13:43:53,119 [INFO] GateNode:     - Capture FPS: 29.0
2026-01-16 13:43:53,119 [INFO] GateNode:     - Frames dropped (AI queue): 3797
2026-01-16 13:43:53,120 [INFO] GateNode:     - Frames dropped (stream): 104
2026-01-16 13:43:53,121 [INFO] GateNode:   Detection optimization:
2026-01-16 13:43:53,121 [INFO] GateNode:     - Detections run: 139
2026-01-16 13:43:53,121 [INFO] GateNode:     - Detections skipped: 0
2026-01-16 13:43:53,122 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-16 13:43:53,126 [INFO] GateNode:   Unique tracks created: 7
2026-01-16 13:43:53,127 [INFO] GateNode:   Tracks confirmed: 6
2026-01-16 13:43:53,128 [INFO] GateNode:   Tracks recognized: 6
2026-01-16 13:43:53,128 [INFO] GateNode:   People counts:
2026-01-16 13:43:53,129 [INFO] GateNode:     - Authorized: 5
2026-01-16 13:43:53,129 [INFO] GateNode:     - Wanted: 0
2026-01-16 13:43:53,129 [INFO] GateNode:     - Unknown: 1
2026-01-16 13:43:53,131 [INFO] GateNode:   Gate opens: 5
2026-01-16 13:43:53,131 [INFO] GateNode:     - Authorized: 5
2026-01-16 13:43:53,131 [INFO] GateNode:     - Wanted: 0
2026-01-16 13:43:53,133 [INFO] GateNode:     - Rejected: 0
2026-01-16 13:43:53,134 [INFO] GateNode: ==================================================
2026-01-20 11:03:36,712 [INFO] GateNode: ==================================================
2026-01-20 11:03:36,743 [INFO] GateNode: Gate Node starting: gate-001
2026-01-20 11:03:36,743 [INFO] GateNode: Organization: DKUT
2026-01-20 11:03:36,743 [INFO] GateNode: ==================================================
2026-01-20 11:03:36,743 [INFO] GateNode: Initializing storage...
2026-01-20 11:03:36,853 [INFO] storage.face_db: Loaded 15 face records from metadata
2026-01-20 11:03:36,899 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-20 11:03:36,978 [INFO] storage.face_db: Current sync version: 2026-01-13T08:44:11.380946+00:00
2026-01-20 11:03:37,259 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-20 11:03:37,259 [INFO] GateNode: Storage initialized: 15 faces in database
2026-01-20 11:03:37,259 [INFO] GateNode: Initializing vision pipeline...
2026-01-20 11:03:42,056 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-20 11:03:42,071 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-20 11:03:45,712 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-20 11:03:45,712 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-20 11:03:45,712 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=1, max_age=30, max_emb_dist=1.0
2026-01-20 11:03:45,712 [INFO] GateNode: Vision pipeline initialized
2026-01-20 11:03:45,712 [INFO] GateNode: Initializing gate controller...
2026-01-20 11:03:45,712 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-20 11:03:45,712 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-20 11:03:45,712 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-20 11:03:45,712 [INFO] threads.capture: Capture thread starting...
2026-01-20 11:03:48,730 [ERROR] GateNode: Failed to open camera 0
2026-01-20 11:03:48,730 [ERROR] GateNode: Failed to start Gate Node
2026-01-20 11:04:03,137 [INFO] GateNode: ==================================================
2026-01-20 11:04:03,137 [INFO] GateNode: Gate Node starting: gate-001
2026-01-20 11:04:03,137 [INFO] GateNode: Organization: DKUT
2026-01-20 11:04:03,137 [INFO] GateNode: ==================================================
2026-01-20 11:04:03,137 [INFO] GateNode: Initializing storage...
2026-01-20 11:04:03,153 [INFO] storage.face_db: Loaded 15 face records from metadata
2026-01-20 11:04:03,153 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-20 11:04:03,153 [INFO] storage.face_db: Current sync version: 2026-01-13T08:44:11.380946+00:00
2026-01-20 11:04:03,153 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-20 11:04:03,153 [INFO] GateNode: Storage initialized: 15 faces in database
2026-01-20 11:04:03,153 [INFO] GateNode: Initializing vision pipeline...
2026-01-20 11:04:03,325 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-20 11:04:03,325 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-20 11:04:04,293 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-20 11:04:04,293 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-20 11:04:04,293 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=1, max_age=30, max_emb_dist=1.0
2026-01-20 11:04:04,293 [INFO] GateNode: Vision pipeline initialized
2026-01-20 11:04:04,293 [INFO] GateNode: Initializing gate controller...
2026-01-20 11:04:04,293 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-20 11:04:04,293 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-20 11:04:04,293 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-20 11:04:04,293 [INFO] threads.capture: Capture thread starting...
2026-01-20 11:04:07,318 [ERROR] GateNode: Failed to open camera 0
2026-01-20 11:04:07,318 [ERROR] GateNode: Failed to start Gate Node
2026-01-20 11:04:10,759 [INFO] GateNode: ==================================================
2026-01-20 11:04:10,759 [INFO] GateNode: Gate Node starting: gate-001
2026-01-20 11:04:10,759 [INFO] GateNode: Organization: DKUT
2026-01-20 11:04:10,759 [INFO] GateNode: ==================================================
2026-01-20 11:04:10,759 [INFO] GateNode: Initializing storage...
2026-01-20 11:04:10,759 [INFO] storage.face_db: Loaded 15 face records from metadata
2026-01-20 11:04:10,775 [INFO] storage.face_db: Loaded hnswlib index from data/faces.index
2026-01-20 11:04:10,775 [INFO] storage.face_db: Current sync version: 2026-01-13T08:44:11.380946+00:00
2026-01-20 11:04:10,775 [INFO] storage.logs: Initialized access log database at data/logs.db
2026-01-20 11:04:10,775 [INFO] GateNode: Storage initialized: 15 faces in database
2026-01-20 11:04:10,775 [INFO] GateNode: Initializing vision pipeline...
2026-01-20 11:04:10,907 [INFO] vision.detector: Loaded SCRFD model from ..\backend-fastapi\models\models\buffalo_l\det_10g.onnx
2026-01-20 11:04:10,907 [INFO] vision.detector: Using providers: ['CPUExecutionProvider']
2026-01-20 11:04:11,694 [INFO] vision.recognizer: Loaded ArcFace model from ..\backend-fastapi\models\models\buffalo_l\w600k_r50.onnx
2026-01-20 11:04:11,694 [INFO] vision.recognizer: Embedding dimension: 512
2026-01-20 11:04:11,694 [INFO] vision.tracker: DeepSORT-lite tracker initialized: iou_threshold=0.2, min_hits=1, max_age=30, max_emb_dist=1.0
2026-01-20 11:04:11,694 [INFO] GateNode: Vision pipeline initialized
2026-01-20 11:04:11,694 [INFO] GateNode: Initializing gate controller...
2026-01-20 11:04:11,694 [INFO] core.gate_control: GPIO disabled - gate control in simulation mode
2026-01-20 11:04:11,694 [INFO] GateNode: Gate controller initialized (GPIO disabled - mock mode)
2026-01-20 11:04:11,694 [INFO] GateNode: Opening camera 0 via capture thread...
2026-01-20 11:04:11,709 [INFO] threads.capture: Capture thread starting...
2026-01-20 11:04:12,443 [INFO] threads.capture: Camera opened: 640x480 @ 30.0fps
2026-01-20 11:04:12,443 [INFO] threads.capture: Capture thread running at 30 FPS target
2026-01-20 11:04:12,527 [INFO] GateNode: Camera opened: 640x480 @ 30fps
2026-01-20 11:04:12,543 [INFO] core.alarm: AlarmSystem initialized for platform: windows
2026-01-20 11:04:12,543 [INFO] GateNode: Alarm system initialized
2026-01-20 11:04:12,543 [INFO] GateNode: Initializing worker threads...
2026-01-20 11:04:12,543 [INFO] GateNode: Recognition thread pool initialized (2 workers)
2026-01-20 11:04:12,543 [INFO] GateNode: Streaming disabled (MQTT/LiveKit not configured or unavailable)
2026-01-20 11:04:12,543 [INFO] GateNode: Worker threads initialized
2026-01-20 11:04:12,543 [INFO] threads.sync: Sync thread started
2026-01-20 11:04:12,543 [INFO] GateNode: Sync thread started
2026-01-20 11:04:12,543 [INFO] threads.sync: [INIT] HNSW database: 15 faces, version: 2026-01-13T08:44:11.380946+00:00
2026-01-20 11:04:12,559 [INFO] threads.sync: Syncing faces from https://gate-backend-production-3b50.up.railway.app/api/v1/faces/sync (current version: 2026-01-13T08:44:11.380946+00:00)
2026-01-20 11:04:12,559 [INFO] threads.ui_v2: UI thread starting in continuous mode
2026-01-20 11:04:12,559 [INFO] GateNode: UI thread started
2026-01-20 11:04:12,563 [INFO] GateNode: Gate Node started successfully
2026-01-20 11:04:12,563 [INFO] GateNode: Starting main vision loop...
2026-01-20 11:04:12,980 [INFO] threads.ui_v2: Display window created: 1280x720
2026-01-20 11:04:19,153 [INFO] core.gate_control: ACCESS GRANTED: 9c8ff4fe-6326-4886-90ce-61bfdabd6bb7 (confidence: 0.68)
2026-01-20 11:04:19,164 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-20 11:04:19,317 [INFO] threads.sync: API returned: 0 upserts, 0 deletes, version: 2026-01-20T08:04:17.739767+00:00
2026-01-20 11:04:19,317 [INFO] threads.sync: No updates from backend (database up to date)
2026-01-20 11:04:19,371 [INFO] storage.logs: Logged access event #42: AUTHORIZED -> AUTHORIZED
2026-01-20 11:04:19,375 [INFO] GateNode: Track 1 recognized: AUTHORIZED (Stephen Njiu, conf=0.68)
2026-01-20 11:04:21,841 [INFO] vision.tracker: Track 1: Appearance changed significantly (distance=0.77). Resetting for re-recognition.
2026-01-20 11:04:22,655 [INFO] core.gate_control: ACCESS GRANTED: 9c8ff4fe-6326-4886-90ce-61bfdabd6bb7 (confidence: 0.77)
2026-01-20 11:04:22,665 [INFO] core.gate_control: Gate EXTENDED (will close in 7.0s)
2026-01-20 11:04:22,754 [INFO] storage.logs: Logged access event #43: AUTHORIZED -> AUTHORIZED
2026-01-20 11:04:22,755 [INFO] GateNode: Track 1 recognized: AUTHORIZED (Stephen Njiu, conf=0.77)
2026-01-20 11:04:29,673 [INFO] core.gate_control: Gate auto-closed
2026-01-20 11:04:35,848 [INFO] threads.ui_v2: Display mode changed to: streaming
2026-01-20 11:04:58,143 [INFO] threads.ui_v2: Display mode changed to: alert_only
2026-01-20 11:05:02,514 [INFO] core.gate_control: ACCESS GRANTED: 9c8ff4fe-6326-4886-90ce-61bfdabd6bb7 (confidence: 0.78)
2026-01-20 11:05:02,516 [INFO] core.gate_control: Gate OPENED (will close in 7.0s)
2026-01-20 11:05:02,823 [INFO] storage.logs: Logged access event #44: AUTHORIZED -> AUTHORIZED
2026-01-20 11:05:02,834 [INFO] GateNode: Track 2 recognized: AUTHORIZED (Stephen Njiu, conf=0.78)
2026-01-20 11:05:05,445 [INFO] threads.ui_v2: Display mode changed to: continuous
2026-01-20 11:05:05,957 [INFO] threads.ui_v2: Display mode changed to: streaming
2026-01-20 11:05:07,154 [INFO] threads.ui_v2: Display mode changed to: alert_only
2026-01-20 11:05:07,747 [INFO] threads.ui_v2: Display mode changed to: continuous
2026-01-20 11:05:09,521 [INFO] core.gate_control: Gate auto-closed
2026-01-20 11:05:22,196 [INFO] threads.ui_v2: UI thread stopped
2026-01-20 11:05:35,746 [INFO] GateNode: Received signal 2
2026-01-20 11:05:35,746 [INFO] GateNode: Gate Node shutting down...
2026-01-20 11:05:35,746 [INFO] core.singletons: ONNXSessionManager initialized with providers: ['CPUExecutionProvider']
2026-01-20 11:05:35,754 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-20 11:05:35,754 [INFO] core.singletons: All singleton resources cleaned up
2026-01-20 11:05:35,754 [INFO] GateNode: Recognition executor shutdown
2026-01-20 11:05:35,756 [INFO] threads.sync: Sync thread stopped
2026-01-20 11:05:36,289 [INFO] threads.capture: Capture thread stopped
2026-01-20 11:05:36,289 [INFO] GateNode: Received signal 2
2026-01-20 11:05:36,291 [INFO] GateNode: Gate Node shutting down...
2026-01-20 11:05:36,293 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-20 11:05:36,293 [INFO] core.singletons: All singleton resources cleaned up
2026-01-20 11:05:36,293 [INFO] GateNode: Recognition executor shutdown
2026-01-20 11:05:38,298 [INFO] GateNode: Received signal 2
2026-01-20 11:05:38,298 [INFO] GateNode: Gate Node shutting down...
2026-01-20 11:05:38,298 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-20 11:05:38,298 [INFO] core.singletons: All singleton resources cleaned up
2026-01-20 11:05:38,298 [INFO] GateNode: Recognition executor shutdown
2026-01-20 11:05:40,305 [INFO] storage.logs: Access logger closed
2026-01-20 11:05:40,305 [INFO] GateNode: Gate Node stopped
2026-01-20 11:05:40,305 [INFO] GateNode: ==================================================
2026-01-20 11:05:40,305 [INFO] GateNode: Session Statistics:
2026-01-20 11:05:40,305 [INFO] GateNode:   Runtime: 87.7s
2026-01-20 11:05:40,305 [INFO] GateNode:   Frames processed (AI): 69
2026-01-20 11:05:40,305 [INFO] GateNode:   Average AI FPS: 0.8
2026-01-20 11:05:40,305 [INFO] GateNode:   Camera capture:
2026-01-20 11:05:40,305 [INFO] GateNode:     - Frames captured: 2061
2026-01-20 11:05:40,305 [INFO] GateNode:     - Capture FPS: 24.7
2026-01-20 11:05:40,305 [INFO] GateNode:     - Frames dropped (AI queue): 1990
2026-01-20 11:05:40,305 [INFO] GateNode:     - Frames dropped (stream): 541
2026-01-20 11:05:40,305 [INFO] GateNode:   Detection optimization:
2026-01-20 11:05:40,305 [INFO] GateNode:     - Detections run: 68
2026-01-20 11:05:40,305 [INFO] GateNode:     - Detections skipped: 0
2026-01-20 11:05:40,305 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-20 11:05:40,311 [INFO] GateNode:   Unique tracks created: 2
2026-01-20 11:05:40,311 [INFO] GateNode:   Tracks confirmed: 2
2026-01-20 11:05:40,311 [INFO] GateNode:   Tracks recognized: 3
2026-01-20 11:05:40,311 [INFO] GateNode:   People counts:
2026-01-20 11:05:40,311 [INFO] GateNode:     - Authorized: 3
2026-01-20 11:05:40,311 [INFO] GateNode:     - Wanted: 0
2026-01-20 11:05:40,311 [INFO] GateNode:     - Unknown: 0
2026-01-20 11:05:40,311 [INFO] GateNode:   Gate opens: 3
2026-01-20 11:05:40,311 [INFO] GateNode:     - Authorized: 3
2026-01-20 11:05:40,311 [INFO] GateNode:     - Wanted: 0
2026-01-20 11:05:40,311 [INFO] GateNode:     - Rejected: 0
2026-01-20 11:05:40,311 [INFO] GateNode: ==================================================
2026-01-20 11:05:40,311 [INFO] GateNode: Gate Node shutting down...
2026-01-20 11:05:40,311 [INFO] core.singletons: ONNXSessionManager cleaned up
2026-01-20 11:05:40,311 [INFO] core.singletons: All singleton resources cleaned up
2026-01-20 11:05:40,311 [INFO] GateNode: Recognition executor shutdown
2026-01-20 11:05:40,311 [INFO] storage.logs: Access logger closed
2026-01-20 11:05:40,311 [INFO] GateNode: Gate Node stopped
2026-01-20 11:05:40,311 [INFO] GateNode: ==================================================
2026-01-20 11:05:40,311 [INFO] GateNode: Session Statistics:
2026-01-20 11:05:40,311 [INFO] GateNode:   Runtime: 87.7s
2026-01-20 11:05:40,311 [INFO] GateNode:   Frames processed (AI): 69
2026-01-20 11:05:40,311 [INFO] GateNode:   Average AI FPS: 0.8
2026-01-20 11:05:40,311 [INFO] GateNode:   Camera capture:
2026-01-20 11:05:40,311 [INFO] GateNode:     - Frames captured: 2061
2026-01-20 11:05:40,327 [INFO] GateNode:     - Capture FPS: 24.7
2026-01-20 11:05:40,327 [INFO] GateNode:     - Frames dropped (AI queue): 1990
2026-01-20 11:05:40,327 [INFO] GateNode:     - Frames dropped (stream): 541
2026-01-20 11:05:40,327 [INFO] GateNode:   Detection optimization:
2026-01-20 11:05:40,327 [INFO] GateNode:     - Detections run: 68
2026-01-20 11:05:40,327 [INFO] GateNode:     - Detections skipped: 0
2026-01-20 11:05:40,327 [INFO] GateNode:     - Skip rate: 0.0%
2026-01-20 11:05:40,327 [INFO] GateNode:   Unique tracks created: 2
2026-01-20 11:05:40,327 [INFO] GateNode:   Tracks confirmed: 2
2026-01-20 11:05:40,327 [INFO] GateNode:   Tracks recognized: 3
2026-01-20 11:05:40,327 [INFO] GateNode:   People counts:
2026-01-20 11:05:40,327 [INFO] GateNode:     - Authorized: 3
2026-01-20 11:05:40,327 [INFO] GateNode:     - Wanted: 0
2026-01-20 11:05:40,327 [INFO] GateNode:     - Unknown: 0
2026-01-20 11:05:40,327 [INFO] GateNode:   Gate opens: 3
2026-01-20 11:05:40,327 [INFO] GateNode:     - Authorized: 3
2026-01-20 11:05:40,327 [INFO] GateNode:     - Wanted: 0
2026-01-20 11:05:40,327 [INFO] GateNode:     - Rejected: 0
2026-01-20 11:05:40,343 [INFO] GateNode: ==================================================
